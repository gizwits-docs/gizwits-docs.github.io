
<!DOCTYPE html>
<html lang="en-us">
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">

  <title>Gizwits Cloud access for for ESP8266-SoC scheme - Gizwits</title>

  <meta http-equiv="X-UA-Compatible" content="IE=Edge, chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <meta name="Description" content="Gizwits Cloud access for for ESP8266-SoC scheme-Gizwits">
  <meta name="keywords" content="Gizwits Cloud access for for ESP8266-SoC scheme docs 文档中心 Gizwits">

  <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">
  <script src="/js/redirect.js"></script>

  <link rel="stylesheet" href="/css/pure.min.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/documentation.css?v=db6111caa3d210b6cb1d2dac5119d7c5">
  <link rel="stylesheet" href="/css/share.min.css">
</head>
  <body>
    <div class="header">
  <div class="container pure-g">
    <span class="brand pure-u-5-24">
      <a href="http://www.gizwits.com" class="logo">
      
      <img src="/images/logo_en.png" alt="logo">
      
      </a>
      <a class="text" href="/">Docs</a>
    </span>

    <div class="mobile-header" v="">
      <span class="title">Gizwits Docs</span>
      <i class="fa fa-caret-square-o-down fa-lg" aria-hidden="true"></i>
    </div>

    <span class="menu pure-u-16-24">
      <span class="header-search-btn" id="header-search-btn">
        <i class="fa fa-search"></i>
      </span>
      <ul class="levelA-wrapper">
        
          
            <li class="levelA"><a href="/en-us/overview/overview.html">Overview</a></li>
          
        
          
            <li class="levelA">
              Quick Start &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/quickstart/GizwitsQuickStart.html">Gizwits Quick Start within 5 mins</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/quickstart/glossary.html">Glossary</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              App Dev Guide &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/AppDevGetStarted.html">Get Started with APP Development</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/AppCodeAutoGenerator.html">Gizwits App Code Auto-Generator</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      APP Frame Guide &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSFramework.html">Gizwits App Framework for iOS</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSPushNotification.html">iOS Push Notification</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSAuthReSkin.html">iOS Authentication and Re-Skin</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSDevQuickStart.html">iOS APP Development Instruction</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidFramework.html">Gizwits App Framework for Android</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidPushNotification.html">Android Push Notification</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidAuthReSkin.html">Android Authentication and Re-Skin</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidDevQuickStart.html">Android APP Development Instruction</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/APICloudFramework.html">Gizwits App Framework for APICloud</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/VideoTutorials.html">How-to videos on Gizwits App Framework</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB has-submenu">
                      App SDK Guide &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSSDKA2.html">Gizwits App SDK for Android</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidSDKA2.html">Gizwits App SDK for iOS</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/APICloudSDK.html">Gizwits App SDK for APICloud</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/TransparentTransmission.html">Data Transparent Transmission</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/SDKLogCapture.html">SDK Debug Log Capture</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/SDKErrorCodes.html">SDK Error Codes</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/WeChatDev.html">WeChat SDK Guide</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/WechatDevIntro.html">WeChat Dev Intro</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      More Guide &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/AppDev/SharingSDK.html">Gizwits Device Sharing</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/ThirdpartyAuth.html">Set Up Third-party Authentication</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/AppDevFAQ.html">App Dev FAQ</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              DeviceDev &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/DeviceDev/DeviceDevIntro.html">Get started with device connection</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      Gizwits Cloud access &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/quickstart/UseMCU.html">MCU scheme</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/UseSOC.html">ESP8266-SoC scheme</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/module_source/module_source.html">Module Documents</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      GAgent Documents &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/gagent_info.html">Detailed annotation of GAgent</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/DebugTool.html">Firmware downloading on modules</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/debug/HF-LPB100.html">HF-LPB100</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/debug/HF-LPT120.html">HF-LPT120</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/debug/MXCHIP.html">MXCHIP</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/debug/ESP8266.html">ESP8266</a></li>
                        
                      </ul>
                    </li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              Cloud API &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/cloud/OpenAPI.html">Open API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/ent_dev.html">Enterprise Application Development</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/enterprise_api.html">Enterprise API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/NotificationAPI.html">Notification API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/WebsocketAPI.html">WebsocketAPI</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      API Tutorial &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseOpenAPI.html">Using Open API to control virtual device with Postman</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseSNoti.html">Real-time data synchronization demo for SNoti service</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseWebsocket.html">Control device using WebSocket</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/DataAPI.html">Aggregation API Guide</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/LinkageAPI.html">Device Linkage API Tutorial</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/devgroup_API.html">Device Grouping API Tutorial</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseQRCode.html">Generating device QR code for App binding</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/CloudFAQ.html">Cloud FAQ</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              User Manual &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/UserManual/ST_IoT.html">Gizwits and ST Make IoT Development Easy</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/DeviceDev/ST/ICUBEGIZWITS.html">Getting Started with I-CUBE-GiZWITS</a></li>
                  
                
              </ul>
            </li>
          
        
      </ul>
    </span>

    <span class="pure-u-3-24 lang-switch-wrapper">

      <i class="fa fa-globe" aria-hidden="true"></i>
      
      <a href="/zh-cn/overview/overview.html" class="lang-switch" data-lang="zh-cn">中文</a>
      
    </span>
  </div>

  <div class="header-search-panel" id="header-search-panel">
    <span class="header-search-close" id="header-search-close"><i class="fa fa-times" aria-hidden="true"></i></span>
    <div class="header-search-input-wrap" id="header-search-input-wrap">
      <input type="text" class="header-search-input" id="header-search-input" placeholder="请输入关键字">
      <span class="header-search-input-icon"><i class="fa fa-search"></i></span>
    </div>

    <div class="header-search-trend" id="header-search-trend">
      <div class="header-search-trend-title">热搜词</div>
      <div class="header-search-trend-items clearfix">
        
        <div class="header-search-trend-item" data-word="APP">APP</div>
        
        <div class="header-search-trend-item" data-word="SDK">SDK</div>
        
        <div class="header-search-trend-item" data-word="Android">Android</div>
        
        <div class="header-search-trend-item" data-word="ios">ios</div>
        
        <div class="header-search-trend-item" data-word="WIFI">WIFI</div>
        
      </div>
    </div>

    <div class="header-search-result hidden" id="header-search-result">
      <div class="header-search-result-head">
        搜索结果 &gt; <span id="header-search-keyword"></span>
      </div>
      <div class="header-search-result-items" id="header-search-result-items">
      </div>
    </div>
  </div>
</div>

    <div class="body">

  <div class="container clearfix">
    <div class="navigation">
      <div class="navigation-inner">
        <div class="nav-title">Content</div>
        <div class="nav"></div>
      </div>
    </div>
    <div class="markdown-body" data-spy="scroll" data-target=".navigation">
      <div class="heading">
        <div class="title">Gizwits Cloud access for for ESP8266-SoC scheme</div>
        <a class="edit-link" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> Edit</a>
      </div>
      <p>Attachment: LED lamp sample code for SoC rapid development </p>
<h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>GizLamp is a simple and common smart product, whose hardware circuitry and the program are not complicated. We will use the GoKit3(S) development board and Gizwits Cloud to demonstrate how to upgrade a traditional light bulb into a low-cost smart light which supports remote control.</p>
<p>This document takes the GizLamp project as an example to demonstrate how to quickly connect the device to Gizwits Cloud to achieve hardware intelligence with a GoKit3 (S) development board based on the SoC solution on the ESP8266 module.</p>
<h1 id="Development-process"><a href="#Development-process" class="headerlink" title="Development process"></a>Development process</h1><h2 id="1-Get-ready"><a href="#1-Get-ready" class="headerlink" title="1. Get ready"></a>1. Get ready</h2><h3 id="Hardware"><a href="#Hardware" class="headerlink" title="Hardware"></a>Hardware</h3><ul>
<li>1*GoKit3（S）development board</li>
<li>5*DuPont lines</li>
<li>1*USB to serial converter, such as ft232, cp2102, ch340</li>
<li>1*Micro USB cable</li>
</ul>
<h3 id="Software"><a href="#Software" class="headerlink" title="Software"></a>Software</h3><ul>
<li>Oracle VM VirtualBox</li>
<li>Espressif IDE for ESP8266</li>
</ul>
<h3 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h3><ul>
<li>A Gizwis developer account</li>
<li>Source code of WeChat Pet House for GoKit3(S) ESP8266 V03000003 (available from Gizwits Download Center)</li>
<li>The automatically generated SoC source code for GizLamp project (see the section below to generate it)</li>
</ul>
<h3 id="Additional-instructions"><a href="#Additional-instructions" class="headerlink" title="Additional instructions"></a>Additional instructions</h3><ul>
<li>If the GoKit3 is not available, you can refer to the GoKit3 schematic to set up your own hardware based on the ESP8266 module (the module’s flash size must be 4MB. The recommended module is AiThinker esp-12f). The schematic link: <a href="http://club.gizwits.com/thread-2889-1-1.html" target="_blank" rel="noopener">http://club.gizwits.com/thread-2889-1-1.html</a></li>
<li>GoKit3(S) purchase link: <a href="https://shop159680395.taobao.com/" target="_blank" rel="noopener">https://shop159680395.taobao.com/</a> (Gizwits official store)</li>
</ul>
<h2 id="2-Get-started"><a href="#2-Get-started" class="headerlink" title="2. Get started"></a>2. Get started</h2><h3 id="2-1-Sign-up-for-a-developer-account"><a href="#2-1-Sign-up-for-a-developer-account" class="headerlink" title="2.1 Sign up for a developer account"></a>2.1 Sign up for a developer account</h3><p>The Gizwits developer account is used for device connection, device management, OTA service, MCU development and other functions.</p>
<p>Registration link: <a href="http://dev.gizwits.com/zh-cn/developer/" target="_blank" rel="noopener">http://dev.gizwits.com/zh-cn/developer/</a></p>
<h3 id="2-2-Create-a-product"><a href="#2-2-Create-a-product" class="headerlink" title="2.2 Create a product"></a>2.2 Create a product</h3><p>After registration and logging into the Gizwits Developer Center, click the “Create New Product” button in the upper right corner of the Developer Center. Then type the new product name “GizLamp”, and select “Wi-Fi/Mobile” network access plan as shown below.</p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/11.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/12.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<h3 id="2-3-Create-data-points"><a href="#2-3-Create-data-points" class="headerlink" title="2.3 Create data points"></a>2.3 Create data points</h3><p>The data point refers to the functionality abstraction of a device product, which describes the product’s capabilities and its parameters. After data points are created, the data format of the device and the cloud communication can be determined, and the device and Gizwits Cloud can mutually recognize the data exchanged between the device and Gizwits Cloud.<br>For more details, click “Data point tutorial” in the upper right corner of Data Point page of Developer Center.</p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/13.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<p>Take the project “GizLamp” as an example to briefly describe the relationship between the cloud data points and the functions of the product. This project “GizLamp” needs to implement the function of turning on and off the lamp remotely, so you should create a “Boolean” data point in the cloud to complete this task, as shown below:</p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/14.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<p>After adding the data point, click “Apply” as the figure below.</p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/15.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<h3 id="2-4-Gizwits-Code-Auto-generator"><a href="#2-4-Gizwits-Code-Auto-generator" class="headerlink" title="2.4 Gizwits Code Auto-generator"></a>2.4 Gizwits Code Auto-generator</h3><h4 id="2-4-1-Introduction"><a href="#2-4-1-Introduction" class="headerlink" title="2.4.1 Introduction"></a>2.4.1 Introduction</h4><p>In order to lower the development barrier, shorten the development cycle, and reduce the development investment, Gizwits introduced the code auto-generator. Gizwits Cloud generates the device-side code for the corresponding product based on data points defined for the product. The automatically generated MCU code implements the packet encapsulation and parsing of the Gizwits communication protocol, the conversion logic of sensor data and communication data. All of these functions are integrated into a simple API set. When the device receives data from the cloud or the App, the program converts the data into corresponding events and notifies the application layer. You only needs to add the sensor control function to the corresponding event handler to complete the product development.</p>
<ul>
<li>For more information on Code Auto-generator, please click here.</li>
</ul>
<p>Get the cloud automatically generated source code based on ESP8266 for GizLamp project:<br>After creating the product data point, click “MCU Development” on the left navigation pane and select “SoC Solution”. Currently the default “Hardware Platform” for the SoC solution is ESP8266. Scroll down to the bottom to click “Generate Code” and wait for about 30 seconds to generate the gizLamp code package based on ESP8266. Then download the package. So that the downloaded file name is too long and contains ProductKey of the product, rename the downloaded file name to “GizLamp” as shown below:</p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/16.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<p>Note: Code Auto-generator for the SoC solution currently only supports ESP8266.</p>
<h4 id="2-4-2-Secondary-development-for-the-project-source-code"><a href="#2-4-2-Secondary-development-for-the-project-source-code" class="headerlink" title="2.4.2 Secondary development for the project source code"></a>2.4.2 Secondary development for the project source code</h4><p>In the SoC source code generated automatically by Gizwits Cloud, you only need to care about the files under “GizLamp\app”.</p>
<p>To add 8266 peripherals, </p>
<ul>
<li>Add the .c file of the driver for the corresponding peripheral under the “GizLamp\app\driver” directory</li>
<li>Add the .h file of the driver for the corresponding peripheral under the “GizLamp\app\include\driver” directory</li>
</ul>
<p>To process control commands sent from App through the cloud,</p>
<ul>
<li>Handle control events to actuate device peripherals in the GizwitsEventProcess() function of gizwits_product.c in the “GizLamp\app\Gizwits” directory<br>To report device status,</li>
<li>Implement data reporting in the userTimerFunc() function of user_main.c in the “GizLamp\app\user” directory.</li>
</ul>
<p>In this SoC source code, you just focus on above points. The module communication and the underlying drivers do not need developers to process and modify.</p>
<h4 id="2-4-3-Go-to-Gizwits-Download-Center-and-get-SoC-source-code-of-WeChat-Pet-House-for-GoKit3-S-ESP8266-V03000003"><a href="#2-4-3-Go-to-Gizwits-Download-Center-and-get-SoC-source-code-of-WeChat-Pet-House-for-GoKit3-S-ESP8266-V03000003" class="headerlink" title="2.4.3 Go to Gizwits Download Center and get SoC source code of WeChat Pet House for GoKit3(S) ESP8266 V03000003"></a>2.4.3 Go to Gizwits Download Center and get SoC source code of WeChat Pet House for GoKit3(S) ESP8266 V03000003</h4><p>“WeChat Pet House for GoKit3(S) ESP8266 V03000003” is a case implemented by Gizwits engineers using GoKit3(S) board based on the ESP8266 hardware platform. The source code of this case includes peripheral drivers for infrared sensor, temperature and humidity sensor, small motor, RGB light, key, etc., which can be directly used on any GoKit3(S) board, or can be ported to other ESP8266 boards for use. The source code is as follows:</p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/17.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/18.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<p>Note: For an in-depth understanding of the source code of WeChat Pet House case, you can refer to the following link:<br>Source code exploration of WeChat Pet House </p>
<h4 id="2-4-4-Port-c-and-h-files-of-the-LED-driver-to-the-“GizLamp”-project-from-“WeChat-Pet-House-for-GoKit3-S-ESP8266-V03000003”-project"><a href="#2-4-4-Port-c-and-h-files-of-the-LED-driver-to-the-“GizLamp”-project-from-“WeChat-Pet-House-for-GoKit3-S-ESP8266-V03000003”-project" class="headerlink" title="2.4.4 Port .c and .h files of the LED driver to the “GizLamp” project from “WeChat Pet House for GoKit3(S) ESP8266 V03000003” project"></a>2.4.4 Port .c and .h files of the LED driver to the “GizLamp” project from “WeChat Pet House for GoKit3(S) ESP8266 V03000003” project</h4><ul>
<li>Copy hal_rgb_led.c in gokit3_SoC_ESP8266_03000003_2016120711\app\driver directory to gizlamp\app\driver</li>
</ul>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/19.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<ul>
<li>Copy hal_rgb_led.h in gokit3_SoC_ESP8266_03000003_2016120711\app\include\driver directory to gizlamp\app\include\driver</li>
</ul>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/20.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<p>After completing the above preparation for the SoC code files, modify the corresponding c file below.</p>
<h4 id="2-4-5-Modify-SoC-code-files-for-GizLamp"><a href="#2-4-5-Modify-SoC-code-files-for-GizLamp" class="headerlink" title="2.4.5 Modify SoC code files for GizLamp"></a>2.4.5 Modify SoC code files for GizLamp</h4><p>Use Sublime software to open the entire project, and modify two files as follows:</p>
<ul>
<li>The driver initialization of peripherals is done in user_init() function of user_main.c file in GizLamp\app\user directory.</li>
<li>The data sent by the cloud is processed in gizwitsEventProcess() function of gizwits_product.c in GizLamp\app\Gizwits directory.</li>
</ul>
<p>The following picture shows where to modify the code.</p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/21.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<p>Other instructions for the automatically generated SoC source code</p>
<ul>
<li>The code for Key1 and Key2 is completed by Gizwits engineers based on GoKit3(S). If the hardware (not GoKit3) you set up by yourself is based on ESP8266, you need to modify the code for Key1 and Key2 to drive the GPIO port for your own keys. The code for keys is necessary because it is used to enable Wi-Fi to enter the corresponding configuration mode, and to push the SSID and password of the router to the Wi-Fi module through the App provided by Gizwits, so that the Wi-Fi module is connected to network.</li>
</ul>
<p>The code snippets for Key1 and Key2.</p>
<p>1) Key1</p>
<p>Used to reset Wi-Fi module or drop it into production mode</p>
<ul>
<li>reset Wi-Fi -&gt; Long press on Key1</li>
</ul>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/22.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<ul>
<li>Go into production testing mode -&gt; Short press on Key1</li>
</ul>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/23.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<p>2) Key2</p>
<p>Used to trigger the module enter AirlLink or SoftAP configuration mode</p>
<ul>
<li>AirlLink configuration mode -&gt; Long press on Key2</li>
</ul>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/24.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<ul>
<li>SoftAP configuration mode -&gt; Short press on Key2</li>
</ul>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/25.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<p>First add the following header file in user_main.c</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;driver/hal_rgb_led.h&quot;</span><br></pre></td></tr></table></figure>
<p>Then add the following two function calls in the “//user init” section of user_init() function to initialize the RGB light on GoKit3. The definitions of these two functions can be found in hal_rgb_led.c</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//LED initialization function calls</span><br><span class="line">rgbGpioInit()</span><br><span class="line">rgbLedInit();</span><br></pre></td></tr></table></figure>
<ul>
<li>Add the header file</li>
</ul>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/26.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<ul>
<li>Add the LED initialization function calls in user_init() function</li>
</ul>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/27.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"> </p>
<p>Then add the following header file in gizwits_product.c</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;driver/hal_rgb_led.h&quot;</span><br></pre></td></tr></table></figure>
<p>Then add the following function calls in the “//user handle” section of gizwitsEventProcess() function to drive the RGB light on GoKit3 to turn it on and off. To control the RGB light color combination, you can also modify the parameters of the rgbControl() function, each of which is set to a integer in the range of “0~254”. The rgbControl function can be found in the “hal_rgb_led.c” file.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//LED control function calls</span><br><span class="line">rgbControl(0,0,0);// turn off the light</span><br><span class="line">rgbControl (254, 254, 254); // turn on the light</span><br></pre></td></tr></table></figure>
<ul>
<li>Add the header file</li>
</ul>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/28.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<ul>
<li>Add the light switch event handling in gizwitsEventProcess() function</li>
</ul>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/29.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"> </p>
<p>After completing the above actions, conduct the SoC code compiling environment setup as follows.</p>
<h4 id="2-4-6-Set-up-SoC-code-compiling-environment"><a href="#2-4-6-Set-up-SoC-code-compiling-environment" class="headerlink" title="2.4.6 Set up SoC code compiling environment"></a>2.4.6 Set up SoC code compiling environment</h4><p>See Set up development environment</p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/30.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<p>Note: It is recommended to use Virtualbox and Espressif official development environment for secondary development.</p>
<h4 id="2-4-7-SoC-code-compilation"><a href="#2-4-7-SoC-code-compilation" class="headerlink" title="2.4.7 SoC code compilation"></a>2.4.7 SoC code compilation</h4><p>See Code compilation</p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/31.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<h4 id="2-4-8-Download-firmware"><a href="#2-4-8-Download-firmware" class="headerlink" title="2.4.8 Download firmware"></a>2.4.8 Download firmware</h4><p>See Download firmware</p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/32.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<h2 id="3-Debug-and-release"><a href="#3-Debug-and-release" class="headerlink" title="3. Debug and release"></a>3. Debug and release</h2><p>For product debug, see here.</p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/33.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<p>For product release, see here. </p>
<p><img src="../../../assets/en-us/DeviceDev/UseSoc/34.png" alt="Gizwits Cloud access for for ESP8266-SoC scheme"></p>
<h2 id="4-Project-completion"><a href="#4-Project-completion" class="headerlink" title="4. Project completion"></a>4. Project completion</h2><p>After the above steps finished, the entire project development is complete. If you need more open source projects and want to discuss with other developers, you can visit Gizwits Developer Community: <a href="http://club.gizwits.com/forum.php" target="_blank" rel="noopener">http://club.gizwits.com/forum.php</a></p>
<h1 id="Appendix-UART0-tutorial-for-ESP8266-SoC-schema"><a href="#Appendix-UART0-tutorial-for-ESP8266-SoC-schema" class="headerlink" title="Appendix: UART0 tutorial for ESP8266-SoC schema"></a>Appendix: UART0 tutorial for ESP8266-SoC schema</h1><p>Click here to download UART0 tutorial for ESP8266-SoC schema.</p>

    </div>
    
    <div class="widget-wrapper">
  <span class="widget">
    <div>
        <a id="share" target="_blank" title="Share">
          <span>Share</span>
        </a>
        <div class="social-share" data-initialized="true">
            <a href="#" class="social-share-icon icon-wechat"></a>
            <a href="#" class="social-share-icon icon-weibo"></a>
            <a href="#" class="social-share-icon icon-qq"></a>
            <a href="#" class="social-share-icon icon-qzone"></a>
            <a href="#" class="social-share-icon icon-douban"></a>
        </div>
    </div>
    <a href="http://y0.cn/docs" target="_blank" title="Register">
      <span>Register</span>
    </a>
    <a href="https://github.com/gizwits-docs/gizwits-docs/issues" target="_blank" title="Feed back">
      <span>Feed back</span>
    </a>
    <a href="#" title="Top"><i class="fa fa-angle-up fa-2x" aria-hidden="true"></i></a>
  </span>
</div>
  </div>
</div>

    <div class="footer">
  <div class="container">
    <p>
      <span><a href="http://www.gizwits.com" target="_blank">HOME</a></span>
      <span><a href="http://www.gizwits.com/about-us" target="_blank">ABOUT</a></span>
      <span><a href="http://www.gizwits.com/about-us#contact-us" target="_blank">CONTACT</a></span>
      <span><a href="http://www.gizwits.com/join-us" target="_blank">JOIN</a></span>
    </p>
    <p>&#169;2011-2017; Gizwits IoT Technology Co., Ltd. 粤ICP备11090211号</p>
  </div>
</div>

    <script src="/js/spin.min.js"></script>
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.hashchange.min.js"></script>
<script src="/js/clipboard.min.js"></script>
<script src="/js/scrollspy.js"></script>
<script src="/js/social-share.min.js"></script>
<script src="/js/documentation.js?v=d413cf8ceca4865c39c2dabcd3bc0077"></script>


<script type="text/javascript" src="http://webchat.7moor.com/javascripts/7moorInit.js?accessId=b01e0430-943a-11e6-8ad7-636675d9e71f&autoShow=true" async="async"></script>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?3787e6b3b29a084fde41f22828d89b7d";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
  </body>
</html>