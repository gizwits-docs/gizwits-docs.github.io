
<!DOCTYPE html>
<html lang="en-us">
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">

  <title>Guide to GAgent OTA - Gizwits</title>

  <meta http-equiv="X-UA-Compatible" content="IE=Edge, chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <meta name="Description" content="Guide to GAgent OTA-Gizwits">
  <meta name="keywords" content="Guide to GAgent OTA docs 文档中心 Gizwits">

  <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">
  <script src="/js/redirect.js"></script>

  <link rel="stylesheet" href="/css/pure.min.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/documentation.css?v=db6111caa3d210b6cb1d2dac5119d7c5">
  <link rel="stylesheet" href="/css/share.min.css">
</head>
  <body>
    <div class="header">
  <div class="container pure-g">
    <span class="brand pure-u-5-24">
      <a href="http://www.gizwits.com" class="logo">
      
      <img src="/images/logo_en.png" alt="logo">
      
      </a>
      <a class="text" href="/">Docs</a>
    </span>

    <div class="mobile-header" v>
      <span class="title">Gizwits Docs</span>
      <i class="fa fa-caret-square-o-down fa-lg" aria-hidden="true"></i>
    </div>

    <span class="menu pure-u-16-24">
      <span class="header-search-btn" id="header-search-btn">
        <i class="fa fa-search"></i>
      </span>
      <ul class="levelA-wrapper">
        
      </ul>
    </span>

    <span class="pure-u-3-24 lang-switch-wrapper">

      <i class="fa fa-globe" aria-hidden="true"></i>
      
      <a href="/zh-cn/overview/overview.html" class="lang-switch" data-lang="zh-cn">中文</a>
      
    </span>
  </div>

  <div class="header-search-panel" id="header-search-panel">
    <span class="header-search-close" id="header-search-close"><i class="fa fa-times" aria-hidden="true"></i></span>
    <div class="header-search-input-wrap" id="header-search-input-wrap">
      <input type="text" class="header-search-input" id="header-search-input" placeholder="请输入关键字">
      <span class="header-search-input-icon"><i class="fa fa-search"></i></span>
    </div>

    <div class="header-search-trend" id="header-search-trend">
      <div class="header-search-trend-title">热搜词</div>
      <div class="header-search-trend-items clearfix">
        
        <div class="header-search-trend-item" data-word="APP">APP</div>
        
        <div class="header-search-trend-item" data-word="SDK">SDK</div>
        
        <div class="header-search-trend-item" data-word="Android">Android</div>
        
        <div class="header-search-trend-item" data-word="ios">ios</div>
        
        <div class="header-search-trend-item" data-word="WIFI">WIFI</div>
        
      </div>
    </div>

    <div class="header-search-result hidden" id="header-search-result">
      <div class="header-search-result-head">
        搜索结果 &gt; <span id="header-search-keyword"></span>
      </div>
      <div class="header-search-result-items" id="header-search-result-items">
      </div>
    </div>
  </div>
</div>

    <div class="body">

  <div class="container clearfix">
    <div class="navigation">
      <div class="navigation-inner">
        <div class="nav-title">Content</div>
        <div class="nav"></div>
      </div>
    </div>
    <div class="markdown-body" data-spy="scroll" data-target=".navigation">
      <div class="heading">
        <div class="title">Guide to GAgent OTA</div>
        <a class="edit-link" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> Edit</a>
      </div>
      <h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>OTA refers to Over-the-Air Technology. When devices are connected to the cloud, it will receive an OTA upgrade notification and then can complete the firmware upgrade via HTTP. The Gizwits OTA service mainly provides the following functions:</p>
<ul>
<li>OTA notification service, which is an offline upgrade. When a new version of the device’s firmware is released, the OTA notification service will push the upgrade notification to the device.</li>
<li>OTA transparent transmission service, which is an online upgrade. The device firmware is transparently transmitted to the device through the M2M messaging service.</li>
<li>Support multiple pushes for one product.</li>
<li>Support upgrade for Wi-Fi module/MCU</li>
<li>Support user-defined upgrade. You can push the upgrade notification per MAC address, region, and old firmware version.</li>
<li>Support scheduled push. You can define push date and push time.</li>
<li>Support OTA progress statistics</li>
</ul>
<h1 id="OTA-process"><a href="#OTA-process" class="headerlink" title="OTA process"></a>OTA process</h1><p>OTA service for Wi-Fi products is available on Gizwits Developer Center and involves five steps: upload firmware, verify firmware, create rules, start push, and check result.</p>
<h2 id="Upload-firmware"><a href="#Upload-firmware" class="headerlink" title="Upload firmware"></a>Upload firmware</h2><p>Note: For the Guide to MCU OTA, see here.</p>
<p>For example, the module firmware of a device is: GAgent_00ESP826_04020019_16101715.bin, where the hardware version number is 00ESP826, and the software version number is 0040019.</p>
<p>Step 1: Go to the Firmware Upgrade (OTA) module and click [Create New Firmware].</p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/11.png" alt="OTA"> </p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/12.png" alt="OTA"> </p>
<p>Step 2: Download the GAgent firmware (Since the MCU firmware is provided by developers, for the MCU OTA, skip this step).</p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/13.png" alt="OTA"> </p>
<p>Note: For OTA of any High-Flying Wi-Fi module, you should use the web edition firmware. For OTA of ESP8266 Wi-Fi module, you should use the firmware file whose name does not contain combine. As shown below:</p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/14.png" alt="OTA"> </p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/15.png" alt="OTA">  </p>
<p>Step 3: Provide the firmware information.</p>
<p>The firmware series is identified by hardware version number + the first 4 digits of software version number + the firmware type. The firmware is identified by hardware version number + the last 4 digits of software version number + the firmware type. OTA upgrade needs to be performed within the same firmware series.</p>
<ul>
<li>Version name: Customized, composed of letters, numbers and underscores.</li>
<li>Firmware type: Support Wi-Fi and MCU. Choose Wi-Fi for GAgent OTA.</li>
<li>Push method: Support V4 and V4.1. For the push method, refer to the Tips.</li>
</ul>
<p>Note: Since the firmware of most of devices currently supports push method v4.1, this document only explains the v4.1 push method.</p>
<ul>
<li>Upload firmware: Upload the firmware you need to upgrade, such as: GAgent_00MX3162_04020004.bin (For Wi-Fi module, use bin file. For MCU, use bin/hex file)</li>
<li>Hardware version number: The uploaded firmware hardware version, must have 8 characters.</li>
<li>Software version number: The uploaded firmware software version, must be 8 characters.</li>
</ul>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/16.png" alt="OTA"> </p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/17.png" alt="OTA">  </p>
<p>Step 4: Click Finish, and the firmware state now is unverified.</p>
<h2 id="Verify-firmware"><a href="#Verify-firmware" class="headerlink" title="Verify firmware"></a>Verify firmware</h2><p>For security, OTA push can be done only if the firmware is verified. The firmware type Wi-Fi and MCU have the same firmware verification process. Before upgrading devices in large quantities, you need to select a single device to upgrade and verify the stability of the upgraded device. If there is no abnormality, the firmware becomes verified, indicating that a bulk OTA upgrade can be performed.</p>
<p>The firmware verification process is as follows:</p>
<p>Step 1: Re-confirm that the uploaded bin file and information are correct (The unverified firmware information can be edited).</p>
<p>Step 2: Connect the test device to the cloud and ensure that it is online.</p>
<p>Step 3: Enter the details page of the unverified firmware, click [Verify Firmware], and the following page appears:</p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/18.png" alt="OTA"> </p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/19.png" alt="OTA">  </p>
<p>Step 4: Type the MAC address of the online test device in the input box, and find the target device to start the upgrade.</p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/20.png" alt="OTA">  </p>
<p>Step 5: After the test device is successfully upgraded, prompt you to confirm whether the device works. At this point, in order to be cautious, please do a stability verification on the upgraded device to ensure that the upgraded device works properly. If there is no abnormality, please check the confirmation box manually.</p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/21.png" alt="OTA"> </p>
<h2 id="Create-a-push-rule"><a href="#Create-a-push-rule" class="headerlink" title="Create a push rule"></a>Create a push rule</h2><p>By creating different push rules, a product can get multiple push notifications. The push date and time can also be customized.</p>
<p>Step 1: In the firmware list, click the verified firmware name, and go to the [Push Firmware] page, and click [Add Rule].</p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/22.png" alt="OTA">  </p>
<p>Step 2: Add the push conditions. Push conditions can be specified based on device location or device MAC.</p>
<ol>
<li>Device location: type the location of target devices, such as “Guangdong Province - Guangzhou City” or specify the MAC addresses of target devices (one MAC address per line).</li>
<li>Firmware version: Select the firmware version of target devices to be upgraded.</li>
<li>Target devices: Refresh to display the intersection of condition 1 and condition 2, which is the number of target devices.</li>
<li>Push date (UTC): Set the push date range</li>
<li>Push time (UTC): Set the push time range.</li>
</ol>
<p>Note:</p>
<ol>
<li>Gizwits will send OTA push notifications once a day to the target devices which are online during the specified push date and push time. After receiving the push notification, the device actively downloads the firmware.</li>
<li>Once a device is powered on, it will actively ask Gizwits IoT Cloud if a firmware push is available. If the device meets the specified push conditions, it will actively download the firmware.</li>
<li>UTC time: Coordinated Universal Time. On the Add push conditions page, it will automatically present the local (Beijing) push time corresponding to the specified UTC time.</li>
</ol>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/23.png" alt="OTA">  </p>
<p>Step 3: Click [Save] to generate a push rule with a unique notification ID.</p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/24.png" alt="OTA"> </p>
<h2 id="Start-push"><a href="#Start-push" class="headerlink" title="Start push"></a>Start push</h2><p>Step 1. After creating a push rule, click the [Start Push] button.</p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/25.png" alt="OTA">  </p>
<p>Step 2: Confirm again and check the relevant agreement. At this point, the firmware push has been sent out and the status of the corresponding push rule will change. </p>
<p>Note: The target devices field shows the number of devices upgraded successfully and the total number of target devices.</p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/26.png" alt="OTA">  </p>
<p>Step 3: The devices online and offline will perform OTA upgrade automatically to the latest firmware and report the upgrade result to the cloud.</p>
<h2 id="Check-result"><a href="#Check-result" class="headerlink" title="Check result"></a>Check result</h2><p>Step 1: After the push is completed, refresh the push rule page and its status changes to “Completed”.</p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/27.png" alt="OTA">  </p>
<p>Step 2: Check result</p>
<p>Click the [View Details] to view the upgrade details of the individual device and you can export the upgrade result of all target devices.</p>
<p><img src="../../../assets/en-us/UserManual/GAgentOTA/28.png" alt="OTA"> </p>

    </div>
    
    <div class="widget-wrapper">
  <span class="widget">
    <div>
        <a id="share" target="_blank" title="Share">
          <span>Share</span>
        </a>
        <div class="social-share" data-initialized="true">
            <a href="#" class="social-share-icon icon-wechat"></a>
            <a href="#" class="social-share-icon icon-weibo"></a>
            <a href="#" class="social-share-icon icon-qq"></a>
            <a href="#" class="social-share-icon icon-qzone"></a>
            <a href="#" class="social-share-icon icon-douban"></a>
        </div>
    </div>
    <a href="http://y0.cn/docs" target="_blank" title="Register">
      <span>Register</span>
    </a>
    <a href="https://github.com/gizwits-docs/gizwits-docs/issues" target="_blank" title="Feed back">
      <span>Feed back</span>
    </a>
    <a href="#" title="Top"><i class="fa fa-angle-up fa-2x" aria-hidden="true"></i></a>
  </span>
</div>
  </div>
</div>

    <div class="footer">
  <div class="container">
    <p>
      <span><a href="http://www.gizwits.com" target="_blank">HOME</a></span>
      <span><a href="http://www.gizwits.com/about-us" target="_blank">ABOUT</a></span>
      <span><a href="http://www.gizwits.com/about-us#contact-us" target="_blank">CONTACT</a></span>
      <span><a href="http://www.gizwits.com/join-us" target="_blank">JOIN</a></span>
    </p>
    <p>&#169;2011-2017; Gizwits IoT Technology Co., Ltd. 粤ICP备11090211号</p>
  </div>
</div>

    <script src="/js/spin.min.js"></script>
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.hashchange.min.js"></script>
<script src="/js/clipboard.min.js"></script>
<script src="/js/scrollspy.js"></script>
<script src="/js/social-share.min.js"></script>
<script src="/js/documentation.js?v=d413cf8ceca4865c39c2dabcd3bc0077"></script>


<script type="text/javascript" src="http://webchat.7moor.com/javascripts/7moorInit.js?accessId=b01e0430-943a-11e6-8ad7-636675d9e71f&autoShow=true" async="async"></script>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?3787e6b3b29a084fde41f22828d89b7d";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
  </body>
</html>