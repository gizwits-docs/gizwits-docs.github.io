
<!DOCTYPE html>
<html lang="en-us">
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">

  <title>Guide to Gizwits ECE fog computing - Gizwits</title>

  <meta http-equiv="X-UA-Compatible" content="IE=Edge, chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <meta name="Description" content="Guide to Gizwits ECE fog computing-Gizwits">
  <meta name="keywords" content="Guide to Gizwits ECE fog computing docs 文档中心 Gizwits">

  <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">
  <script src="/js/redirect.js"></script>

  <link rel="stylesheet" href="/css/pure.min.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/documentation.css?v=db6111caa3d210b6cb1d2dac5119d7c5">
  <link rel="stylesheet" href="/css/share.min.css">
</head>
  <body>
    <div class="header">
  <div class="container pure-g">
    <span class="brand pure-u-5-24">
      <a href="http://www.gizwits.com" class="logo">
      
      <img src="/images/logo_en.png" alt="logo">
      
      </a>
      <a class="text" href="/">Docs</a>
    </span>

    <div class="mobile-header" v>
      <span class="title">Gizwits Docs</span>
      <i class="fa fa-caret-square-o-down fa-lg" aria-hidden="true"></i>
    </div>

    <span class="menu pure-u-16-24">
      <span class="header-search-btn" id="header-search-btn">
        <i class="fa fa-search"></i>
      </span>
      <ul class="levelA-wrapper">
        
          
            <li class="levelA"><a href="/en-us/overview/overview.html">Overview</a></li>
          
        
          
            <li class="levelA">
              Quick Start &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/quickstart/GizwitsQuickStart.html">Gizwits Quick Start within 5 mins</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/quickstart/glossary.html">Glossary</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              App Dev Guide &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/AppDevGetStarted.html">Get Started with APP Development</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/AppCodeAutoGenerator.html">Gizwits App Code Auto-Generator</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      APP Frame Guide &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSFramework.html">Gizwits App Framework for iOS</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSPushNotification.html">iOS Push Notification</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSAuthReSkin.html">iOS Authentication and Re-Skin</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSDevQuickStart.html">iOS APP Development Instruction</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidFramework.html">Gizwits App Framework for Android</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidPushNotification.html">Android Push Notification</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidAuthReSkin.html">Android Authentication and Re-Skin</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidDevQuickStart.html">Android APP Development Instruction</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/APICloudFramework.html">Gizwits App Framework for APICloud</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/VideoTutorials.html">How-to videos on Gizwits App Framework</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB has-submenu">
                      App SDK Guide &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidSDKA2.html">Gizwits App SDK for Android</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSSDKA2.html">Gizwits App SDK for iOS</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/APICloudSDK.html">Gizwits App SDK for APICloud</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/TransparentTransmission.html">Data Transparent Transmission</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/SDKLogCapture.html">SDK Debug Log Capture</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/SDKErrorCodes.html">SDK Error Codes</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/WeChatDev.html">WeChat SDK Guide</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/WechatDevIntro.html">WeChat Dev Intro</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      More Guides &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/AppDev/DeviceSharing.html">Gizwits Device Sharing</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/ThirdpartyAuth.html">Set Up Third-party Authentication</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/AppDevFAQ.html">App Dev FAQ</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              DeviceDev &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/DeviceDev/DeviceDevGetStarted.html">Get Started with Device Development</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      Device Connection &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/MCUScheme.html">Standalone MCU Scheme</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/SoCScheme.html">SoC Scheme</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/DeviceDev/ModuleResources.html">Module Resources</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      GAgent Guides &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/GAgent.html">GAgent</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/Debug/DebugTool.html">Gizwits Serial Port Debugger</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/Debug/HF-LPB100.html">HF-LPB100</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/Debug/HF-LPT120.html">HF-LPT120</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/Debug/MXCHIP.html">MXCHIP</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/Debug/ESP8266.html">ESP8266</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/Debug/G510.html">G510</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/Debug/DebugLog.html">Debug Log Capture</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB has-submenu">
                      Gizwits MCU Code Auto-generator &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/MCUCodeAutoGenerator.html">Gizwits MCU Code Auto-generator</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/PortingCommonPlatform.html">Porting Common Platform Edition of MCU SDK</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/PortingUsingSTM32CubeMX.html">Porting Using STM32CubeMX</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/TailoringMCUCode.html">Tailoring MCU SDK to Resource-Limited Platform</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB has-submenu">
                      GoKits &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/GoKit/Gokit3Intro.html">GoKit 3.X Instruction</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/GoKit/Gokit3Manual.html">GoKit 3.X Hardware Manual</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/GoKit/Gokit3SGetStarted.html">Gokit3(S) Development</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/GoKit/Gokit3SIntro.html">Gokit3(S) Instruction</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/GoKit/SetupGokit3SDevEnv.html">GoKit3(S) Dev Environment</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/GoKit/GokitSoCProgram.html">GoKit-SoC Program Exprience</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/GoKit/GokitMCUProgram.html">GoKit-MCU Program Experience</a></li>
                        
                      </ul>
                    </li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              Cloud API &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/cloud/OpenAPI.html">Open API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/ent_dev.html">Enterprise Application Development</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/enterprise_api.html">Enterprise API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/NotificationAPI.html">SNoti API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/WebsocketAPI.html">WebsocketAPI</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      API Tutorial &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseOpenAPI.html">Using Open API to control virtual device with Postman</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseSNoti.html">Real-time data synchronization demo for SNoti service</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseWebsocket.html">Control device using WebSocket</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/DataAPI.html">Aggregation API Guide</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/LinkageAPI.html">Device Linkage API Tutorial</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/devgroup_API.html">Device Grouping API Tutorial</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseQRCode.html">Generating device QR code for App binding</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/CloudFAQ.html">Cloud FAQ</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              User Manual &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/UserManual/ST_IoT.html">Gizwits and ST Make IoT Development Easy</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/DeviceDev/ST/ICUBEGIZWITS.html">Getting Started with I-CUBE-GiZWITS</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/UserManual/PromoteProduct.html">Promote personal type product to enterprise type product</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      OTA &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/UserManual/GAgentOTA.html">GAgent OTA</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/MCUOTA.html">MCU OTA</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/DeviceDev/EolTest.html">End-of-line test</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/UserManual/D3.html">Gizwits D3 Engine</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/UserManual/ECE.html">Gizwits ECE fog computing</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      Voice control with smart speakers &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/UserManual/EchoIntegration.html">Integration with Amazon Echo</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/UseEcho.html">Control Gokit using Amazon Echo</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseGoogleHome.html">Control Gokit using Google Home</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/UserManual/DataAnalytics.html">Gizwits Real-time Big Data Analytics</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/UserManual/GlobalDeployment.html">Global Network of Gizwits</a></li>
                  
                
              </ul>
            </li>
          
        
      </ul>
    </span>

    <span class="pure-u-3-24 lang-switch-wrapper">

      <i class="fa fa-globe" aria-hidden="true"></i>
      
      <a href="/zh-cn/overview/overview.html" class="lang-switch" data-lang="zh-cn">中文</a>
      
    </span>
  </div>

  <div class="header-search-panel" id="header-search-panel">
    <span class="header-search-close" id="header-search-close"><i class="fa fa-times" aria-hidden="true"></i></span>
    <div class="header-search-input-wrap" id="header-search-input-wrap">
      <input type="text" class="header-search-input" id="header-search-input" placeholder="请输入关键字">
      <span class="header-search-input-icon"><i class="fa fa-search"></i></span>
    </div>

    <div class="header-search-trend" id="header-search-trend">
      <div class="header-search-trend-title">热搜词</div>
      <div class="header-search-trend-items clearfix">
        
        <div class="header-search-trend-item" data-word="APP">APP</div>
        
        <div class="header-search-trend-item" data-word="SDK">SDK</div>
        
        <div class="header-search-trend-item" data-word="Android">Android</div>
        
        <div class="header-search-trend-item" data-word="ios">ios</div>
        
        <div class="header-search-trend-item" data-word="WIFI">WIFI</div>
        
      </div>
    </div>

    <div class="header-search-result hidden" id="header-search-result">
      <div class="header-search-result-head">
        搜索结果 &gt; <span id="header-search-keyword"></span>
      </div>
      <div class="header-search-result-items" id="header-search-result-items">
      </div>
    </div>
  </div>
</div>

    <div class="body">

  <div class="container clearfix">
    <div class="navigation">
      <div class="navigation-inner">
        <div class="nav-title">Content</div>
        <div class="nav"></div>
      </div>
    </div>
    <div class="markdown-body" data-spy="scroll" data-target=".navigation">
      <div class="heading">
        <div class="title">Guide to Gizwits ECE fog computing</div>
        <a class="edit-link" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> Edit</a>
      </div>
      <h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><h2 id="1-What-is-Gizwits-ECE-fog-computing"><a href="#1-What-is-Gizwits-ECE-fog-computing" class="headerlink" title="1. What is Gizwits ECE fog computing?"></a>1. What is Gizwits ECE fog computing?</h2><p>The Gizwits fog computing can be thought of as the computing on the device side, which empowers the cloud to meet some data process requirements that cannot be satisfied in the cloud. For example, a device is required to collect sensor data 50 times per second. It is impossible to transmit the data to the cloud in real time and then process it. Instead, it is more suitable for the device to perform necessary data process, transmit the processing result to the cloud, or directly convert the analysis result of the data into an action, which thereby improves the real-time performance.</p>
<p>The Gizwits ECE fog computing mainly integrates the device communication module with mobile phones by using the compiled language (C language) in combination with the scripting language (Lua script). The script is used to configure the adaptation policies in the cloud, which are then push to devices or mobile phones. After receiving the new adaptation policies, the device executes the adaptation policies immediately. The adaptation policy is responsible for the transport layer protocol adaptation, service layer protocol adaptation, and data process method.</p>
<h2 id="2-Values"><a href="#2-Values" class="headerlink" title="2. Values"></a>2. Values</h2><p>Gizwits ECE fog computing is able to reduce development costs and shorten development cycle.</p>
<ul>
<li>Scripts are configured in the cloud that will dynamically change module behaviors;</li>
<li>Advance the ability of self-adaptation for data communication on various types of devices;</li>
<li>Advance the automatic conversion capability of protocols for various types of devices;</li>
<li>Advance the ability to implement and execute data process algorithms on the device side.</li>
</ul>
<p><img src="../../../assets/en-us/UserManual/ECE/11.png" alt="ECE"> </p>
<h2 id="3-Terms"><a href="#3-Terms" class="headerlink" title="3 Terms"></a>3 Terms</h2><h3 id="3-1-ECE"><a href="#3-1-ECE" class="headerlink" title="3.1 ECE"></a>3.1 ECE</h3><p>ECE is the abbreviation of Edge Computing Engine, which means the edge computing engine.</p>
<h3 id="3-2-PK"><a href="#3-2-PK" class="headerlink" title="3.2 PK"></a>3.2 PK</h3><p>PK is the abbreviation of Product Key, which is the unique number of a product created in the Gizwits Developer Center. Each type of products shares the same Product Key.</p>
<h3 id="3-3-Protocol-script"><a href="#3-3-Protocol-script" class="headerlink" title="3.3 Protocol script"></a>3.3 Protocol script</h3><p>A protocol script performs the conversion between the product custom protocol and the Gizwits protocol to facilitate devices to access Gizwits IoT Cloud easily.</p>
<h3 id="3-4-Communication-configuration"><a href="#3-4-Communication-configuration" class="headerlink" title="3.4 Communication configuration"></a>3.4 Communication configuration</h3><p>The communication configuration is used to set the communication parameters (baud rate, etc.) of serial communication.</p>
<h3 id="3-5-Mini-Application"><a href="#3-5-Mini-Application" class="headerlink" title="3.5 Mini Application"></a>3.5 Mini Application</h3><p>A Mini Application is used to set the data communication method (packet format, encryption type, etc.), data processing (calculate the maximum/ minimum value, etc.), and the device behavior parameters (sampling frequency, heartbeat time, etc.).</p>
<h3 id="3-6-Lua-script"><a href="#3-6-Lua-script" class="headerlink" title="3.6 Lua script"></a>3.6 Lua script</h3><p>Lua is an embedded scripting language that is configurable and extensible.</p>
<h1 id="Scenarios"><a href="#Scenarios" class="headerlink" title="Scenarios"></a>Scenarios</h1><h2 id="1-Target-users"><a href="#1-Target-users" class="headerlink" title="1. Target users"></a>1. Target users</h2><p>Gizwits ECE fog computing serves enterprise developers, while it is not open to individual developers.</p>
<h2 id="2-Communication-Configuration"><a href="#2-Communication-Configuration" class="headerlink" title="2. Communication Configuration"></a>2. Communication Configuration</h2><p>Set the communication interface’s parameters, such as serial port number, baud rate, data packet format, and verification type in order for the module and device to send and receive data normally.</p>
<h3 id="2-1-Scenario-description"><a href="#2-1-Scenario-description" class="headerlink" title="2.1 Scenario description"></a>2.1 Scenario description</h3><p>Scenario 1: Baud rate conversion</p>
<p>Convert the original serial port number of a device from COM3 to COM4 through Lua script, and convert the baud rate from 9600 to 38400.</p>
<p>Go to the ECE fog computing service. In the [Communication Configuration], type the prepared script (as shown below, the device serial port number is converted from COM3 to COM4, the baud rate is converted from 9600 to 38400), and click [Push] , then set the push address.</p>
<p><img src="../../../assets/en-us/UserManual/ECE/12.png" alt="ECE">  </p>
<p>At this point, we can see that when the program starts up (as shown below), the serial port number opened is COM3, and the baud rate is 9600. Then receive the message push from the cloud during the run. After receiving the message, the module will restart the serial port and open COM4 according to the set parameters, and its baud rate is 38400.</p>
<p><img src="../../../assets/en-us/UserManual/ECE/13.png" alt="ECE">  </p>
<p>In this way, Gizwits general-purpose modules can perform data communication with various devices only by simple configuration in the cloud, and neither side needs to do secondary development.</p>
<h3 id="2-2-Process"><a href="#2-2-Process" class="headerlink" title="2.2 Process"></a>2.2 Process</h3><p><img src="../../../assets/en-us/UserManual/ECE/14.png" alt="ECE"> </p>
<p>Process description:</p>
<ol>
<li>The Lua script of communication configuration provides users with a script sample header. You can add, modify, and clear the script. Currently, the script only keeps the latest version;</li>
<li>The communication configuration can dynamically change the communication parameters;</li>
<li>Upload: If you don’t want to push the script after it is prepared, you can upload the script to the cloud. If you neither push nor upload the script, it script will not be saved. </li>
<li>The communication configuration can only be push to modules with the specified MAC addresses or all MAC addresses of the specified PK. After clicking Push, the script will also be uploaded to the cloud for saving.</li>
</ol>
<p><img src="../../../assets/en-us/UserManual/ECE/15.png" alt="ECE"> </p>
<h2 id="3-Mini-Application"><a href="#3-Mini-Application" class="headerlink" title="3. Mini Application"></a>3. Mini Application</h2><p>Mini Application refers to the format conversion of data acquired by the device, the behaviors of the device (e.g., setting the frequency at which the device collects the temperature) and the post-processing of the data (e.g., calculating the maximum, minimum, and average values of the temperature).</p>
<h3 id="3-1-Scenario-description"><a href="#3-1-Scenario-description" class="headerlink" title="3.1 Scenario description"></a>3.1 Scenario description</h3><p>Scenario 1: Business layer protocol conversion</p>
<p>Convert the raw binary data collected by the device into a JSON string and then report it to the cloud.</p>
<p>Go to the ECE fog computing service. In the [Mini Application], type the protocol conversion script (as shown below), and then click [Push] to set the push address.</p>
<p><img src="../../../assets/en-us/UserManual/ECE/16.png" alt="ECE">  </p>
<p>You can see that the original binary data is output at first (as shown in the figure below). After receiving the script sent by the cloud, the module outputs the formatted JSON string.</p>
<p><img src="../../../assets/en-us/UserManual/ECE/17.png" alt="ECE">  </p>
<p>In this way, you can continue using the device’s proprietary protocol without modification. After the interpreting method is configured in the cloud, it can perform automatic adaptation and interpretation.</p>
<p>Scenario 2: Add a device behavior</p>
<p>When the temperature exceeds 70 degrees, turn on the red light to report an alarm.</p>
<p>Go to the ECE fog computing service. In the [Mini Application], type the action script (as shown below), and then click [Push] to set the push address.</p>
<p><img src="../../../assets/en-us/UserManual/ECE/18.png" alt="ECE">  </p>
<p>From the log (as shown below), you can see that the module has received the script.</p>
<p><img src="../../../assets/en-us/UserManual/ECE/19.png" alt="ECE">  </p>
<p>At this point, we use a heat gun to heat the sensor (as shown below), you can see that after the temperature is more than 70 degrees, the device turn on the red light.</p>
<p><img src="../../../assets/en-us/UserManual/ECE/20.png" alt="ECE">  </p>
<p>In this way, more features of the device can be easily added or changed later, without upgrading the firmware.</p>
<p>Scenario 3: Advanced data calculation</p>
<p>Let the device perform more efficient and complex data calculation, and convert the calculation result into JSON format and upload it to the cloud.</p>
<p>Assume that the temperature sampling frequency of the device defaults to once every 5 seconds. In order to get more sampling points, we set the new sampling frequency of the device to once every100 milliseconds. After 5 seconds, calculate the average, maximum, minimum and variance with the collected data and then report them to the cloud.</p>
<p>In both cases, the data is reported once every 5 seconds, but the latter is more data-worthy.</p>
<p>Go to the ECE fog computing service. In the [Mini Application], type the script of device behavior settings and data analysis (as shown below), and then click [Push] to set the push address.</p>
<p><img src="../../../assets/en-us/UserManual/ECE/21.png" alt="ECE">  </p>
<p>You can see that the device collects the temperature once every 5 seconds (as shown in the figure below) and uploads it. After receiving the configuration script of the cloud, the device changes the temperature sampling frequency to once every 100 milliseconds, then calculates the result and reports it to the cloud.</p>
<p><img src="../../../assets/en-us/UserManual/ECE/22.png" alt="ECE">  </p>
<p>In this way, the balance of cloud computing and fog computing can be achieved, and the fog end can do more real-time data processing to yield maximum data value.</p>
<h3 id="3-2-Push-process-of-Mini-Application-for-module"><a href="#3-2-Push-process-of-Mini-Application-for-module" class="headerlink" title="3.2 Push process of Mini Application for module"></a>3.2 Push process of Mini Application for module</h3><p><img src="../../../assets/en-us/UserManual/ECE/23.png" alt="ECE"> </p>
<p>Process description:</p>
<ol>
<li>The Mini Application Lua script provides users with a script sample header. You can add, modify, and clear the script. Currently, the script only keeps the latest version;</li>
<li>Mini Applications can be used for automatic adaptation and interpretation of business layer protocols, adding or modifying device behaviors, and allowing devices to perform more efficient and complex data calculations;</li>
<li>Upload: If you don’t want to push the script after it is prepared, you can upload the script to the cloud. If you neither push nor upload the script, it script will not be saved. </li>
<li>The Mini Application can be push to modules or mobile phones;</li>
</ol>
<p>The Mini Application can be push to modules with the specified MAC addresses or all MAC addresses of the specified PK.<br>After clicking Push, the script will also be uploaded to the cloud for saving. </p>
<p><img src="../../../assets/en-us/UserManual/ECE/24.png" alt="ECE"> </p>
<h3 id="3-3-Push-process-of-Mini-Application-for-mobile-phone"><a href="#3-3-Push-process-of-Mini-Application-for-mobile-phone" class="headerlink" title="3.3 Push process of Mini Application for mobile phone"></a>3.3 Push process of Mini Application for mobile phone</h3><p><img src="../../../assets/en-us/UserManual/ECE/25.png" alt="ECE"> </p>
<p>Process description:</p>
<ol>
<li>Same as [2.3.2 Push process of Mini Application for module] 1, 2, 3;</li>
<li>Mini Application can be push to modules or mobile phones:</li>
</ol>
<ul>
<li>On a device, it can also be applied only to devices that are bound by the current mobile phone user under this Product_Key;</li>
<li>If the push targets are mobile phones, neither the push range nor the MAC address is required;</li>
<li>After clicking Push, the script will also be uploaded to the cloud for saving.</li>
</ul>
<p><img src="../../../assets/en-us/UserManual/ECE/26.png" alt="ECE"> </p>
<h1 id="Specification"><a href="#Specification" class="headerlink" title="Specification"></a>Specification</h1><h2 id="1-Script-name"><a href="#1-Script-name" class="headerlink" title="1. Script name"></a>1. Script name</h2><p>The script name is required and user-defined, which can be up to 64 characters: [A-Z], [a-z], underscore (_), [0-9], and cannot start with a number. The script is unable to be push without a name that is used to:</p>
<ul>
<li>Help users to make a note of what the script is intended for when coming back to the ECE service page through the custom name.</li>
<li>Serve as the file name when the script is pushed; </li>
</ul>
<p>Currently, only the latest version is saved for the script.</p>
<h2 id="2-MAC-address"><a href="#2-MAC-address" class="headerlink" title="2. MAC address"></a>2. MAC address</h2><p>You can input at least one MAC address, and up to 50. Also, note that you can only have one entry on each line for each MAC address. When the scroll bar is shown on the right, it allows you to scroll up and down to go through all MAC entries, which will be saved after push.</p>
<p>The MAC address input function supports copy, paste, and delete.</p>
<p>The MAC address can be up to 12 characters: [A-Z], [a-z], [0-9]. The input operation is as follows:</p>
<p><img src="../../../assets/en-us/UserManual/ECE/27.png" alt="ECE"> </p>
<h1 id="Script-template"><a href="#Script-template" class="headerlink" title="Script template"></a>Script template</h1><p>After selecting an option for the protocol script types, the Lua script template is automatically generated. You should complete the script code below “–to do” rather than modify the script template itself.</p>
<h2 id="1-Script-template-for-Communication-Configuration"><a href="#1-Script-template-for-Communication-Configuration" class="headerlink" title="1. Script template for Communication Configuration"></a>1. Script template for Communication Configuration</h2><p>The script template for Communication Configuration is as follows.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">----------luaComInit----------</span><br><span class="line">--to do</span><br><span class="line"></span><br><span class="line">----------luaComInit end----------</span><br></pre></td></tr></table></figure>
<p>Description: Set the parameters (Baud rate, etc.) of serial communication.</p>
<h2 id="2-Script-template-for-Mini-Application"><a href="#2-Script-template-for-Mini-Application" class="headerlink" title="2. Script template for Mini Application"></a>2. Script template for Mini Application</h2><p>The script template for Mini Application is split into several modules, each of which has a specific module template, where the corresponding module implementation should be added below the “–to do”. The following Mini Application modules are currently supported:</p>
<h3 id="2-1-Initialization-module"><a href="#2-1-Initialization-module" class="headerlink" title="2.1 Initialization module"></a>2.1 Initialization module</h3><p>The script template for initialization module is as follows:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">----------luaInit----------</span><br><span class="line">--to do</span><br><span class="line"></span><br><span class="line">----------luaInit end----------</span><br></pre></td></tr></table></figure>
<p>Description: Initialize the Lua environment, such as the application memory size.</p>
<h3 id="2-2-Common-functions-module"><a href="#2-2-Common-functions-module" class="headerlink" title="2.2 Common functions module"></a>2.2 Common functions module</h3><p>The script template for common functions module is as follows:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">----------luaUtils----------</span><br><span class="line">--to do</span><br><span class="line"></span><br><span class="line">----------luaUtils end----------</span><br></pre></td></tr></table></figure>
<p>Description: The common functions implemented by youself can be called by other Micro Application modules. If there is a function used by only one Mini Application module, put it in the corresponding module rather than in this module, otherwise it may cause other Mini Application modules to run out of memory and fail to execute.</p>
<h3 id="2-3-App-data-handling-module"><a href="#2-3-App-data-handling-module" class="headerlink" title="2.3 App data handling module"></a>2.3 App data handling module</h3><p>The script template for App data handling module is as follows:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">----------luaHandleDataFromApp----------</span><br><span class="line">--to do</span><br><span class="line"></span><br><span class="line">----------luaHandleDataFromApp end------</span><br></pre></td></tr></table></figure>
<p>Description: Process the service data sent from App.</p>
<h3 id="2-4-Device-data-handling-module"><a href="#2-4-Device-data-handling-module" class="headerlink" title="2.4 Device data handling module"></a>2.4 Device data handling module</h3><p>The script template for device data handling module is as follows:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">----------luaHandleDataFromDev----------</span><br><span class="line">--to do</span><br><span class="line"></span><br><span class="line">----------luaHandleDataFromDev end------</span><br></pre></td></tr></table></figure>
<p>Description: Process the business data sent by the device.</p>
<h1 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h1><h2 id="1-Which-wireless-communication-protocols-does-the-ECE-service-support"><a href="#1-Which-wireless-communication-protocols-does-the-ECE-service-support" class="headerlink" title="1. Which wireless communication protocols does the ECE service support?"></a>1. Which wireless communication protocols does the ECE service support?</h2><p>Currently supports Wi-Fi, Bluetooth, and GPRS products.</p>
<h2 id="2-Can-I-see-push-history"><a href="#2-Can-I-see-push-history" class="headerlink" title="2. Can I see push history?"></a>2. Can I see push history?</h2><p>Push history is currently not supported. Each time the script upload or script push saves only the latest script. Push history will be available in the future.</p>
<h2 id="3-Can-the-Lua-script-template-be-customized"><a href="#3-Can-the-Lua-script-template-be-customized" class="headerlink" title="3. Can the Lua script template be customized?"></a>3. Can the Lua script template be customized?</h2><p>No, the script template is fixed and used to identify which script type it belongs to.</p>
<h2 id="4-What-should-I-do-if-the-MAC-address-input-is-incorrect"><a href="#4-What-should-I-do-if-the-MAC-address-input-is-incorrect" class="headerlink" title="4. What should I do if the MAC address input is incorrect?"></a>4. What should I do if the MAC address input is incorrect?</h2><p>After you click Push button, the cloud will check the MAC addresses. If the MAC address input is incorrect, a pop-up window will prompt you. You only needs to go back to the push configuration page, where the wrong MAC addresses are highlighted in red font, and delete or update them.</p>
<h2 id="5-Will-the-module-or-mobile-phone-provide-feedback-when-it-receives-the-Lua-script-successfully"><a href="#5-Will-the-module-or-mobile-phone-provide-feedback-when-it-receives-the-Lua-script-successfully" class="headerlink" title="5. Will the module or mobile phone provide feedback when it receives the Lua script successfully?"></a>5. Will the module or mobile phone provide feedback when it receives the Lua script successfully?</h2><p>Currently the module or mobile phone cannot provide the feedback on whether it receives the Lua script successfully, while only gives feedback to the user on whether the push is successful.</p>
<h2 id="6-Does-it-support-the-script-file-upload"><a href="#6-Does-it-support-the-script-file-upload" class="headerlink" title="6. Does it support the script file upload?"></a>6. Does it support the script file upload?</h2><p>No, it does not support script file upload currently, which will be available in the future.</p>

    </div>
    
    <div class="widget-wrapper">
  <span class="widget">
    <div>
        <a id="share" target="_blank" title="Share">
          <span>Share</span>
        </a>
        <div class="social-share" data-initialized="true">
            <a href="#" class="social-share-icon icon-wechat"></a>
            <a href="#" class="social-share-icon icon-weibo"></a>
            <a href="#" class="social-share-icon icon-qq"></a>
            <a href="#" class="social-share-icon icon-qzone"></a>
            <a href="#" class="social-share-icon icon-douban"></a>
        </div>
    </div>
    <a href="http://y0.cn/docs" target="_blank" title="Register">
      <span>Register</span>
    </a>
    <a href="https://github.com/gizwits-docs/gizwits-docs/issues" target="_blank" title="Feed back">
      <span>Feed back</span>
    </a>
    <a href="#" title="Top"><i class="fa fa-angle-up fa-2x" aria-hidden="true"></i></a>
  </span>
</div>
  </div>
</div>

    <div class="footer">
  <div class="container">
    <p>
      <span><a href="http://www.gizwits.com" target="_blank">HOME</a></span>
      <span><a href="http://www.gizwits.com/about-us" target="_blank">ABOUT</a></span>
      <span><a href="http://www.gizwits.com/about-us#contact-us" target="_blank">CONTACT</a></span>
      <span><a href="http://www.gizwits.com/join-us" target="_blank">JOIN</a></span>
    </p>
    <p>&#169;2011-2017; Gizwits IoT Technology Co., Ltd. 粤ICP备11090211号</p>
  </div>
</div>

    <script src="/js/spin.min.js"></script>
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.hashchange.min.js"></script>
<script src="/js/clipboard.min.js"></script>
<script src="/js/scrollspy.js"></script>
<script src="/js/social-share.min.js"></script>
<script src="/js/documentation.js?v=d413cf8ceca4865c39c2dabcd3bc0077"></script>


<script type="text/javascript" src="http://webchat.7moor.com/javascripts/7moorInit.js?accessId=b01e0430-943a-11e6-8ad7-636675d9e71f&autoShow=true" async="async"></script>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?3787e6b3b29a084fde41f22828d89b7d";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
  </body>
</html>