
<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta charset="utf-8">

  <title>Gizwits Open API - Gizwits</title>

  <meta http-equiv="X-UA-Compatible" content="IE=Edge, chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <meta name="Description" content="Gizwits Open API-Gizwits">
  <meta name="keywords" content="Gizwits Open API docs 文档中心 Gizwits">

  <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">
  <script src="/js/redirect.js"></script>

  <link rel="stylesheet" href="/css/pure.min.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/documentation.css?v=db6111caa3d210b6cb1d2dac5119d7c5">
  <link rel="stylesheet" href="/css/share.min.css">
</head>
  <body>
    <div class="header">
  <div class="container pure-g">
    <span class="brand pure-u-5-24">
      <a href="http://www.gizwits.com" class="logo">
      
      <img src="/images/logo_en.png" alt="logo">
      
      </a>
      <a class="text" href="/">Docs</a>
    </span>

    <div class="mobile-header"v>
      <span class="title">Gizwits Docs</span>
      <i class="fa fa-caret-square-o-down fa-lg" aria-hidden="true"></i>
    </div>

    <span class="menu pure-u-16-24">
      <span class="header-search-btn" id="header-search-btn">
        <i class="fa fa-search"></i>
      </span>
      <ul class="levelA-wrapper">
        
          
            <li class="levelA"><a href="/en-us/overview/overview.html">Overview</a></li>
          
        
          
            <li class="levelA">
              Quick Start &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/quickstart/readme.html">Intro in 5 mins</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/quickstart/glossary.html">Glossary</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              App Dev Guide &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/quickstart/AppDevPrepare.html">App development preparation and guidance</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/UserManual/devApp.html">App code auto-generator</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      APP Frame Guide &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSSDKA2.html">iOS SDK A2</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSPushNotification.html">iOS Push Notification</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSAuthReSkin.html">iOS Auth Re Skin</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/iosframe.html">Quick start of iOS App development</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidSDKA2.html">Android SDK A2</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/androidframe.html">Android frame</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidPushNotification.html">Android Push Notification</a></li>
                        
                          <li class="levelC"><a href="/en-us/quickstart/AndroidAppFrame.html">Quick start of Android App development</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/APICloudFrame.html">API Cloud Frame</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/VideoTutorial.html">Video tutorial of the App open source framework</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB has-submenu">
                      App SDK Guide &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSSDKA2.html">iOS SDK</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidSDKA2.html">Android SDK</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/APICloudWifiSDK.html">APICloud SDK</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/SDKTransparentTransmission.html">Data transparent transmission of SDK</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/SDKLogCapture.html">SDK debug log capture</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/sdk_error.html">SDK error codes</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/WechatDev/WeChatDev.html">WeChat SDK Guide</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/WechatDev/WechatDevIntro.html">WeChat Dev Intro</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      More Guide &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/cloud/SharingSDK.html">Gizwits Device Sharing</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/third-party.html">Application process for third-party authentication</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/AppDevFAQ.html">App Dev FAQ</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              DeviceDev &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/DeviceDev/DeviceDevIntro.html">Get started with device connection</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      Gizwits Cloud access &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/quickstart/UseMCU.html">MCU scheme</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/UseSOC.html">ESP8266-SoC scheme</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/module_source/module_source.html">Module Documents</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      GAgent Documents &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/gagent_info.html">Detailed annotation of GAgent</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/DebugTool.html">Firmware downloading on modules</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/debug/HF-LPB100.html">HF-LPB100</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/debug/HF-LPT120.html">HF-LPT120</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/debug/MXCHIP.html">MXCHIP</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/debug/ESP8266.html">ESP8266</a></li>
                        
                      </ul>
                    </li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              Cloud API &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/cloud/OpenAPI.html">Open API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/ent_dev.html">Enterprise Application Development</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/enterprise_api.html">Enterprise API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/NotificationAPI.html">Notification API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/WebsocketAPI.html">WebsocketAPI</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      API Tutorial &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseOpenAPI.html">Using Open API to control virtual device with Postman</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseSNoti.html">Real-time data synchronization demo for SNoti service</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseWebsocket.html">Control device using WebSocket</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/DataAPI.html">Aggregation API Guide</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/LinkageAPI.html">Device Linkage API Tutorial</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/devgroup_API.html">Device Grouping API Tutorial</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseQRCode.html">Generating device QR code for App binding</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/CloudFAQ.html">Cloud FAQ</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              User Manual &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/UserManual/ST_IoT.html">Gizwits and ST Make IoT Development Easy</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/DeviceDev/STICUBEGIZWITS/STICUBEGIZWITS.html">Getting Started with I-CUBE-GizWits</a></li>
                  
                
              </ul>
            </li>
          
        
      </ul>
    </span>

    <span class="pure-u-3-24 lang-switch-wrapper">

      <i class="fa fa-globe" aria-hidden="true"></i>
      
      <a href="/zh-cn/overview/overview.html" class="lang-switch" data-lang="zh-cn">中文</a>
      
    </span>
  </div>

  <div class="header-search-panel" id="header-search-panel">
    <span class="header-search-close" id="header-search-close"><i class="fa fa-times" aria-hidden="true"></i></span>
    <div class="header-search-input-wrap" id="header-search-input-wrap">
      <input type="text" class="header-search-input" id="header-search-input" placeholder="请输入关键字">
      <span class="header-search-input-icon"><i class="fa fa-search"></i></span>
    </div>

    <div class="header-search-trend" id="header-search-trend">
      <div class="header-search-trend-title">热搜词</div>
      <div class="header-search-trend-items clearfix">
        
        <div class="header-search-trend-item" data-word="APP">APP</div>
        
        <div class="header-search-trend-item" data-word="SDK">SDK</div>
        
        <div class="header-search-trend-item" data-word="Android">Android</div>
        
        <div class="header-search-trend-item" data-word="ios">ios</div>
        
        <div class="header-search-trend-item" data-word="WIFI">WIFI</div>
        
      </div>
    </div>

    <div class="header-search-result hidden" id="header-search-result">
      <div class="header-search-result-head">
        搜索结果 &gt; <span id="header-search-keyword"></span>
      </div>
      <div class="header-search-result-items" id="header-search-result-items">
      </div>
    </div>
  </div>
</div>

    <div class="body">

  <div class="container clearfix">
    <div class="navigation">
      <div class="navigation-inner">
        <div class="nav-title">Content</div>
        <div class="nav"></div>
      </div>
    </div>
    <div class="markdown-body" data-spy="scroll" data-target=".navigation">
      <div class="heading">
        <div class="title">Gizwits Open API</div>
        <a class="edit-link" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> Edit</a>
      </div>
      <ul>
<li>Ctrl + F on a Windows, is the keyboard shortcut for quick search.</li>
<li>Command+F on a Mac, is the keyboard shortcut for quick search.</li>
</ul>
<h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>Gizwits is an open IoT device management platform that provides enterprise and individual developers with services such as fast device onboarding, provisioning, authentication, configuration, remote monitoring, task scheduling, and advanced data analytics. </p>
<p>Gizwits exposes a significant range of functionality via Open API. </p>
<p>The Open API lets developers securely authenticate users with custom applications so they can control the Gizwits powered devices associated with their accounts.</p>
<h1 id="APIs"><a href="#APIs" class="headerlink" title="APIs"></a>APIs</h1><p>The following are several sets of API lists that specify the structure of the data that is exchanged between your applications and the Gizwits Cloud.</p>
<ul>
<li>User Management：Manage user registration, login, password reset etc.</li>
</ul>
<table>
<thead>
<tr>
<th>API List</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>get_app_users</td>
<td>Get user information</td>
</tr>
<tr>
<td>post_app_users</td>
<td>Create a new user</td>
</tr>
<tr>
<td>put_app_users</td>
<td>Update user information</td>
</tr>
<tr>
<td>post_app_login</td>
<td>User login</td>
</tr>
<tr>
<td>post_app_request_token</td>
<td>Request an access token</td>
</tr>
<tr>
<td>post_app_reset_password</td>
<td>Request to password reset</td>
</tr>
<tr>
<td>post_app_sms_code</td>
<td>Get and verify a SMS verification code</td>
</tr>
<tr>
<td>get_app_verify_codes</td>
<td>Get an image verification code</td>
</tr>
<tr>
<td>post_app_verify_codes</td>
<td>Verify an image verification code</td>
</tr>
<tr>
<td>put_app_verify_codes</td>
<td>Verify a SMS verification code</td>
</tr>
</tbody>
</table>
<ul>
<li>Message Center：Get, mark as read and delete system messages etc.</li>
</ul>
<table>
<thead>
<tr>
<th>API List</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>get_app_messages</td>
<td>Get a message list</td>
</tr>
<tr>
<td>put_app_messages</td>
<td>Mark as read or delete a message</td>
</tr>
</tbody>
</table>
<ul>
<li>Binding Management：Bind/unbind user and devices.</li>
</ul>
<table>
<thead>
<tr>
<th>API List</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>post_app_bind_mac</td>
<td>Bind a device by its MAC address</td>
</tr>
<tr>
<td>delete_app_bindings</td>
<td>Unbind devices</td>
</tr>
<tr>
<td>get_app_bindings</td>
<td>Get a list of bound devices</td>
</tr>
<tr>
<td>post_app_bind_latest</td>
<td>Bind a device by its QRCode</td>
</tr>
<tr>
<td>put_app_bindings_did</td>
<td>Update binding information</td>
</tr>
<tr>
<td>get_app_did_bindings</td>
<td>Get guest users information for a given device</td>
</tr>
</tbody>
</table>
<ul>
<li>Device Remote Monitoring: Get device current status, reported raw data, online&amp;offline status records, and control it remotely etc.</li>
</ul>
<table>
<thead>
<tr>
<th>API List</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>get_app_devdata_did_latest</td>
<td>Get latest status of a given device</td>
</tr>
<tr>
<td>get_app_datapoint</td>
<td>Get the definition of product datapoint</td>
</tr>
<tr>
<td>get_app_devices_did</td>
<td>Get details of a given device</td>
</tr>
<tr>
<td>get_app_devices_did_raw_data</td>
<td>Get communication log and online&amp;offline status records of a device</td>
<td></td>
</tr>
<tr>
<td>post_app_control_did</td>
<td>Control a given device remotely</td>
</tr>
</tbody>
</table>
<ul>
<li>Device Sharing: Users share their own bound device to other users to bind, and unbind other users’ binding to their own devices, etc. </li>
</ul>
<table>
<thead>
<tr>
<th>API List</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>get_app_sharing</td>
<td>Get a list of sent and received sharing invitations</td>
</tr>
<tr>
<td>post_app_sharing</td>
<td>Create a sharing invitation</td>
</tr>
<tr>
<td>delete_app_sharing_id</td>
<td>Cancel/retract a sharing invitation</td>
</tr>
<tr>
<td>put_app_sharing_id</td>
<td>Accept/reject a sharing invitation</td>
</tr>
<tr>
<td>get_app_sharing_code</td>
<td>Get sharing invitation information of a given QRCode</td>
</tr>
<tr>
<td>post_app_sharing_code</td>
<td>Accept a sharing invitation by a given QRCode</td>
</tr>
<tr>
<td>put_app_sharing_idalias</td>
<td>Update a guest or owner alias of a given invitation</td>
</tr>
<tr>
<td>post_app_sharing_did_transfer</td>
<td>Transfer ownership of a device to a guest</td>
</tr>
</tbody>
</table>
<ul>
<li>Device Grouping: Group multiple devices so that send an instruction to control multiple devices incoming a group at once.</li>
</ul>
<table>
<thead>
<tr>
<th>API List</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>get_app_group</td>
<td>Get all user groups</td>
</tr>
<tr>
<td>post_app_group</td>
<td>Create a group</td>
</tr>
<tr>
<td>delete_app_group_id</td>
<td>Delete a device group</td>
</tr>
<tr>
<td>put_app_group_id</td>
<td>Update group information</td>
</tr>
<tr>
<td>get_app_group_id_devices</td>
<td>Get devices information of a given group</td>
</tr>
<tr>
<td>post_app_group_id_devices</td>
<td>Add devices into a group</td>
</tr>
<tr>
<td>delete_app_group_id_devices</td>
<td>Remove devices from a group</td>
</tr>
<tr>
<td>post_app_group_id_control</td>
<td>Control all devices in a given group</td>
</tr>
</tbody>
</table>
<ul>
<li>Devices Linkage: Set up rules of devices linkage that will be triggered by some devices to control other devices. </li>
</ul>
<table>
<thead>
<tr>
<th>API List</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>get_app_rules_params</td>
<td>Get datapoints of all products can be used by rules </td>
</tr>
<tr>
<td>get_app_rules</td>
<td>Get rules list for devices linkage</td>
</tr>
<tr>
<td>post_app_rules</td>
<td>Create a rule of devices linkage</td>
</tr>
<tr>
<td>delete_app_rules</td>
<td>Delete a rule of devices linkage</td>
</tr>
<tr>
<td>put_app_rules</td>
<td>Update a rule of devices linkage</td>
</tr>
</tbody>
</table>
<ul>
<li>User Scenario: Predefine a series of device actions according to a scenario that will be triggered when needed.</li>
</ul>
<table>
<thead>
<tr>
<th>API List</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>get_app_scene</td>
<td>Get all scenarios</td>
</tr>
<tr>
<td>post_app_scene</td>
<td>Create a scenario</td>
</tr>
<tr>
<td>delete_app_scene_id</td>
<td>Delete a scenario</td>
</tr>
<tr>
<td>put_app_scene_id</td>
<td>Update a scenario information</td>
</tr>
<tr>
<td>get_app_scene_id_task</td>
<td>Get task execution status of a given scenario</td>
</tr>
<tr>
<td>post_app_scene_id_task</td>
<td>Perform a scenario task</td>
</tr>
</tbody>
</table>
<ul>
<li>Task Scheduling Management: Addition, deletion, modification, etc. of device task scheduling.</li>
</ul>
<table>
<thead>
<tr>
<th>API List</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>get_app_devices_scheduler</td>
<td>Get a list of scheduled tasks</td>
</tr>
<tr>
<td>post_app_devices_scheduler</td>
<td>Create a scheduled task</td>
</tr>
<tr>
<td>delete_app_devices_scheduler</td>
<td>Delete a scheduled task</td>
</tr>
<tr>
<td>put_app_devices_scheduler</td>
<td>Update a scheduled task</td>
</tr>
</tbody>
</table>
<ul>
<li>Common Task Scheduling: Schedule tasks for individual devices, device groups, and scenarios.    </li>
</ul>
<table>
<thead>
<tr>
<th>API List</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>get_app_common_scheduler</td>
<td>Get a common scheduled task</td>
</tr>
<tr>
<td>post_app_common_scheduler</td>
<td>Create a common scheduled task</td>
</tr>
<tr>
<td>delete_app_common_scheduler</td>
<td>Delete a common scheduled task</td>
</tr>
<tr>
<td>put_app_common_scheduler</td>
<td>Update a common scheduled task</td>
</tr>
</tbody>
</table>
<ul>
<li>Advanced Data API: Retrieve aggregated values of daily maximum, average, etc. for the numeric data reported by devices.</li>
</ul>
<table>
<thead>
<tr>
<th>API List</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>get_app_bindings</td>
<td>Get an aggregated value of a given device</td>
</tr>
</tbody>
</table>
<ul>
<li>System Information: Check the current version of Open API and retrieve a list of all possible errors.</li>
</ul>
<table>
<thead>
<tr>
<th>API List</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>get_status</td>
<td>Get service status</td>
</tr>
<tr>
<td>get_errors</td>
<td>Get error status code list</td>
</tr>
</tbody>
</table>
<h1 id="Specification"><a href="#Specification" class="headerlink" title="Specification"></a>Specification</h1><h2 id="Using-HTTP-API"><a href="#Using-HTTP-API" class="headerlink" title="Using HTTP API"></a>Using HTTP API</h2><p>Gizwits Open API exposes a significant range of functionality via a RESTful API set, which can be accessed via any client using standard HTTP.</p>
<p>Recommended HTTP Clients：</p>
<ul>
<li>GUI  client PostMan</li>
<li>Command-line client curl</li>
</ul>
<h2 id="HTTP-Request-Headers"><a href="#HTTP-Request-Headers" class="headerlink" title="HTTP Request Headers"></a>HTTP Request Headers</h2><h3 id="X-Gizwits-Application-Id"><a href="#X-Gizwits-Application-Id" class="headerlink" title="X-Gizwits-Application-Id"></a>X-Gizwits-Application-Id</h3><p>X-Gizwits-Application-Id referred to as AppID, is a unique identifier applied to the Gizwits platform. When issuing a HTTP request, your request must include this header parameters.</p>
<p>On the product page of the developer center, click the “Application Configuration” menu in the left column to create an application and get an AppID as well:</p>
<p><img src="../../../assets/en-us/cloud/get-appid.png" alt="get an AppID"></p>
<h3 id="X-Gizwits-User-token"><a href="#X-Gizwits-User-token" class="headerlink" title="X-Gizwits-User-token"></a>X-Gizwits-User-token</h3><p>X-Gizwits-User-token referred to as UserToken, represents the user context during the API interaction.</p>
<p>UserToken has a validity period. By default, it expires after 7 days.</p>
<p>UserToken can be obtained through user registration or login request. UserToken is the token field returned in the response, and expire_at field is the timestamp of UserToken expiration:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;uid&quot;: &quot;29db4f0d806e451a84264ba3da64d9de&quot;,</span><br><span class="line">  &quot;token&quot;: &quot;86a0ee91548f4971832e371811702316&quot;,</span><br><span class="line">  &quot;expire_at&quot;: 13894002020</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>A new UserToken is generated when login request is issued every time. Either the new UserToken or the old one can be used.</p>
<p>Because most of the Gizwits Open API are user-related, the call sequence of APIs is as follows generally:</p>
<ol>
<li>Check if there is a local UserToken, and if it expires</li>
<li>If there is no UserToken or UserToken expired, issue the user login request, get and save the returned UserToken</li>
<li>Use the UserToken to call other APIs</li>
</ol>
<h2 id="Encrypting-Parameters"><a href="#Encrypting-Parameters" class="headerlink" title="Encrypting Parameters"></a>Encrypting Parameters</h2><ul>
<li>Use 32-bit encryption uniformly</li>
<li>Lower: lowercase</li>
<li>Upper: uppercase</li>
</ul>
<p>Example：</p>
<p>lower (md5(product_secret + X-Gizwits-Timestamp ))</p>
<p>Select md5, 32 bits [small] for encryption, fill in product_secret and X-Gizwits-Timestamp, without the “+” sign, as shown below</p>
<p><img src="../../../assets/en-us/cloud/加密.png" alt="encryption"></p>
<h1 id="Online-debugger"><a href="#Online-debugger" class="headerlink" title="Online debugger"></a>Online debugger</h1><p>We provide online API debugging tools. The corresponding debug link is given in each API description.</p>
<p>The following example illustrates the usage of API debugging tools via user login:</p>
<ul>
<li>Click  user login to enter the API debugging page</li>
<li>There is a red exclamation mark on the right side of the API. After clicking it, a dialog box pops up prompting for the required header information.</li>
<li>The API needs to enter the X-Gizwits-Application-Id, get the AppID according to the previous instructions and fill it in, click “Authorize” to authorize</li>
<li>The page is automatically refreshed and the exclamation mark turns blue, indicating that the required header information has been filled in (filled does not necessarily indicate that the value is correct. If the value is incorrect, the corresponding result will be returned in the response)</li>
<li>Enter the parameter value in the input box (click the Example Value yellow box to the right of the parameter to enter the sample JSON quickly)</li>
<li>Click the “Try” button to complete the API request</li>
<li>The request completes, displaying the equivalent curl statement of local call, request URL, response body, response code, and response header</li>
</ul>
<h1 id="User-Management"><a href="#User-Management" class="headerlink" title="User Management"></a>User Management</h1><h2 id="Create-a-user"><a href="#Create-a-user" class="headerlink" title="Create a user"></a>Create a user</h2><p>Debug console</p>
<p>There are several ways to create new users:</p>
<ul>
<li>Anonymous registration, creating a user with a unique phone_id</li>
<li>User name&amp;password registration, create a user by username and passowrd</li>
<li>Mobile phone registration, create users via phone, password and code (SMS verification code). About SMS verification code acquisition, please refer to the following section.</li>
<li>Email registration, create users via email and password</li>
<li>Third-party authentication, creating a user through src, uid, and token in authData. Currently supports Tencent QQ, Sina Weibo, Baidu, WeChat, Facebook, Twitter, Google+, Amazon</li>
</ul>
<p>Third-party authentication notes:</p>
<ul>
<li>For Google and Amazon third-party authentication, token in authData needs to start with “Bearer”</li>
<li>For QQ and Twitter third-party authentication, it needs to fill API_KEY and API_Secret in Developer Center</li>
<li>Facebook, Twitter, Google, Amazon third-party authentication can only be used in the Eastern United States and Europe regions</li>
</ul>
<p>Password strength requirements:</p>
<ul>
<li>The password length is not less than 8 characters</li>
<li>The password should be combination of three of four types of characters, which are uppercase, lowercase, numbers, special symbols</li>
</ul>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">http://api.gizwits.com/app/users</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>phone_id</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Anonymous identity, the request parameter for anonymous registration</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>User name, the request parameter for user name&amp;password registration </td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Password, the request parameter for username&amp;password registration, mobile registration, email registration</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Email Address, the Request Parameter for Email registration </td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Mobile phone number, the request parameter for mobile phone registration</td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Verification code, SMS verification code, request parameter for mobile registration</td>
</tr>
<tr>
<td>lang</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Language:en,zh-cn</td>
</tr>
<tr>
<td>src</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Platform type: qq, sina, baidu, wechat, twitter, facebook, google, amazon</td>
</tr>
<tr>
<td>uid</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>returned uid from third-party authentication platform </td>
</tr>
<tr>
<td>token</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>returned token from third-party authentication platform </td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>uid</td>
<td>string</td>
<td>Unique user id</td>
</tr>
<tr>
<td>token</td>
<td>string</td>
<td>User token</td>
</tr>
<tr>
<td>expire_at</td>
<td>integer</td>
<td>Token expiration time (timestamp)</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;token&quot;: &quot;f8324047f20144f6914e7be19304f943&quot;,</span><br><span class="line">  &quot;uid&quot;: &quot;f082f4e235974cfeb6a1b40a6024f47e&quot;,</span><br><span class="line">  &quot;expire_at&quot;: 1504772734</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Get-user-information"><a href="#Get-user-information" class="headerlink" title="Get user information"></a>Get user information</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">http://api.gizwits.com/app/users</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>username</td>
<td>string</td>
<td>User name</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>Phone number</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Email address</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name</td>
</tr>
<tr>
<td>gender</td>
<td>string</td>
<td>Gender，M：Male, F：Female, N：Unknown</td>
</tr>
<tr>
<td>birthday</td>
<td>string</td>
<td>Birthday，date format：YYYY-MM-DD or MM-DD</td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>Address</td>
</tr>
<tr>
<td>lang</td>
<td>string</td>
<td>Language version,en, zh-cn</td>
</tr>
<tr>
<td>remar</td>
<td>string</td>
<td>Remark</td>
</tr>
<tr>
<td>uid</td>
<td>string</td>
<td>Unique user id</td>
</tr>
<tr>
<td>is_anonymous</td>
<td>boolean</td>
<td>Is anonymous user or not</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;username&quot;: &quot;gizwits&quot;,</span><br><span class="line">    &quot;uid&quot;: &quot;f082f4e235974cfeb6a1b40a6024f47e&quot;,</span><br><span class="line">    &quot;phone&quot;: &quot;18888888888&quot;,</span><br><span class="line">    &quot;birthday&quot;: &quot;2017-01-01&quot;,</span><br><span class="line">    &quot;address&quot;: &quot;guangzhou&quot;,</span><br><span class="line">    &quot;lang&quot;: &quot;zh-cn&quot;,</span><br><span class="line">    &quot;remark&quot;: &quot;remark&quot;,</span><br><span class="line">    &quot;name&quot;: &quot;gizwits&quot;,</span><br><span class="line">    &quot;is_anonymous&quot;: false,</span><br><span class="line">    &quot;gender&quot;: &quot;M&quot;,</span><br><span class="line">    &quot;email&quot;: &quot;club@gizwits.com&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Update-user-information"><a href="#Update-user-information" class="headerlink" title="Update user information"></a>Update user information</h2><p>Debug console</p>
<p>There are several corresponding ways to update user information for different registration types:</p>
<ul>
<li>Convert anonymously registered users to regular users: Enter username, password</li>
<li>Convert anonymously registered users to mobile users: Enter phone, password, code (returned by obtaining the verification code API)</li>
<li>Change Password: Enter old_pwd, new_pwd</li>
<li>Modify phone number: Enter phone, code (returned by obtaining the verification code API)</li>
<li>Modify basic information: name, gender, birthday, address, language version, remarks</li>
</ul>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PUT</span><br><span class="line">http://api.gizwits.com/app/users</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Username for converting an anonymous user to a regular user</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Password for converting an anonymous user to a regular user</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Mobile phone number for converting an anonymous user to a mobile registered user</td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Verification code for converting an anonymous user to a mobile registered user</td>
</tr>
<tr>
<td>old_pwd</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Old password, used to change the password</td>
</tr>
<tr>
<td>new_pwd</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>New password, used to change the password</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Registered email for converting an  anonymous user to a registered user</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Name</td>
</tr>
<tr>
<td>gender</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Gender, M: Male, F: Female, N: Unknown</td>
</tr>
<tr>
<td>birthday</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Birthday, date format: YYYY-MM-DD or MM-DD</td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>address</td>
</tr>
<tr>
<td>lang</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Language version en, zh-cn</td>
</tr>
<tr>
<td>remar</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Remark</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>updatedAt</td>
<td>string</td>
<td>Update time(UTC time)</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;updatedAt&quot;: &quot;2017-01-01T08:32:56.996638&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="User-login"><a href="#User-login" class="headerlink" title="User login"></a>User login</h2><p>Debug console</p>
<p>Anonymous and third-party authentication users invoke the creating user API to log in.</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">http://api.gizwits.com/app/login</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>User name，can be the user’s username/email/phone</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Password</td>
</tr>
<tr>
<td>lang</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Language version</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>uid</td>
<td>string</td>
<td>Unique user id</td>
</tr>
<tr>
<td>token</td>
<td>string</td>
<td>User token</td>
</tr>
<tr>
<td>expire_at</td>
<td>integer</td>
<td>Token expiration time (timestamp) </td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;token&quot;: &quot;f8324047f20144f6914e7be19304f943&quot;,</span><br><span class="line">  &quot;uid&quot;: &quot;f082f4e235974cfeb6a1b40a6024f47e&quot;,</span><br><span class="line">  &quot;expire_at&quot;: 1504772734</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Request-an-access-token"><a href="#Request-an-access-token" class="headerlink" title="Request an access token"></a>Request an access token</h2><p>Debug console</p>
<p>The token parameter obtained by the API is mainly used as a request parameter when the SMS verification code API and the image verification code API are invoked.</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST  </span><br><span class="line">http://api.gizwits.com/app/request_token</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-Application-Auth</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>MD5_32-bit encryption(appid + appsecret)</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>uid</td>
<td>string</td>
<td>Unique user id</td>
</tr>
<tr>
<td>expire_at</td>
<td>integer</td>
<td>Token expiration time (timestamp)</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;token&quot;: &quot;f8324047f20144f6914e7be19304f943&quot;,</span><br><span class="line">  &quot;expire_at&quot;: 1504772734</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Request-to-password-reset"><a href="#Request-to-password-reset" class="headerlink" title="Request to password reset"></a>Request to password reset</h2><p>Debug console</p>
<p>Only those users who have set email or phone can reset the password.</p>
<ul>
<li>Reset your password via email, just provide email, password reset link is sent to the email address</li>
<li>Reset the password via phone, provide phone number, new_pwd, code (returned by calling get SMS verification code API)</li>
</ul>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">http://api.gizwits.com/app/reset_password</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Registered e-mail</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Registered phone number</td>
</tr>
<tr>
<td>new_pwd</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>New password</td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Verification code</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h2 id="Get-and-verify-a-SMS-verification-code"><a href="#Get-and-verify-a-SMS-verification-code" class="headerlink" title="Get and verify a SMS verification code"></a>Get and verify a SMS verification code</h2><p>Debug console</p>
<p>The main uses of the SMS verification code are:</p>
<ul>
<li>Registration for mobile phone user</li>
<li>Password reset for mobile phone user</li>
<li>Other sensitive actions that you think require a SMS verification code<br>The API can obtain and verify the verification code:</li>
<li>Obtaining SMS verification code only needs phone number</li>
<li>Verifying SMS verification code needs phone number and code</li>
</ul>
<p>About foreign mobile phone number</p>
<ul>
<li>To send a SMS verification code to a foreign mobile phone number, follow the format: +{country code}{mobile phone number}. Assume that an U.S. phone number (country code is 1) is 4246531234, then the phone should be filled as “+14246531234”</li>
<li>The list of country codes can be obtained here.</li>
</ul>
<p>The SMS verification code is invalid immediately after the code is verified correctly. The default validity period is 24 hours.</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">http://api.gizwits.com/app/sms_code</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token, obtained by request an access token API</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Phone number</td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Verification code</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h2 id="Get-an-image-verification-code"><a href="#Get-an-image-verification-code" class="headerlink" title="Get an image verification code"></a>Get an image verification code</h2><p>Debug console</p>
<p>The returned captcha_url is the URL of the image captcha and the image is displayed to the user.</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">http://api.gizwits.com/app/verify/codes</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token, obtained by request an access token API</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>captcha_url</td>
<td>string</td>
<td>URL of the image captcha</td>
</tr>
<tr>
<td>captcha_id</td>
<td>string</td>
<td>ID of the image captcha</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;captcha_url&quot;: &quot;http://api.gizwits.com/captcha/image/22d9cdc8edb13fd19f770afbed45351831403b5d/&quot;,</span><br><span class="line">  &quot;captcha_id&quot;: &quot;22d9cdc8edb13fd19f770afbed45351831403b5d&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Verify-an-image-verification-code"><a href="#Verify-an-image-verification-code" class="headerlink" title="Verify an image verification code"></a>Verify an image verification code</h2><p>Debug console</p>
<p>Verify the image captcha obtained by get image verification code API, if it is entered correctly, a SMS verification code will be sent. </p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">http://api.gizwits.com/app/verify/codes</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token, obtained by request an access token API</td>
</tr>
<tr>
<td>captcha_id</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>ID of the image captcha</td>
</tr>
<tr>
<td>captcha_code</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Value of the image captcha</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Phone number</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h2 id="Verify-a-SMS-verification-code"><a href="#Verify-a-SMS-verification-code" class="headerlink" title="Verify a SMS verification code"></a>Verify a SMS verification code</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/verify/codes</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token, obtained by request an access token API</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Phone number</td>
</tr>
<tr>
<td>sms_code</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Verification code</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h1 id="Message-Center"><a href="#Message-Center" class="headerlink" title="Message Center"></a>Message Center</h1><h2 id="Get-a-message-list"><a href="#Get-a-message-list" class="headerlink" title="Get a message list"></a>Get a message list</h2><p>Debug console</p>
<p>Get user’s messages, such as sharing information, messages pushed by D3 rules.<br>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/messages?type=1&amp;limit=20&amp;skip=0</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>Yes</td>
<td>query</td>
<td>Message type，1：device sharing message</td>
</tr>
<tr>
<td>limit</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>The number of returned items   </td>
</tr>
<tr>
<td>skip</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>Indicates the number of skipped messages, indirectly indicating the number of pages.</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>integer</td>
<td>Total number of messages</td>
</tr>
<tr>
<td>limit</td>
<td>integer</td>
<td>The number of returned items   </td>
</tr>
<tr>
<td>skip</td>
<td>integer</td>
<td>Number of skipped messages</td>
</tr>
<tr>
<td>previous</td>
<td>string</td>
<td>Request address for previous page</td>
</tr>
<tr>
<td>next</td>
<td>string</td>
<td>Request address for next page</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Message ID</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>Message creation time (UTC time)</td>
</tr>
<tr>
<td>updated_at</td>
<td>string</td>
<td>Message update time (UTC time)</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>Message type, 1: Device sharing message</td>
</tr>
<tr>
<td>status</td>
<td>integer</td>
<td>Message status, 0 unread, 1 read, 2 delete</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>Information content</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;meta&quot;: &#123;</span><br><span class="line">    &quot;total&quot;: 50,</span><br><span class="line">    &quot;limit&quot;: 1,</span><br><span class="line">    &quot;skip&quot;: 0,</span><br><span class="line">    &quot;previous&quot;: &quot;/app/messages?skip=5&amp;type=1&amp;limit=1&quot;,</span><br><span class="line">    &quot;next&quot;: &quot;/app/messages?skip=7&amp;type=1&amp;limit=1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;objects&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;status&quot;: 0,</span><br><span class="line">        &quot;created_at&quot;: &quot;2017-09-11T11:41:23Z&quot;,</span><br><span class="line">        &quot;updated_at&quot;: &quot;2017-09-11T11:41:23Z&quot;,</span><br><span class="line">        &quot;content&quot;: &quot;您给 188****888 共享了设备 微信宠物屋!&quot;,</span><br><span class="line">        &quot;type&quot;: 1,</span><br><span class="line">        &quot;id&quot;: &quot;59b676638c7d500018a9ed98&quot;</span><br><span class="line">     &#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Mark-as-read-or-delete-a-message"><a href="#Mark-as-read-or-delete-a-message" class="headerlink" title="Mark as read or delete a message"></a>Mark as read or delete a message</h2><p>Debug console</p>
<p>Mark user messages as read and delete messages.</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PUT</span><br><span class="line">https://api.gizwits.com/app/messages/&#123;id&#125;?status=1</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>Yes</td>
<td>path</td>
<td>Message ID</td>
</tr>
<tr>
<td>status</td>
<td>integer</td>
<td>Yes</td>
<td>query</td>
<td>Message status, 1 read, 2 delete</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h1 id="Binding-Management"><a href="#Binding-Management" class="headerlink" title="Binding Management"></a>Binding Management</h1><p>After a device is bound to a user, there is a corresponding “binding role” relationship between the device and the user.</p>
<p>Binding roles are divided into four types, first bind users: special; owner user: owner; guest user: guest; normal user: normal</p>
<h2 id="Role-scenarioes-description"><a href="#Role-scenarioes-description" class="headerlink" title="Role scenarioes description:"></a>Role scenarioes description:</h2><ul>
<li>When the device is not shared and the device is not bound by any user. An A user is bound to the device. The A user becomes a special user. When a B user is bound to the device. The user B becomes a normal user.</li>
<li>Let the A user be a special user and the B user be a normal user. When the A user releases the binding and the B user becomes a special user, there is no “binding role” relationship between the A user and the device.</li>
<li>Let the A user be a special user and the B user be a normal user. The product turns on device sharing. The A user shares the device with the C user. Whether or not the C user accepts it, the A user becomes the owner user, and the B user becomes the guest user.</li>
<li>When sharing is turned on and the device does not have any user bindings. An A user is bound to the device. The A user becomes owner user and other users cannot bind the device.</li>
<li>Assume the A user as owner and C user has not bound the device. The A user shares the device with the C user, and the C user accepts the sharing. A user is still the owner and C is the guest.</li>
<li>Assume the A user as owner and B user as guest. The A user unbinds the device. There is no “binding role” relationship between A or B users and the device.</li>
<li>Other users cannot share the device except the owner user, there is only one owner for each device.</li>
</ul>
<h2 id="Binding-device"><a href="#Binding-device" class="headerlink" title="Binding device"></a>Binding device</h2><p>You can bind the device in two ways:</p>
<ul>
<li>Bind the device with product_key and MAC address</li>
<li>Bind the device with a QRCode. The content of QRCode is encrypted product_key and MAC, so it is essentially the same as the above one. </li>
</ul>
<h2 id="Bind-a-device-by-its-MAC-address"><a href="#Bind-a-device-by-its-MAC-address" class="headerlink" title="Bind a device by its MAC address"></a>Bind a device by its MAC address</h2><p>Debug console</p>
<p>Bind the user to the device.</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">http://api.gizwits.com/app/bind_mac</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>X-Gizwits-Timestamp</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>Request timestamp, The difference with the server time cannot exceed 5 minutes</td>
</tr>
<tr>
<td>X-Gizwits-Signature</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>Signature, calculated as lower(md5(product_secret + X-Gizwits-Timestamp))</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Product_key</td>
</tr>
<tr>
<td>mac</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Device mac address</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Remark</td>
</tr>
<tr>
<td>dev_alias</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Device alias</td>
</tr>
<tr>
<td>set_owner</td>
<td>integer</td>
<td>No</td>
<td>body</td>
<td>Whether it is set to owner, it is only valid for products with device sharing enabled; 0 (default): not set as owner, 1: set as owner</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>product_key</td>
<td>string</td>
<td>Product_key</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Device ID</td>
</tr>
<tr>
<td>mac</td>
<td>string</td>
<td>Device mac address</td>
</tr>
<tr>
<td>is_online</td>
<td>boolean</td>
<td>Whether online or not</td>
</tr>
<tr>
<td>passcode</td>
<td>string</td>
<td>Device passcode</td>
</tr>
<tr>
<td>host</td>
<td>string</td>
<td>Server domain name</td>
</tr>
<tr>
<td>port</td>
<td>integer</td>
<td>MQTT port number for M2M</td>
</tr>
<tr>
<td>port_s</td>
<td>integer</td>
<td>MQTT SSL port number for M2M</td>
</tr>
<tr>
<td>ws_port</td>
<td>integer</td>
<td>Websocket port number</td>
</tr>
<tr>
<td>wss_port</td>
<td>integer</td>
<td>Websocket SSL port number</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>Device remark</td>
</tr>
<tr>
<td>is_disabled</td>
<td>boolean</td>
<td>Whether to log out or not</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Device type, Single Item Device: normal, Central Control Device: center_control, Central Control Sub Device: sub_dev</td>
</tr>
<tr>
<td>dev_alias</td>
<td>string</td>
<td>Device alias</td>
</tr>
<tr>
<td>dev_label</td>
<td>Array[string]</td>
<td>List of device tags, currently used for devices control via voice API</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>Binding role, Special user: special, Owner user: owner, Guest user: guest, Normal user: normal</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;product_key&quot;: &quot;4214bf2d79694a259232431b6f2ef46b&quot;,</span><br><span class="line">    &quot;did&quot;: &quot;gKufzxZwYeyd3Skbsb6mza&quot;,</span><br><span class="line">    &quot;mac&quot;: &quot;accf2350d446&quot;,</span><br><span class="line">    &quot;is_online&quot;: false,</span><br><span class="line">    &quot;passcode&quot;: &quot;JHHOOIWJBA&quot;,</span><br><span class="line">    &quot;host&quot;: &quot;m2m.gizwits.com&quot;,</span><br><span class="line">    &quot;port&quot;: 1883,</span><br><span class="line">    &quot;port_s&quot;: 8883,</span><br><span class="line">    &quot;ws_port&quot;: 8080,</span><br><span class="line">    &quot;wss_port&quot;: 8880,</span><br><span class="line">    &quot;remark&quot;: &quot;备注信息&quot;,</span><br><span class="line">    &quot;is_disabled&quot;: false,</span><br><span class="line">    &quot;type&quot;: &quot;normal&quot;,</span><br><span class="line">    &quot;dev_alias&quot;: &quot;设备别名&quot;,</span><br><span class="line">    &quot;dev_label&quot;: [],</span><br><span class="line">    &quot;role&quot;: &quot;special&quot;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Unbind-devices"><a href="#Unbind-devices" class="headerlink" title="Unbind devices"></a>Unbind devices</h2><p>Debug console</p>
<p>Unbind the bound devices by users.</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE</span><br><span class="line">https://api.gizwits.com/app/bindings</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>devices</td>
<td>Array</td>
<td>Yes</td>
<td>body</td>
<td>Devices array to be unbound</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Device ID</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Array[string]</td>
<td>Devcies that are unbound successfully</td>
</tr>
<tr>
<td>failed</td>
<td>Array[string]</td>
<td>Devcies that are unbound unsuccessfully</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;failed&quot;: [],</span><br><span class="line">    &quot;success&quot;: [</span><br><span class="line">        &quot;xAAcCYawLFD9JfMysqYf7d&quot;,</span><br><span class="line">        &quot;WCWGkbS4Ttynzwx9brzpEa&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Get-a-list-of-bound-devices"><a href="#Get-a-list-of-bound-devices" class="headerlink" title="Get a list of bound devices"></a>Get a list of bound devices</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/bindings</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>limit</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>The number of returned items   </td>
</tr>
<tr>
<td>skip</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>Indicates the number of skipped records, indirectly indicating the number of pages.</td>
</tr>
<tr>
<td>show_disabled</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>Whether to display the device that has been logged out, 1: Display, 0: Do not display</td>
</tr>
<tr>
<td>show_proto_ver</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>Whether to display the device communication protocol version, 1: Display, 0: Do not display</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>devices</td>
<td>Array</td>
<td>A group of bound devices</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Product_key</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Device ID</td>
</tr>
<tr>
<td>mac</td>
<td>string</td>
<td>Device MAC address</td>
</tr>
<tr>
<td>is_online</td>
<td>boolean</td>
<td>Whether online</td>
</tr>
<tr>
<td>passcode</td>
<td>string</td>
<td>Device passcode</td>
</tr>
<tr>
<td>host</td>
<td>string</td>
<td>Server domain name</td>
</tr>
<tr>
<td>port</td>
<td>integer</td>
<td>MQTT port number for M2M</td>
</tr>
<tr>
<td>port_s</td>
<td>integer</td>
<td>MQTT SSL port number for M2M</td>
</tr>
<tr>
<td>ws_port</td>
<td>integer</td>
<td>Websocket port number</td>
</tr>
<tr>
<td>wss_port</td>
<td>integer</td>
<td>Websocket SSL port number</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>Device remark</td>
</tr>
<tr>
<td>is_disabled</td>
<td>boolean</td>
<td>Whether is logged out</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Device Type, Single Item Device: normal, Central Control Device: center_control, Central Control Sub Device: sub_dev</td>
</tr>
<tr>
<td>dev_alias</td>
<td>string</td>
<td>Device alias</td>
</tr>
<tr>
<td>dev_label</td>
<td>Array[string]</td>
<td>List of device tags, currently used for devices control via voice API</td>
</tr>
<tr>
<td>proto_ver</td>
<td>string</td>
<td>Protocol version number, ‘01’, ‘01_01’, ‘03’, ‘04’ </td>
</tr>
<tr>
<td>wifi_soft_version</td>
<td>string</td>
<td>WiFi version number</td>
</tr>
<tr>
<td>is_sandbox</td>
<td>boolean</td>
<td>Whether connecting the sandbox environment</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>Binding role, Special user: special, Owner user: owner, Guest user: guest, Normal user: normal</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;devices&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">          &quot;product_key&quot;: &quot;55af63815cc34788aeeb9451a2454412&quot;,</span><br><span class="line">          &quot;did&quot;: &quot;7r7u8XPkCRLGVYTYrtjoCB&quot;,</span><br><span class="line">          &quot;mac&quot;: &quot;virtual:site&quot;,</span><br><span class="line">          &quot;is_online&quot;: false,</span><br><span class="line">          &quot;passcode&quot;: &quot;123456&quot;,</span><br><span class="line">          &quot;host&quot;: &quot;sandbox.gizwits.com&quot;,</span><br><span class="line">          &quot;port&quot;: 1883,</span><br><span class="line">          &quot;port_s&quot;: 8883,</span><br><span class="line">          &quot;ws_port&quot;: 8080,</span><br><span class="line">          &quot;wss_port&quot;: 8880,</span><br><span class="line">          &quot;remark&quot;: &quot;备注信息&quot;,</span><br><span class="line">          &quot;is_disabled&quot;: false,</span><br><span class="line">          &quot;type&quot;: &quot;normal&quot;,</span><br><span class="line">          &quot;dev_alias&quot;: &quot;设备别名&quot;,</span><br><span class="line">          &quot;dev_label&quot;: [],</span><br><span class="line">          &quot;proto_ver&quot;: &quot;04&quot;,</span><br><span class="line">          &quot;wifi_soft_version&quot;: null,</span><br><span class="line">          &quot;is_sandbox&quot;: true,</span><br><span class="line">          &quot;role&quot;: &quot;special&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">          &quot;product_key&quot;: &quot;4214bf2d79694a259232431b6f22f46b&quot;,</span><br><span class="line">          &quot;did&quot;: &quot;gKufzxZwYeyd3Skbsb6mza&quot;,</span><br><span class="line">          &quot;mac&quot;: &quot;accf2350d447&quot;,</span><br><span class="line">          &quot;is_online&quot;: false,</span><br><span class="line">          &quot;passcode&quot;: &quot;JHHOOIWJBA&quot;,</span><br><span class="line">          &quot;host&quot;: &quot;m2m.gizwits.com&quot;,</span><br><span class="line">          &quot;port&quot;: 1883,</span><br><span class="line">          &quot;port_s&quot;: 8883,</span><br><span class="line">          &quot;ws_port&quot;: 8080,</span><br><span class="line">          &quot;wss_port&quot;: 8880,</span><br><span class="line">          &quot;remark&quot;: &quot;备注信息&quot;,</span><br><span class="line">          &quot;is_disabled&quot;: false,</span><br><span class="line">          &quot;type&quot;: &quot;normal&quot;,</span><br><span class="line">          &quot;dev_alias&quot;: &quot;设备别名&quot;,</span><br><span class="line">          &quot;dev_label&quot;: [],</span><br><span class="line">          &quot;proto_ver&quot;: &quot;04&quot;,</span><br><span class="line">          &quot;wifi_soft_version&quot;: &quot;04000006&quot;,</span><br><span class="line">          &quot;is_sandbox&quot;: true,</span><br><span class="line">          &quot;role&quot;: &quot;special&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Bind-a-device-by-its-QRCode"><a href="#Bind-a-device-by-its-QRCode" class="headerlink" title="Bind a device by its QRCode"></a>Bind a device by its QRCode</h2><p>Debug console</p>
<p>Only the QR code generated by Gizwits QR code generation service can be used to invoke this API (Here is the tutorial). </p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/bind_latest</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>qr_content</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>The string obtained by scanning the QR code</td>
</tr>
<tr>
<td>set_owner</td>
<td>integer</td>
<td>No</td>
<td>body</td>
<td>Whether to set as owner, only valid for products with device sharing enabled; 0 (default): not to set as owner, 1: set as owner</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h2 id="Update-binding-information"><a href="#Update-binding-information" class="headerlink" title="Update binding information"></a>Update binding information</h2><p>Debug console</p>
<p>Users can modify aliases and notes of the bound devices.<br>The same device can be bound by multiple users. Each user can set aliases and notes for the device without conflict.</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PUT</span><br><span class="line">https://api.gizwits.com/app/bindings/&#123;did&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>integer</td>
<td>Yes</td>
<td>path</td>
<td>Device ID</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Device remark</td>
</tr>
<tr>
<td>dev_alias</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Device alias</td>
</tr>
<tr>
<td>dev_label</td>
<td>Array[string]</td>
<td>No</td>
<td>body</td>
<td>List of device tags, currently used for devices control via voice API</td>
</tr>
</tbody>
</table>
<p>Note: Fill in at least one of the body parameters.</p>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>remark</td>
<td>string</td>
<td>Device remark</td>
</tr>
<tr>
<td>dev_label</td>
<td>Array[string]</td>
<td>List of device tags, currently used for devices control via voice API</td>
</tr>
<tr>
<td>dev_alias</td>
<td>string</td>
<td>Device alias</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;remark&quot;: &quot;备注&quot;,</span><br><span class="line">    &quot;dev_label&quot;: [</span><br><span class="line">        &quot;标签1&quot;,</span><br><span class="line">        &quot;标签2&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;dev_alias&quot;: &quot;设备别名&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Get-guest-users-information-for-a-given-device"><a href="#Get-guest-users-information-for-a-given-device" class="headerlink" title="Get guest users information for a given device"></a>Get guest users information for a given device</h2><p>Debug console</p>
<p>View user information of those who accepted device sharing invitation.</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/&#123;did&#125;/bindings</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device ID</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>username</td>
<td>string</td>
<td>Account username, the middle 4 letters are replaced with *</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>Account phone, the middle 4 digits are replaced with *</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>The time the guest user accepted the sharing invitation (UTC time)</td>
</tr>
<tr>
<td>uid</td>
<td>string</td>
<td>Guest user’s UID</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>Account email, 4 characters before @  are replaced with *</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;username&quot;: &quot;2****2&quot;,</span><br><span class="line">        &quot;phone&quot;: null,</span><br><span class="line">        &quot;created_at&quot;: &quot;2017-09-19T07:12:32Z&quot;,</span><br><span class="line">        &quot;uid&quot;: &quot;c0a85d0773e24f15a6853f3148c82313&quot;,</span><br><span class="line">        &quot;email&quot;: null</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="Unbind-a-guest-user"><a href="#Unbind-a-guest-user" class="headerlink" title="Unbind a guest user"></a>Unbind a guest user</h2><p>Debug console</p>
<p>The owner removes the binding relationship between a guest user and the device.</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE</span><br><span class="line">https://api.gizwits.com/app/&#123;did&#125;/bindings</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device ID</td>
</tr>
<tr>
<td>uid</td>
<td>string</td>
<td>No</td>
<td>query</td>
<td>Guest user uid, cannot be yourself </td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h1 id="Device-Remote-Monitoring"><a href="#Device-Remote-Monitoring" class="headerlink" title="Device Remote Monitoring"></a>Device Remote Monitoring</h1><h2 id="Get-latest-status-of-a-given-device"><a href="#Get-latest-status-of-a-given-device" class="headerlink" title="Get latest status of a given device"></a>Get latest status of a given device</h2><p>Debug console</p>
<p>The API obtains the last reported data point value of the device within 24 hours.</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/devdata/&#123;did&#125;/latest</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device ID</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>did</td>
<td>string</td>
<td>Device ID</td>
</tr>
<tr>
<td>updated_at</td>
<td>string</td>
<td>Last update time</td>
</tr>
<tr>
<td>attr</td>
<td>object</td>
<td>Data points and their values</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;did&quot;: &quot;WCWGkbS42tynzwx9brzpEa&quot;,</span><br><span class="line">  &quot;updated_at&quot;: 1505809000,</span><br><span class="line">  &quot;attr&quot;: &#123;</span><br><span class="line">    &quot;alert_full&quot;: 0,</span><br><span class="line">    &quot;alert_shutdown&quot;: 0,</span><br><span class="line">    &quot;mode&quot;: &quot;制冷&quot;,</span><br><span class="line">    &quot;fan_swing&quot;: 0,</span><br><span class="line">    &quot;switch&quot;: 0,</span><br><span class="line">    &quot;fan_speed&quot;: &quot;低风&quot;,</span><br><span class="line">    &quot;fault_roomtemp&quot;: 0,</span><br><span class="line">    &quot;room_temp&quot;: -10,</span><br><span class="line">    &quot;set_temp&quot;: 16,</span><br><span class="line">    &quot;off_timing&quot;: 0,</span><br><span class="line">    &quot;on_timing&quot;: 0</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Get-the-definition-of-product-datapoint"><a href="#Get-the-definition-of-product-datapoint" class="headerlink" title="Get the definition of product datapoint"></a>Get the definition of product datapoint</h2><p>Debug console</p>
<p>API restrictions</p>
<ul>
<li>The association between AppID and product_key exists</li>
<li>AppID is super AppID</li>
</ul>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/datapoint?product_key=&#123;product_key&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Product product_key</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Product name</td>
</tr>
<tr>
<td>entities</td>
<td>Array</td>
<td>[EntityItem]</td>
</tr>
<tr>
<td>protocolType</td>
<td>string</td>
<td>Fixed value: standard</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Product_key</td>
</tr>
<tr>
<td>packetVersion</td>
<td>string</td>
<td>Fixed value: 4</td>
</tr>
<tr>
<td>ui</td>
<td>inline_model_7</td>
<td>Mobile phone client UI definition</td>
</tr>
<tr>
<td>EntityItem</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>Fixed value: 0</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Fixed value: entity0</td>
</tr>
<tr>
<td>display_name</td>
<td>string</td>
<td>Fixed value: Gizwits  development kit</td>
</tr>
<tr>
<td>attrs</td>
<td>Array</td>
<td>[AttrItem] </td>
</tr>
<tr>
<td>inline_model_7</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>object</td>
<td>inline_model_1</td>
<td></td>
</tr>
<tr>
<td>sections</td>
<td>Array</td>
<td>UI section list: [SectionItem]</td>
</tr>
<tr>
<td>AttrItem</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>Data point order</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Data point label name</td>
</tr>
<tr>
<td>display_name</td>
<td>string</td>
<td>Data point display name</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>Fixed value:…..</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Read/write type, W: Read/write, R: Read only, N: Alarm, E: Fault</td>
</tr>
<tr>
<td>data_type</td>
<td>string</td>
<td>Data type, bool: Boolean; ‘uint8’, ‘uint16’, ‘uint32’: numeric; enum: enumeration; binary: extended type</td>
</tr>
<tr>
<td>uint_spec</td>
<td>inline_model_4</td>
<td>This field is available when data_type is uint8/uint16/uint32</td>
</tr>
<tr>
<td>enum</td>
<td>Array</td>
<td>This field is available when data_type is enum</td>
</tr>
<tr>
<td>position</td>
<td>inline_model_5</td>
<td>Byte and bit description</td>
</tr>
<tr>
<td>inline_model_1</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>version</td>
<td>integer</td>
<td>Fixed value: 4</td>
</tr>
<tr>
<td>showEditButton</td>
<td>boolean</td>
<td>Fixed value: false</td>
</tr>
<tr>
<td>SectionItem</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>elements</td>
<td>Array</td>
<td>[ElementItem]</td>
</tr>
<tr>
<td>inline_model_4</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>min</td>
<td>integer</td>
<td>Minimum value</td>
</tr>
<tr>
<td>max</td>
<td>integer</td>
<td>Maximum value</td>
</tr>
<tr>
<td>ratio</td>
<td>number</td>
<td>Resolution k</td>
</tr>
<tr>
<td>addition</td>
<td>integer</td>
<td>Increment</td>
</tr>
<tr>
<td>inline_model_5</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>bit_offset</td>
<td>integer</td>
<td>Bit index, fixed to 0 if it’s variable-length protocol</td>
</tr>
<tr>
<td>len</td>
<td>integer</td>
<td>length</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>Units, ‘bit’, ‘byte’</td>
</tr>
<tr>
<td>byte_offset</td>
<td>integer</td>
<td>Byte index, fixed to 0 if it’s variable-length protocol</td>
</tr>
<tr>
<td>ElementItem</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>Data point display name</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>entity0.{data point distinguished name }</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>‘QBooleanElement’, ‘QFloatElement’, ‘QRadioElement’, ‘QMultilineElement’, ‘QLabelElement’</td>
</tr>
<tr>
<td>keyboardType</td>
<td>string</td>
<td>Keyboard type, fixed value, “NumbersAndPunctuation”</td>
</tr>
<tr>
<td>maxLength</td>
<td>integer</td>
<td>This field is available when the type is QMultilineElement. The maximum length, which is 2 times the defined length of the data point.</td>
</tr>
<tr>
<td>items</td>
<td>Array</td>
<td>This field is available when the type is QRadioElement, enumerated value list </td>
</tr>
<tr>
<td>boolValue</td>
<td>boolean</td>
<td>This field is available when the type is QBooleanElement, fixed value: false </td>
</tr>
<tr>
<td>bind</td>
<td>string</td>
<td>This field is available when the type is QFloatElement, fixed value: floatValue:float</td>
</tr>
<tr>
<td>maximumValue</td>
<td>number</td>
<td>This field is available when the type is QFloatElement, the maximum value</td>
</tr>
<tr>
<td>minimumValue</td>
<td>number</td>
<td>This field is available when the type is QFloatElement, the minimum value</td>
</tr>
<tr>
<td>value</td>
<td>integer</td>
<td>This field is available when the type is QFloatElement, fixed value: 0</td>
</tr>
<tr>
<td>object</td>
<td>inline_model_6</td>
<td></td>
</tr>
<tr>
<td>inline_model_6</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>action</td>
<td>string</td>
<td>Fixed value: entity0</td>
</tr>
<tr>
<td>bind</td>
<td>Array[string]</td>
<td>Fixed value: entity0.{data point distinguished name }</td>
</tr>
<tr>
<td>perm</td>
<td>string</td>
<td>Read/Write type: W: Read/Write, R: Read Only, N: Alarm, E: Fault </td>
</tr>
<tr>
<td>unit_spec</td>
<td>inline_model_2</td>
<td>This field is only available for type QFloatElement</td>
</tr>
<tr>
<td>inline_model_2</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>max</td>
<td>integer</td>
<td>Maximum value</td>
</tr>
<tr>
<td>step</td>
<td>integer</td>
<td>Step value</td>
</tr>
<tr>
<td>min</td>
<td>integer</td>
<td>Minimum value</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;宠物屋&quot;,</span><br><span class="line">  &quot;entities&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;id&quot;: 0,</span><br><span class="line">      &quot;display_name&quot;: &quot;机智云开发套件&quot;,</span><br><span class="line">      &quot;attrs&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;display_name&quot;: &quot;开启/关闭红色灯&quot;,</span><br><span class="line">          &quot;name&quot;: &quot;LED_OnOff&quot;,</span><br><span class="line">          &quot;data_type&quot;: &quot;bool&quot;,</span><br><span class="line">          &quot;position&quot;: &#123;</span><br><span class="line">            &quot;bit_offset&quot;: 0,</span><br><span class="line">            &quot;len&quot;: 1,</span><br><span class="line">            &quot;unit&quot;: &quot;bit&quot;,</span><br><span class="line">            &quot;byte_offset&quot;: 0</span><br><span class="line">          &#125;,</span><br><span class="line">          &quot;type&quot;: &quot;status_writable&quot;,</span><br><span class="line">          &quot;id&quot;: 0,</span><br><span class="line">          &quot;desc&quot;: &quot;.....&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      &quot;name&quot;: &quot;entity0&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;protocolType&quot;: &quot;standard&quot;,</span><br><span class="line">  &quot;product_key&quot;: &quot;268162799f764b999f834b5a02eb894d&quot;,</span><br><span class="line">  &quot;packetVersion&quot;: &quot;0x00000004&quot;,</span><br><span class="line">  &quot;ui&quot;: &#123;</span><br><span class="line">    &quot;object&quot;: &#123;</span><br><span class="line">      &quot;version&quot;: 4,</span><br><span class="line">      &quot;showEditButton&quot;: false</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;sections&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;elements&quot;: [</span><br><span class="line">          &#123;</span><br><span class="line">            &quot;boolValue&quot;: false,</span><br><span class="line">            &quot;object&quot;: &#123;</span><br><span class="line">              &quot;action&quot;: &quot;entity0&quot;,</span><br><span class="line">              &quot;bind&quot;: [</span><br><span class="line">                &quot;entity0.LED_OnOff&quot;</span><br><span class="line">              ],</span><br><span class="line">              &quot;perm&quot;: &quot;W&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;type&quot;: &quot;QBooleanElement&quot;,</span><br><span class="line">            &quot;key&quot;: &quot;entity0.LED_OnOff&quot;,</span><br><span class="line">            &quot;title&quot;: &quot;开启/关闭红色灯&quot;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Get-details-of-a-given-device"><a href="#Get-details-of-a-given-device" class="headerlink" title="Get details of a given device"></a>Get details of a given device</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/devices/&#123;did&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device ID</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>product_key</td>
<td>string</td>
<td>Product_key</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Device ID</td>
</tr>
<tr>
<td>mac</td>
<td>string</td>
<td>Device MAC address</td>
</tr>
<tr>
<td>is_online</td>
<td>boolean</td>
<td>Whether online</td>
</tr>
<tr>
<td>passcode</td>
<td>string</td>
<td>Device passcode</td>
</tr>
<tr>
<td>host</td>
<td>string</td>
<td>Server domain name</td>
</tr>
<tr>
<td>port</td>
<td>integer</td>
<td>MQTT port number of M2M</td>
</tr>
<tr>
<td>port_s</td>
<td>integer</td>
<td>MQTT SSL port number for M2M</td>
</tr>
<tr>
<td>ws_port</td>
<td>integer</td>
<td>Websocket port number</td>
</tr>
<tr>
<td>wss_port</td>
<td>integer</td>
<td>Websocket SSL port number</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>Device remark</td>
</tr>
<tr>
<td>is_disabled</td>
<td>boolean</td>
<td>Whether is logged out</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Device Type, Single Item Device: normal, Central Control Device: center_control, Central Control Sub Device: sub_dev</td>
</tr>
<tr>
<td>dev_alias</td>
<td>string</td>
<td>Device alias</td>
</tr>
<tr>
<td>dev_label</td>
<td>Array[string]</td>
<td>List of device tags, currently used for devices control via voice API</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>Binding role, Special user: special, Owner user: owner, Guest user: guest, Normal user: normal</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;remark&quot;: &quot;&quot;,</span><br><span class="line">  &quot;ws_port&quot;: 8080,</span><br><span class="line">  &quot;did&quot;: &quot;gKufzxZwYeyd3Skbsb6mzz&quot;,</span><br><span class="line">  &quot;port_s&quot;: 8883,</span><br><span class="line">  &quot;is_disabled&quot;: false,</span><br><span class="line">  &quot;host&quot;: &quot;m2m.gizwits.com&quot;,</span><br><span class="line">  &quot;product_key&quot;: &quot;4214bf2d79694a259232431b6f2ef46a&quot;,</span><br><span class="line">  &quot;port&quot;: 1883,</span><br><span class="line">  &quot;mac&quot;: &quot;accf2350d446&quot;,</span><br><span class="line">  &quot;role&quot;: &quot;guest&quot;,</span><br><span class="line">  &quot;is_online&quot;: false,</span><br><span class="line">  &quot;passcode&quot;: &quot;JHHOOIWJBY&quot;,</span><br><span class="line">  &quot;wss_port&quot;: 8880</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Get-communication-log-and-online-amp-offline-status-records-of-a-device"><a href="#Get-communication-log-and-online-amp-offline-status-records-of-a-device" class="headerlink" title="Get communication log and online&amp;offline status records of a device"></a>Get communication log and online&amp;offline status records of a device</h2><p>Debug console</p>
<p>Used to query the device’s communication log and online and offline status records for any two days in the last 7 days.</p>
<h3 id="Input-type-type"><a href="#Input-type-type" class="headerlink" title="Input type (type)"></a>Input type (type)</h3><ol>
<li>Communication log query, type field value is cmd</li>
<li>Online and offline status records query, the type field value is online</li>
</ol>
<h3 id="Output-type-type"><a href="#Output-type-type" class="headerlink" title="Output type (type)"></a>Output type (type)</h3><ul>
<li>meta:</li>
</ul>
<ol>
<li>Communication log query, type field value is cmd</li>
<li>Online and offline status records query, the type field value is online</li>
</ol>
<ul>
<li>objects:</li>
</ul>
<ol>
<li>The type field value of the data returned by the communication log query: app2dev (app-to-device communication), dev2app (device-to-app communication)</li>
<li>The type field value of the data returned by the online and offline query: dev_online (online), dev_re_online (re-login before the offline process is completed), and dev_offline (offline)</li>
</ol>
<h3 id="The-end-timestamp-end-time"><a href="#The-end-timestamp-end-time" class="headerlink" title="The end timestamp end_time"></a>The end timestamp end_time</h3><ol>
<li>Must be less than or equal to the current system timestamp</li>
<li>Must be greater than the start timestamp.</li>
<li>The difference between the end timestamp and the start timestamp must be less than 48 hours</li>
</ol>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/devices/&#123;did&#125;/raw_data?type=&#123;type&#125;&amp;start_time=&#123;start_time&#125;&amp;end_time=&#123;end_time&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>DeviceID</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td>query</td>
<td>cmd: communication log；online：online and offline record</td>
</tr>
<tr>
<td>start_time</td>
<td>integer</td>
<td>Yes</td>
<td>query</td>
<td>Start timestamp, in seconds</td>
</tr>
<tr>
<td>end_time</td>
<td>integer</td>
<td>Yes</td>
<td>query</td>
<td>End timestamp, in seconds</td>
</tr>
<tr>
<td>skip</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>Number of skipped items, number of skip items + number of returned items must be &lt;= 5000, default is 0</td>
</tr>
<tr>
<td>limit query</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>The number of returned items, should be &lt;=1000, the default is 20</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>No</td>
<td>query</td>
<td>Sorting type, dese: descending order; ase: ascending order. The default is descending order</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>sort</td>
<td>string</td>
<td>Sorting type, dese: descending order; ase: ascending order.</td>
</tr>
<tr>
<td>limit</td>
<td>integer</td>
<td>The number of returned items</td>
</tr>
<tr>
<td>end_time</td>
<td>integer</td>
<td>The end timestamp</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Device ID</td>
</tr>
<tr>
<td>skip</td>
<td>integer</td>
<td>Number of skipped items</td>
</tr>
<tr>
<td>start_time</td>
<td>integer</td>
<td>The start timestamp</td>
</tr>
<tr>
<td>total</td>
<td>integer</td>
<td>The number of query results</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>The type of the meta. Query type, cmd: communication log; online: online and offline record</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>The type of the objects. Type: app2dev: app-to-device communication; dev2app: device-to-app communication; dev_online: online; dev_re_online: login again before completing the offline process; dev_offline: offline</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>IP address of the data reporter</td>
</tr>
<tr>
<td>payload_bin</td>
<td>string</td>
<td>Payload</td>
</tr>
<tr>
<td>timestamp</td>
<td>integer</td>
<td>Time for reporting data</td>
</tr>
<tr>
<td>source</td>
<td>string</td>
<td>This field is only available for app2dev type. The trigger type, d3: D3 trigger by rules engine; client: reporting data by clients</td>
</tr>
<tr>
<td>uid</td>
<td>string</td>
<td>This field is only available for app2dev type. User ID</td>
</tr>
<tr>
<td>appid</td>
<td>string</td>
<td>This field is only available for app2dev type. APP ID</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;meta&quot;: &#123;</span><br><span class="line">    &quot;sort&quot;: &quot;desc&quot;,</span><br><span class="line">    &quot;limit&quot;: 20,</span><br><span class="line">    &quot;end_time&quot;: 1505871861,</span><br><span class="line">    &quot;did&quot;: &quot;WCWGkbS4Ttynzwx9brzpEa&quot;,</span><br><span class="line">    &quot;skip&quot;: 0,</span><br><span class="line">    &quot;start_time&quot;: 1505750399,</span><br><span class="line">    &quot;total&quot;: 17,</span><br><span class="line">    &quot;type&quot;: &quot;cmd&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;objects&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;ip&quot;: &quot;10.104.222.219&quot;,</span><br><span class="line">      &quot;payload_bin&quot;: &quot;000000030b0000910400000010000000&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;dev2app&quot;,</span><br><span class="line">      &quot;timestamp&quot;: 1505871342.875</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;ip&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">      &quot;payload_bin&quot;: &quot;0000000309000090010200000010&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;app2dev&quot;,</span><br><span class="line">      &quot;timestamp&quot;: 1505871743.564,</span><br><span class="line">      &quot;source&quot;: &quot;d3&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;uid&quot;: &quot;c0a85d0773e24f15a6853f3148c80a33&quot;,</span><br><span class="line">      &quot;timestamp&quot;: 1505871743.2,</span><br><span class="line">      &quot;ip&quot;: &quot;183.233.131.216&quot;,</span><br><span class="line">      &quot;payload_bin&quot;: &quot;000000030400009002&quot;,</span><br><span class="line">      &quot;source&quot;: &quot;client&quot;,</span><br><span class="line">      &quot;appid&quot;: &quot;17f5eabb5782434da65fffdc87e605bf&quot;,</span><br><span class="line">      &quot;type&quot;: &quot;app2dev&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Control-a-given-device-remotely"><a href="#Control-a-given-device-remotely" class="headerlink" title="Control a given device remotely"></a>Control a given device remotely</h2><p>Debug console</p>
<p>Control the device from the cloud.</p>
<h3 id="Raw-instructions-raw"><a href="#Raw-instructions-raw" class="headerlink" title="Raw instructions (raw):"></a>Raw instructions (raw):</h3><p>The default format is a decimal array. The binary_coding parameter can be set as hex and base64.</p>
<p>If you want to send a payload of binary 011000010110001001100011, after every byte of the binary string is converted to a decimal, you will get an array: [97,98,99];</p>
<p>If you want to send a payload of hexadecimal 616263, after every byte of the binary string is converted to a decimal, you will get an array: [97,98,99].</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;raw&quot;: [97,98,99]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Data-point-attrs"><a href="#Data-point-attrs" class="headerlink" title="Data point (attrs):"></a>Data point (attrs):</h3><p>Device products must have defined data points. If you want to set the value of the extended field binary to hexadecimal 1234567, you need to pad the extended field to the given length.</p>
<p>The default type of the extended field is hex16, and base64 can be used to set the binary_coding parameter as well.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;attrs&quot;: &#123;</span><br><span class="line">    &quot;binary&quot;: &quot;1234567000&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/control/&#123;did&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device ID</td>
</tr>
<tr>
<td>raw</td>
<td>Array[integer]</td>
<td>No</td>
<td>body</td>
<td>Raw instructions</td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td>No</td>
<td>body</td>
<td></td>
</tr>
</tbody>
</table>
<p>Note: Fill in at least one of the body parameters</p>
<p>Response Parameters</p>
<p>No</p>
<h1 id="Device-Sharing"><a href="#Device-Sharing" class="headerlink" title="Device Sharing"></a>Device Sharing</h1><p>After the device sharing function is enabled, there are two binding roles: Owner and Guest.</p>
<h3 id="There-are-two-main-ways-to-share-devices"><a href="#There-are-two-main-ways-to-share-devices" class="headerlink" title="There are two main ways to share devices:"></a>There are two main ways to share devices:</h3><ul>
<li>Normal device sharing</li>
<li>Sharing devices via QR code</li>
</ul>
<h3 id="Sharing-scenarios"><a href="#Sharing-scenarios" class="headerlink" title="Sharing scenarios"></a>Sharing scenarios</h3><h4 id="Normal-device-sharing"><a href="#Normal-device-sharing" class="headerlink" title="Normal device sharing"></a>Normal device sharing</h4><ul>
<li>The Owner selects a device to share, and invokes the create a sharing invitation API to create a sharing invitation</li>
<li>Both the Owner and Guest receive a device sharing message</li>
<li>The receiver invokes the query sharing invitation API to query the received invitation</li>
<li>The receiver call accept the sharing invitation API to accept the invitation and the receiver becomes Guest</li>
<li>Both the Owner and Guest receive a message after the device sharing invitation is accepted</li>
</ul>
<h4 id="Sharing-devices-via-QR-code"><a href="#Sharing-devices-via-QR-code" class="headerlink" title="Sharing devices via QR code"></a>Sharing devices via QR code</h4><ul>
<li>The Owner selects a device to share, and invokes the create a sharing invitation API to create a sharing invitation</li>
<li>The qr_content in the response has the QR code information, and the Owner displays the QR code image to the receiver </li>
<li>The receiver scans the QR code, obtains the invitation code, calls the get sharing invitation information of a given QR code API, and views the shared content.</li>
<li>Call the accept a sharing invitation by a given QRCode API, accept the sharing invitation, and the receiver becomes Guest </li>
<li>Both the Owner and Guest receive a device sharing message</li>
</ul>
<h4 id="Cancel-device-sharing"><a href="#Cancel-device-sharing" class="headerlink" title="Cancel device sharing"></a>Cancel device sharing</h4><ul>
<li>Owner invokes the cancel/retract a sharing invitation API, cancels invitation sent out, and recalls accepted invitation</li>
<li>If the Guest user has not accepted it, the Owner will receive a cancelation message of device sharing</li>
<li>The guest user’s binding to the device is cancelled. At the same time, both the Owner and Guest receive a cancelation message of device sharing.</li>
</ul>
<h4 id="Ownership-transfer"><a href="#Ownership-transfer" class="headerlink" title="Ownership transfer"></a>Ownership transfer</h4><ul>
<li>The Owner invokes the transfer ownership of a device to a guest API and fills in the information of the device to be transferred and ID of the user to be the owner</li>
<li>The original Owner user unbinds the device. The original Guest user becomes the new Owner.</li>
</ul>
<h2 id="Create-a-sharing-invitation"><a href="#Create-a-sharing-invitation" class="headerlink" title="Create a sharing invitation"></a>Create a sharing invitation</h2><p>Debug console</p>
<p>This API can only be called by master account of the device.</p>
<ul>
<li>If the type is normal sharing, use one field of uid/username/email/phone, which is the receiver information;</li>
<li>If the type is QR code sharing, the uid, username, email, and phone are set with empty values, if the setting does not take effect;</li>
<li>Normal sharing is expired for 24 hours, and the QR code sharing is expired for 15 minutes. </li>
<li>For QR code sharing, the client generates the QR code image locally after receiving the returned QR code content.</li>
</ul>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/sharing</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>Yes</td>
<td>body</td>
<td>Sharing type, 0: Normal sharing, 1: QR code sharing</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Device ID</td>
</tr>
<tr>
<td>uid</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Normal sharing type, receiver user ID</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Normal sharing type, receiver username</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Normal sharing type, receiver email address</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Normal sharing type, receiver mobile number</td>
</tr>
<tr>
<td>duration</td>
<td>integer</td>
<td>No</td>
<td>body</td>
<td>Sharing duration, the length of time the device can be used after the guest accepts sharing. Unit: minutes. The minimum is 1 minute, the maximum is 1440 minutes </td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Sharing record ID for normal sharing</td>
</tr>
<tr>
<td>qr_content</td>
<td>integer</td>
<td>QR code image content, only for the QR code sharing</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;qr_content&quot;: &quot;type=share&amp;code=60a6cacabe4046f4aa25ac1f79d81a4f&quot;,</span><br><span class="line">    &quot;id&quot;: null</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Get-a-list-of-sent-and-received-sharing-invitations"><a href="#Get-a-list-of-sent-and-received-sharing-invitations" class="headerlink" title="Get a list of sent and received sharing invitations"></a>Get a list of sent and received sharing invitations</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/sharing?sharing_type=&#123;sharing_type&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>sharing_type</td>
<td>integer</td>
<td>Yes</td>
<td>query</td>
<td>Sharing type, 0: Devices I want to share, 1: Devices shared to me</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>No</td>
<td>query</td>
<td>Sharing status, 0: unread sharing invitation, 1: Accepted sharing invitation, 2: Refused sharing invitation, 3: Cancelled sharing invitation</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>No</td>
<td>query</td>
<td>Specified device did, only the owner user can query the sharing information of the specified did</td>
</tr>
<tr>
<td>limit</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>The number of returned items, default is 20</td>
</tr>
<tr>
<td>skip</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>The number of skipped items, default is 0</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>integer</td>
<td>The total number</td>
</tr>
<tr>
<td>limit</td>
<td>integer</td>
<td>The number of returned items</td>
</tr>
<tr>
<td>skip</td>
<td>integer</td>
<td>The number of skipped items</td>
</tr>
<tr>
<td>previous</td>
<td>string</td>
<td>Request address of previous page</td>
</tr>
<tr>
<td>next</td>
<td>string</td>
<td>Request address of next page </td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>Sharing record ID</td>
</tr>
<tr>
<td>type</td>
<td>integer</td>
<td>Sharing type, 0: Normal sharing, 1: QR code sharing</td>
</tr>
<tr>
<td>uid</td>
<td>string</td>
<td>User ID</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>User name, middle 4 letters are replaced with * </td>
</tr>
<tr>
<td>user_alias</td>
<td>string</td>
<td>User alias</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>User email address, 4 characters before @  are replaced with * </td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>User’s mobile phone number, the middle 4 digits are replaced with *</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Device ID</td>
</tr>
<tr>
<td>product_name</td>
<td>string</td>
<td>Product name</td>
</tr>
<tr>
<td>dev_alias</td>
<td>string</td>
<td>Device alias</td>
</tr>
<tr>
<td>status</td>
<td>integer</td>
<td>Sharing status, 0: unread sharing invitation, 1: Accepted sharing invitation, 2: Refused sharing invitation, 3: Cancelled sharing invitation</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>Sharing creation time (UTC time)</td>
</tr>
<tr>
<td>updated_at</td>
<td>string</td>
<td>Sharing status update time (UTC time)</td>
</tr>
<tr>
<td>expired_at</td>
<td>string</td>
<td>Sharing expiration time (UTC time)</td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ul>
<li>If sharing_type is 0, it means the queried sharing invitations had been sent out as an Owner and the returned users’ information is about Guests.</li>
<li>If sharing_type is 1, it means the queried sharing invitations had been received as a Guest, and the returned users’ information is about Owner.</li>
</ul>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;meta&quot;: &#123;</span><br><span class="line">    &quot;previous&quot;: null,</span><br><span class="line">    &quot;skip&quot;: 0,</span><br><span class="line">    &quot;total&quot;: 1,</span><br><span class="line">    &quot;limit&quot;: 20,</span><br><span class="line">    &quot;next&quot;: null</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;objects&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;status&quot;: 0,</span><br><span class="line">      &quot;username&quot;: &quot;G****s&quot;,</span><br><span class="line">      &quot;uid&quot;: &quot;f082f4e235974cfeb6a1b2346024f47e&quot;,</span><br><span class="line">      &quot;did&quot;: &quot;gKufzxZwYeyd3Skbsb6mza&quot;,</span><br><span class="line">      &quot;created_at&quot;: &quot;2017-07-21T09:46:56Z&quot;,</span><br><span class="line">      &quot;updated_at&quot;: &quot;2017-07-21T09:46:56Z&quot;,</span><br><span class="line">      &quot;email&quot;: &quot;G****s@gizwits.com&quot;,</span><br><span class="line">      &quot;phone&quot;: null,</span><br><span class="line">      &quot;dev_alias&quot;: &quot;设备别名&quot;,</span><br><span class="line">      &quot;id&quot;: 10411,</span><br><span class="line">      &quot;user_alias&quot;: &quot;gizwits&quot;,</span><br><span class="line">      &quot;type&quot;: 0,</span><br><span class="line">      &quot;product_name&quot;: &quot;微信宠物屋&quot;,</span><br><span class="line">      &quot;expired_at&quot;: &quot;2017-07-22T09:46:56Z&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Cancel-retract-a-sharing-invitation"><a href="#Cancel-retract-a-sharing-invitation" class="headerlink" title="Cancel/retract a sharing invitation"></a>Cancel/retract a sharing invitation</h2><p>Debug console</p>
<p>Sharing invitation via QR code cannot be retracted</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE</span><br><span class="line">https://api.gizwits.com/app/sharing/&#123;id&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>Yes</td>
<td>path</td>
<td>Sharing record ID</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>Sharing record ID</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;id&quot;: 10471</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Accept-reject-a-sharing-invitation"><a href="#Accept-reject-a-sharing-invitation" class="headerlink" title="Accept/reject a sharing invitation"></a>Accept/reject a sharing invitation</h2><p>Debug console</p>
<p>Sharing invitation via QR code cannot be retracted</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PUT</span><br><span class="line">https://api.gizwits.com/app/sharing/&#123;id&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>Yes</td>
<td>path</td>
<td>Sharing record ID</td>
</tr>
<tr>
<td>status</td>
<td>integer</td>
<td>Yes</td>
<td>query</td>
<td>Accept/reject a sharing invitation，1：Accept，2：Reject</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>Sharing record ID</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;id&quot;: 10471</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Get-sharing-invitation-information-of-a-given-QRCode"><a href="#Get-sharing-invitation-information-of-a-given-QRCode" class="headerlink" title="Get sharing invitation information of a given QRCode"></a>Get sharing invitation information of a given QRCode</h2><p>Debug console</p>
<p>Device owner cannot use this API</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/sharing/code/&#123;code&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>code</td>
<td>integer</td>
<td>Yes</td>
<td>path</td>
<td>Shared QR code content</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>owner</td>
<td>string</td>
<td>Device owner information, mobile phone number/Email/username/uid</td>
</tr>
<tr>
<td>product_name</td>
<td>string</td>
<td>Product name</td>
</tr>
<tr>
<td>dev_alias</td>
<td>string</td>
<td>Device alias</td>
</tr>
<tr>
<td>expired_at</td>
<td>string</td>
<td>Sharing expiration time (UTC time)</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;owner&quot;: &quot;G****s&quot;,</span><br><span class="line">  &quot;product_name&quot;: &quot;微信宠物屋&quot;,</span><br><span class="line">  &quot;dev_alias&quot;: &quot;设备别名&quot;,</span><br><span class="line">  &quot;expired_at&quot;: &quot;2017-08-21T12:22:58Z&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Accept-a-sharing-invitation-by-a-given-QRCode"><a href="#Accept-a-sharing-invitation-by-a-given-QRCode" class="headerlink" title="Accept a sharing invitation by a given QRCode"></a>Accept a sharing invitation by a given QRCode</h2><p>Debug console</p>
<p>Device owner cannot use this API</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/sharing/code/&#123;code&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>code</td>
<td>integer</td>
<td>Yes</td>
<td>path</td>
<td>Shared QR code content</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h2 id="Update-a-guest-or-owner-alias-of-a-given-invitation"><a href="#Update-a-guest-or-owner-alias-of-a-given-invitation" class="headerlink" title="Update a guest or owner alias of a given invitation"></a>Update a guest or owner alias of a given invitation</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PUT</span><br><span class="line">https://api.gizwits.com/app/sharing/&#123;id&#125;/alias?user_alias=&#123;user_alias&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>Yes</td>
<td>path</td>
<td>Sharing record ID</td>
</tr>
<tr>
<td>user_alias</td>
<td>string</td>
<td>Yes</td>
<td>query</td>
<td></td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h2 id="Transfer-ownership-of-a-device-to-a-guest"><a href="#Transfer-ownership-of-a-device-to-a-guest" class="headerlink" title="Transfer ownership of a device to a guest"></a>Transfer ownership of a device to a guest</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/sharing/1/transfer?uid=1</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td></td>
<td>Device ID</td>
</tr>
<tr>
<td>uid</td>
<td>string</td>
<td>Yes</td>
<td>query</td>
<td>New owner User ID</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h1 id="Device-Grouping"><a href="#Device-Grouping" class="headerlink" title="Device Grouping"></a>Device Grouping</h1><p>Common scenarios of device grouping:</p>
<ol>
<li>Classify multiple devices into a single physical space, such as a room or living room. It is easy to manage.<ul>
<li>Firstly invoke the create a group API to create a group and enter the group name.</li>
<li>To add/delete devices in the group in batches after successful creation, invoke the add devices into a group API and the remove devices from a group API.</li>
<li>View all the devices under a group by calling the get devices information of a given group API.</li>
</ul>
</li>
<li>Unified control of multiple devices of the same product, such as: switch on/off all lights in the hallway.<ul>
<li>Firstly invoke the create a group API to create a group and enter the group name and product PK.</li>
<li>To add/delete devices in the group in batches after successful creation, invoke the add devices into a group API and the remove devices from a group API.</li>
<li>Batch control of devices by sending commands to the devices within a device group by invoking the control all devices in a given group API. </li>
</ul>
</li>
</ol>
<h2 id="Get-all-user-groups"><a href="#Get-all-user-groups" class="headerlink" title="Get all user groups"></a>Get all user groups</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/group</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>created_at</td>
<td>string</td>
<td>Device group creation time (UTC time)</td>
</tr>
<tr>
<td>updated_at</td>
<td>string</td>
<td>Device group update time (UTC time)</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Product product_key, the group with single product key will have a value</td>
</tr>
<tr>
<td>group_name</td>
<td>string</td>
<td>Device group name</td>
</tr>
<tr>
<td>verbose_name</td>
<td>string</td>
<td>Product name, the group with single product key will have a value </td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Device group ID</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;created_at&quot;: &quot;2017-09-22T09:57:44Z&quot;,</span><br><span class="line">    &quot;updated_at&quot;: &quot;2017-09-22T09:57:44Z&quot;,</span><br><span class="line">    &quot;product_key&quot;: &quot;4214b12d79694a259232431b6f2ef46a&quot;,</span><br><span class="line">    &quot;group_name&quot;: &quot;分组名称1&quot;,</span><br><span class="line">    &quot;verbose_name&quot;: &quot;微信宠物屋&quot;,</span><br><span class="line">    &quot;id&quot;: &quot;59c4de98dc348f001a08feba&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;created_at&quot;: &quot;2017-09-22T09:58:18Z&quot;,</span><br><span class="line">    &quot;updated_at&quot;: &quot;2017-09-22T09:58:18Z&quot;,</span><br><span class="line">    &quot;product_key&quot;: &quot;&quot;,</span><br><span class="line">    &quot;group_name&quot;: &quot;分组名称2&quot;,</span><br><span class="line">    &quot;verbose_name&quot;: &quot;&quot;,</span><br><span class="line">    &quot;id&quot;: &quot;59c4deba8c7d50001ba06df3&quot;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="Create-a-group"><a href="#Create-a-group" class="headerlink" title="Create a group"></a>Create a group</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/group</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Product PK, enter this parameter for a group with single PK</td>
</tr>
<tr>
<td>group_name</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Device group name</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Device group ID</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;id&quot;: &quot;59c4deba8c7d50001ba06df3&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Delete-a-device-group"><a href="#Delete-a-device-group" class="headerlink" title="Delete a device group"></a>Delete a device group</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE</span><br><span class="line">https://api.gizwits.com/app/group/&#123;id&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device group ID</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h2 id="Update-group-information"><a href="#Update-group-information" class="headerlink" title="Update group information"></a>Update group information</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PUT</span><br><span class="line">https://api.gizwits.com/app/group/&#123;id&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device group ID</td>
</tr>
<tr>
<td>group_name</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Device group name</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h2 id="Get-devices-information-of-a-given-group"><a href="#Get-devices-information-of-a-given-group" class="headerlink" title="Get devices information of a given group"></a>Get devices information of a given group</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/group/&#123;id&#125;/devices</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device group ID</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>did</td>
<td>string</td>
<td>The device ID under this group</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Device Type: Normal Device: noramal; Central Control Device: center_control; Central Control Sub Device: sub_dev</td>
</tr>
<tr>
<td>verbose_name</td>
<td>string</td>
<td>Product name, the group with single PK will have a value</td>
</tr>
<tr>
<td>dev_alias</td>
<td>string</td>
<td>Device alias</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Product product_key, the group with single PK will have a value </td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;did&quot;: &quot;WCWGkbS4Ttynzwx9brzpEa&quot;,</span><br><span class="line">    &quot;type&quot;: &quot;normal&quot;,</span><br><span class="line">    &quot;verbose_name&quot;: &quot;微信宠物屋&quot;,</span><br><span class="line">    &quot;dev_alias&quot;: &quot;设备别名&quot;,</span><br><span class="line">    &quot;product_key&quot;: &quot;4234bf2d79694a259232431b6f2ef46a&quot;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="Add-devices-into-a-group"><a href="#Add-devices-into-a-group" class="headerlink" title="Add devices into a group"></a>Add devices into a group</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/group/&#123;id&#125;/devices?show_detail=&#123;show_detail&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device group ID</td>
</tr>
<tr>
<td>show_detail</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>Return error information, 1: return detail error information, 0 (default): Not return detail error information</td>
</tr>
<tr>
<td>dids</td>
<td>Array</td>
<td>Yes</td>
<td>body</td>
<td>An array of device IDs that need to be added to the group</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>failed</td>
<td>Array</td>
<td>Unsuccessfully added devices ID array</td>
</tr>
<tr>
<td>detail</td>
<td>Array</td>
<td>Fail reason for addition, this field will be returned only when show_detail is set with 1.</td>
</tr>
<tr>
<td>success</td>
<td>Array</td>
<td>Successfully added devices ID array </td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Unsuccessfully added device ID</td>
</tr>
<tr>
<td>error_message</td>
<td>string</td>
<td>Error message</td>
</tr>
<tr>
<td>error_code</td>
<td>integer</td>
<td>Error code</td>
</tr>
<tr>
<td>detail_msg</td>
<td>string</td>
<td>Error detail message</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;failed&quot;: [</span><br><span class="line">      &quot;WCWGkbS4Ttynz123czpEa&quot;</span><br><span class="line">    ],</span><br><span class="line">  &quot;detail&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;did&quot;: &quot;WCWGkbS123cynzwxrzpEa&quot;,</span><br><span class="line">        &quot;error_message&quot;: &quot;device not found!&quot;,</span><br><span class="line">        &quot;error_code&quot;: 9014,</span><br><span class="line">        &quot;detail_msg&quot;: null</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">  &quot;success&quot;: [</span><br><span class="line">    &quot;XD3GkbS21tynzwx9brzpEa&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Remove-devices-from-a-group"><a href="#Remove-devices-from-a-group" class="headerlink" title="Remove devices from a group"></a>Remove devices from a group</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE</span><br><span class="line">https://api.gizwits.com/app/group/&#123;id&#125;/devices</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device group ID</td>
</tr>
<tr>
<td>dids</td>
<td>Array</td>
<td>Yes</td>
<td>body</td>
<td>ID array of devices to be removed</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>failed</td>
<td>Array</td>
<td>Unsuccessfully added devices ID array </td>
</tr>
<tr>
<td>success</td>
<td>Array</td>
<td>Successfully added devices ID array</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Unsuccessfully added device ID </td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;failed&quot;: [],</span><br><span class="line">  &quot;success&quot;: [</span><br><span class="line">    &quot;WCWGkb234tynzwx9brzpEa&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Control-all-devices-in-a-given-group"><a href="#Control-all-devices-in-a-given-group" class="headerlink" title="Control all devices in a given group"></a>Control all devices in a given group</h2><p>Debug console</p>
<p>Control all devices in a group from cloud, the API can only control the devices in a group with single PK.</p>
<h3 id="Raw-instructions-raw-1"><a href="#Raw-instructions-raw-1" class="headerlink" title="Raw instructions (raw):"></a>Raw instructions (raw):</h3><p>The default format is a decimal array. The binary_coding parameter can be set as hex and base64.<br>If you want to send a payload of binary 011000010110001001100011, after every byte of the binary string is converted to a decimal, you will get an array: [97,98,99];<br>If you want to send a payload of hexadecimal 616263, after every byte of the binary string is converted to a decimal, you will get an array: [97,98,99].</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;raw&quot;: [97,98,99]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Data-point-attrs-1"><a href="#Data-point-attrs-1" class="headerlink" title="Data point (attrs):"></a>Data point (attrs):</h3><p>Device products must have defined data points. If you want to set the value of the extended field binary to hexadecimal 1234567, you need to pad the extended field to the given length:<br>The default type of the extended field is hex16, and base64 can be used to set the binary_coding parameter as well.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;attrs&quot;: &#123;</span><br><span class="line">    &quot;boolean&quot;:true,</span><br><span class="line">    &quot;binary&quot;: &quot;1234567000&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/group/&#123;id&#125;/control</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device group ID</td>
</tr>
<tr>
<td>raw</td>
<td>Array[integer]</td>
<td>No</td>
<td>body</td>
<td>Raw instructions</td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td>No</td>
<td>body</td>
<td></td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>did</td>
<td>string</td>
<td>ID of the device under the group</td>
</tr>
<tr>
<td>result</td>
<td>boolean</td>
<td>Whether the control is successful, true: successful; false: failed</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;did&quot;: &quot;WCWGkbS4Tty123x9brzpEa&quot;,</span><br><span class="line">    &quot;result&quot;: true</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;did&quot;: &quot;gKufzxZw43dd3Skbsb6mzz&quot;,</span><br><span class="line">    &quot;result&quot;: false</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h1 id="Devices-Linkage"><a href="#Devices-Linkage" class="headerlink" title="Devices Linkage"></a>Devices Linkage</h1><p>You can create rules for devices linkage to automatically control the state change of one or more devices when the status of other devices is changed.</p>
<p>Devices with such a functionality need to be bound to the same user. Devices under different products need to be associated with each other at first.<br>After a devices linkage rule is created, it can be modified or deleted at any time.</p>
<p>Click to see detail tutorial</p>
<h2 id="Get-datapoints-of-all-products-that-can-be-used-by-rules"><a href="#Get-datapoints-of-all-products-that-can-be-used-by-rules" class="headerlink" title="Get datapoints of all products that can be used by rules"></a>Get datapoints of all products that can be used by rules</h2><p>Debug console</p>
<p>You can query the data points of all products bound to the appid by this API.</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/rules/params?product_key=&#123;product_key&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Yes</td>
<td>query</td>
<td>Multiple PK are separated by “,”. When the field is empty, all PKs bound to the appid are used by default. When the used PK is not bound to the appid, it is invalid.</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>display_name</td>
<td>string</td>
<td>Data point display name</td>
</tr>
<tr>
<td>enum</td>
<td>Array</td>
<td>Enumeration value</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Data type, numeric: int; boolean: bool; enumeration: enum; extended: binary</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Data point name</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;4214b435f9694a259232431b6f2ef46a&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;display_name&quot;: &quot;开关&quot;,</span><br><span class="line">      &quot;enum&quot;: [],</span><br><span class="line">      &quot;type&quot;: &quot;bool&quot;,</span><br><span class="line">      &quot;name&quot;: &quot;switch&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;display_name&quot;: &quot;倒计时开机&quot;,</span><br><span class="line">      &quot;enum&quot;: [],</span><br><span class="line">      &quot;type&quot;: &quot;int&quot;,</span><br><span class="line">      &quot;name&quot;: &quot;on_timing&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;display_name&quot;: &quot;倒计时关机&quot;,</span><br><span class="line">      &quot;enum&quot;: [],</span><br><span class="line">      &quot;type&quot;: &quot;int&quot;,</span><br><span class="line">      &quot;name&quot;: &quot;off_timing&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Get-rules-list-for-devices-linkage"><a href="#Get-rules-list-for-devices-linkage" class="headerlink" title="Get rules list for devices linkage"></a>Get rules list for devices linkage</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/rules?limit=20&amp;skip=0</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>limit</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>The number of returned items   </td>
</tr>
<tr>
<td>skip</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>Indicates the number of skipped items, indirectly indicating the number of pages</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>remark</td>
<td>string</td>
<td>Rule remarks</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Rule name</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Device ID</td>
</tr>
<tr>
<td>interval</td>
<td>integer</td>
<td>Minimum trigger interval (unit: seconds)</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Product PK</td>
</tr>
<tr>
<td>rule_id</td>
<td>integer</td>
<td>Rule ID</td>
</tr>
<tr>
<td>event</td>
<td>string</td>
<td>Trigger mode</td>
</tr>
<tr>
<td>event_attr</td>
<td>object</td>
<td>When the trigger mode is alert/fault, [RulesEventAttr]</td>
</tr>
<tr>
<td>input</td>
<td>Array</td>
<td>Required device data in rules [RulesInput]</td>
</tr>
<tr>
<td>condition</td>
<td>Array</td>
<td>Rules condition [RulesCondition]</td>
</tr>
<tr>
<td>output</td>
<td>Array</td>
<td>Rules action [RulesOutput]</td>
</tr>
<tr>
<td>RulesEventAttr</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>attr_name</td>
<td>string</td>
<td>The data point at which an alarm/fault occurred</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>Occurrence/cancellation of alarm/fault, 1 means occurrence, 0 means cancellation </td>
</tr>
<tr>
<td>RulesOutput</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Controlled device ID</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Trigger type, devctrl: control device; delay: delay</td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td>Control device using data point mode</td>
</tr>
<tr>
<td>raw</td>
<td>Array</td>
<td>Raw instructions</td>
</tr>
<tr>
<td>delay</td>
<td>integer</td>
<td>Delay time, unit: second</td>
</tr>
<tr>
<td>RulesInput</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>The source device ID in the rule</td>
</tr>
<tr>
<td>prefix</td>
<td>string</td>
<td>The prefix used to reference the data point value of this device in the condition and output</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>The corresponding product PK of the source device in the rule</td>
</tr>
<tr>
<td>RulesCondition</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>opt</td>
<td>string</td>
<td>Comparison operators, optional values are: &gt;, &gt;=, &lt;, &lt;=, ==, != (Note: Only numeric values can be compared)</td>
</tr>
<tr>
<td>right</td>
<td>string</td>
<td>Right operand of comparison</td>
</tr>
<tr>
<td>left</td>
<td>string</td>
<td>Left operand of comparison</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;rules&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;remark&quot;: &quot;&quot;,</span><br><span class="line">            &quot;name&quot;: &quot;打开开关，三灯100值&quot;,</span><br><span class="line">            &quot;did&quot;: &quot;WCWGkbS4Ttynzwx9brzpEa&quot;,</span><br><span class="line">            &quot;interval&quot;: 0,</span><br><span class="line">            &quot;product_key&quot;: &quot;4214bf2d123194a259232431b6f2ef46a&quot;,</span><br><span class="line">            &quot;event&quot;: &quot;data&quot;,</span><br><span class="line">            &quot;output&quot;: [</span><br><span class="line">                [</span><br><span class="line">                    &#123;</span><br><span class="line">                        &quot;did&quot;: &quot;WCWGk43ftynzwx9brzpEa&quot;,</span><br><span class="line">                        &quot;type&quot;: &quot;devctrl&quot;,</span><br><span class="line">                        &quot;attrs&quot;: &#123;</span><br><span class="line">                            &quot;LED_R&quot;: 100,</span><br><span class="line">                            &quot;LED_G&quot;: 100,</span><br><span class="line">                            &quot;LED_B&quot;: 100</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                [</span><br><span class="line">                    &#123;</span><br><span class="line">                        &quot;did&quot;: &quot;WCWGk43ftynzwx9brzpEa&quot;,</span><br><span class="line">                        &quot;type&quot;: &quot;devctrl&quot;,</span><br><span class="line">                        &quot;attrs&quot;: &#123;</span><br><span class="line">                            &quot;fan_swing&quot;: 1</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            ],</span><br><span class="line">            &quot;input&quot;: [</span><br><span class="line">                &#123;</span><br><span class="line">                    &quot;did&quot;: &quot;WCWGk43ftynzwx9brzpEa&quot;,</span><br><span class="line">                    &quot;prefix&quot;: &quot;device1&quot;,</span><br><span class="line">                    &quot;product_key&quot;: &quot;4214bf2d123194a259232431b6f2ef46a&quot;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    &quot;did&quot;: &quot;WCWGk43ftynzwx9brzpEa&quot;,</span><br><span class="line">                    &quot;prefix&quot;: &quot;device2&quot;,</span><br><span class="line">                    &quot;product_key&quot;: &quot;4214bf2d123194a259232431b6f2ef46a&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            &quot;rule_id&quot;: 8826,</span><br><span class="line">            &quot;condition&quot;: [</span><br><span class="line">                [</span><br><span class="line">                    &#123;</span><br><span class="line">                        &quot;opt&quot;: &quot;==&quot;,</span><br><span class="line">                        &quot;right&quot;: &quot;1&quot;,</span><br><span class="line">                        &quot;left&quot;: &quot;device1.switch&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Create-a-rule-of-devices-linkage"><a href="#Create-a-rule-of-devices-linkage" class="headerlink" title="Create a rule of devices linkage"></a>Create a rule of devices linkage</h2><p>Debug console</p>
<h3 id="product-key-and-did"><a href="#product-key-and-did" class="headerlink" title="product_key and did"></a>product_key and did</h3><p>When the trigger mode is online/offline/alert/fault/data, the device that generates the corresponding event is specified by this trigger mode. The specified device is designated as the master device.</p>
<h3 id="event-parameter"><a href="#event-parameter" class="headerlink" title="event parameter"></a>event parameter</h3><p>Indicates the trigger mode of the rule. The meanings of the optional values are as follows:</p>
<ul>
<li>Online : Device goes online</li>
<li>Offline : Device goese offline</li>
<li>Alert : An alarm occurred on one alarm data point of the device</li>
<li>Fault : A fault occurred on one fault data point of the device</li>
<li>Data : Device reported status</li>
</ul>
<h3 id="event-attr-parameter"><a href="#event-attr-parameter" class="headerlink" title="event_attr parameter"></a>event_attr parameter</h3><p>When the trigger mode is alert/fault, this parameter specifies the data point at which this alarm/fault occurs and its occurrence/recovery</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;event_attr&quot;: &#123;</span><br><span class="line">    &quot;attr_name&quot;: &quot;datapoint_alert&quot;,  // the data point at which this alarm/fault occurs</span><br><span class="line">    &quot;value&quot;: &quot;1&quot; // Occurrence/cancellation of alarm/fault, 1 means occurrence, 0 means cancellation</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Notes:</p>
<ul>
<li>The “occurrence” of the alarm/fault mentioned here means that the value of the alarm/fault data point was reported as 0 last time, and is reported as 1 this time, then the alarm/failure occurs.</li>
<li>The “recovery” of the alarm/fault mentioned here means that the value of the alarm/fault data point was reported as 1 last time, and is reported as 0 this time, then the alarm/failure recovers.</li>
<li>Other situations are not of “occurrence” and “recovery”</li>
</ul>
<h3 id="input-parameter"><a href="#input-parameter" class="headerlink" title="input parameter"></a>input parameter</h3><p>Specifies the device data to be used in the rule. Each object in the array represents data of one device. Ignore this parameter when you do not need to use the device data:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line">    &quot;product_key&quot;: &quot;pk1&quot;, // Product key of the device</span><br><span class="line">    &quot;did&quot;: &quot;did1&quot;,        // Device did</span><br><span class="line">    &quot;prefix&quot;: &quot;device1&quot;   // The prefix used to reference the data point value of the device in the condition and output. If this parameter is set to device1, then device1.datapoint1 indicates referring to the data point datapoint1 of the device device1 </span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure>
<h3 id="condition-parameter"><a href="#condition-parameter" class="headerlink" title="condition parameter"></a>condition parameter</h3><p>Specify the conditions to be satisfied by the trigger rule. The conditions in the array will be checked on a group-by-group basis in the cloud processing. When any group of conditions is met, the output action is triggered.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    [&#123;</span><br><span class="line">        &quot;left&quot;: &quot;device1.datapoint1&quot;,// Left operand of comparison, the type of the operand needs to be the same as the type of the right operand </span><br><span class="line">        &quot;opt&quot;: &quot;==&quot;, // Comparison operators, optional values are: &gt;, &gt;=, &lt;, &lt;=, ==, != (Note: Only numeric values can be compared) </span><br><span class="line">        &quot;right&quot;: &quot;1&quot; // Right operand of comparison, the type of the operand needs to be the same as the type of the left operand. When using a constant, note that &quot;1&quot; represents the number 1, and &quot;&apos;1&apos;&quot; or &quot;\&quot;1\&quot;&quot; is the string &quot;1&quot; </span><br><span class="line">    &#125;],</span><br><span class="line">    [&#123;//Each array represents a group of conditions. When all the conditions in the group are met, the group is met </span><br><span class="line">        &quot;left&quot;: &quot;device1.datapoint1&quot;,</span><br><span class="line">        &quot;opt&quot;: &quot;==&quot;,</span><br><span class="line">        &quot;right&quot;: &quot;1&quot;</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">        &quot;left&quot;: &quot;device2.datapoint2&quot;,</span><br><span class="line">        &quot;opt&quot;: &quot;&gt;&quot;,</span><br><span class="line">        &quot;right&quot;: &quot;25&quot;</span><br><span class="line">    &#125;]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="output-paramter"><a href="#output-paramter" class="headerlink" title="output paramter"></a>output paramter</h3><p>Specify what needs to be done when the conditions are met. All groups of actions are performed in the cloud at the same time. Each group does not affect each other.</p>
<h3 id="Raw-instructions-raw-2"><a href="#Raw-instructions-raw-2" class="headerlink" title="Raw instructions (raw):"></a>Raw instructions (raw):</h3><p>The default format is a decimal array.<br>If you want to send a payload of binary 011000010110001001100011, after every byte of the binary string is converted to a decimal, you will get an array: [97,98,99];</p>
<p>If you want to send a payload of hexadecimal 616263, after every byte of the binary string is converted to a decimal, you will get an array: [97, 98, 99].</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;raw&quot;: [97,98,99]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Data-point-attrs-2"><a href="#Data-point-attrs-2" class="headerlink" title="Data point (attrs):"></a>Data point (attrs):</h3><p>Device products must have defined data points. If you want to set the value of the extended field binary to hexadecimal 1234567, you need to pad the extended field to the given length:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;attrs&quot;: &#123;</span><br><span class="line">    &quot;binary&quot;: &quot;1234567000&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Output-parameter-example："><a href="#Output-parameter-example：" class="headerlink" title="Output parameter example："></a>Output parameter example：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    [&#123; // Each array represents a set of output actions, which are executed sequentially. When the previous action fails to execute, the following actions will not be executed </span><br><span class="line">        &quot;type&quot;: &quot;devctrl&quot;,   // output type, devctrl indicates to control device</span><br><span class="line">        &quot;did&quot;: &quot;did1&quot;,       // device did to be controlled</span><br><span class="line">        &quot;attrs&quot;: &#123;           // key-value format</span><br><span class="line">            &quot;datapoint1&quot;: 1, // set datapoint1 value as 1</span><br><span class="line">            &quot;datapoint2&quot;: 25,</span><br><span class="line">            &quot;datapoint3&quot;: &quot;黄色&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">        &quot;type&quot;: &quot;delay&quot;, // output type, delay</span><br><span class="line">        &quot;delay&quot;: 5       // Delay time, unit: second</span><br><span class="line">    &#125;,&#123;</span><br><span class="line">        &quot;type&quot;: &quot;devctrl&quot;,</span><br><span class="line">        &quot;did&quot;: &quot;QxP6E9qFwwzsqKb2UYf4uw&quot;,</span><br><span class="line">        &quot;raw&quot;: [1, 2, 3] // raw format</span><br><span class="line">    &#125;],</span><br><span class="line">    [&#123;</span><br><span class="line">        &quot;type&quot;: &quot;devctrl&quot;,</span><br><span class="line">        &quot;did&quot;: &quot;QxP6E9qFwwzsqKb2UYf4uw&quot;,</span><br><span class="line">        &quot;attrs&quot;: &#123;</span><br><span class="line">            &quot;datapoint1&quot;: 1,</span><br><span class="line">            &quot;datapoint2&quot;: 25,</span><br><span class="line">            &quot;datapoint3&quot;: &quot;黄色&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/rules</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Rule remarks</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Rule name</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Device ID</td>
</tr>
<tr>
<td>interval</td>
<td>integer</td>
<td>No</td>
<td>body</td>
<td>Minimum trigger interval (unit: seconds)</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Product PK</td>
</tr>
<tr>
<td>event</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Trigger mode</td>
</tr>
<tr>
<td>event_attr</td>
<td>object</td>
<td>No</td>
<td>body</td>
<td>When the trigger mode is alert/fault, [RulesEventAttr]</td>
</tr>
<tr>
<td>input</td>
<td>Array</td>
<td>Yes</td>
<td>body</td>
<td>Required device data in rules [RulesInput]</td>
</tr>
<tr>
<td>condition</td>
<td>Array</td>
<td>Yes</td>
<td>body</td>
<td>Rule condition[RulesCondition]</td>
</tr>
<tr>
<td>output</td>
<td>Array</td>
<td>Yes</td>
<td>body</td>
<td>Rule action [RulesOutput]</td>
</tr>
<tr>
<td>RulesEventAttr</td>
<td>——————</td>
<td>No</td>
<td>body</td>
<td>——————</td>
</tr>
<tr>
<td>attr_name</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>The data point at which this alarm/fault occurred</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Occurrence/cancellation of alarm/fault, 1 means occurrence, 0 means cancellation </td>
</tr>
<tr>
<td>RulesOutput</td>
<td>——————</td>
<td>Yes</td>
<td>body</td>
<td>——————</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Controlled device ID</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Trigger type, devctrl: control device; delay: delay</td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td>No</td>
<td>body</td>
<td>Control device using data point mode</td>
</tr>
<tr>
<td>raw</td>
<td>Array</td>
<td>No</td>
<td>body</td>
<td>Raw instructions</td>
</tr>
<tr>
<td>delay</td>
<td>integer</td>
<td>No</td>
<td>body</td>
<td>Delay time, unit: second</td>
</tr>
<tr>
<td>RulesInput</td>
<td>——————</td>
<td>Yes</td>
<td>body</td>
<td>——————</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>The source device ID in the rule</td>
</tr>
<tr>
<td>prefix</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>The prefix used to reference the data point value of this device in the condition and output</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>The corresponding product PK of the source device in the rule</td>
</tr>
<tr>
<td>RulesCondition</td>
<td>——————</td>
<td>Yes</td>
<td>body</td>
<td>——————</td>
</tr>
<tr>
<td>opt</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Comparison operators, optional values are: &gt;, &gt;=, &lt;, &lt;=, ==, != (Note: Only numeric values can be compared)</td>
</tr>
<tr>
<td>right</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Right operand of comparison</td>
</tr>
<tr>
<td>left</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Left operand of comparison</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>rule_id</td>
<td>integer</td>
<td>Rule ID</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;rule_id&quot;: 1213</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Delete-a-rule-of-devices-linkage"><a href="#Delete-a-rule-of-devices-linkage" class="headerlink" title="Delete a rule of devices linkage"></a>Delete a rule of devices linkage</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE</span><br><span class="line">https://api.gizwits.com/app/rules/&#123;rule_id&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>rule_id</td>
<td>integer</td>
<td>Yes</td>
<td>path</td>
<td>ID of the rule to be deleted</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>rule_id</td>
<td>integer</td>
<td>Rule ID</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;rule_id&quot;: 1234</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Update-a-rule-of-devices-linkage"><a href="#Update-a-rule-of-devices-linkage" class="headerlink" title="Update a rule of devices linkage"></a>Update a rule of devices linkage</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PUT</span><br><span class="line">https://api.gizwits.com/app/rules/&#123;rule_id&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Rule remarks</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Rule name</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Device ID</td>
</tr>
<tr>
<td>interval</td>
<td>integer</td>
<td>No</td>
<td>body</td>
<td>Minimum trigger interval (unit: seconds)</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Product PK</td>
</tr>
<tr>
<td>rule_id</td>
<td>integer</td>
<td>Yes</td>
<td>body</td>
<td>Rule ID</td>
</tr>
<tr>
<td>event</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Trigger mode</td>
</tr>
<tr>
<td>event_attr</td>
<td>object</td>
<td>No</td>
<td>body</td>
<td>When the trigger mode is alert/fault, [RulesEventAttr]</td>
</tr>
<tr>
<td>input</td>
<td>Array</td>
<td>Yes</td>
<td>body</td>
<td>Required device data in rules [RulesInput]</td>
</tr>
<tr>
<td>condition</td>
<td>Array</td>
<td>Yes</td>
<td>body</td>
<td>Rules condition [RulesCondition]</td>
</tr>
<tr>
<td>output</td>
<td>Array</td>
<td>Yes</td>
<td>body</td>
<td>Rules action [RulesOutput]</td>
</tr>
<tr>
<td>RulesEventAttr</td>
<td>——————</td>
<td>No</td>
<td>body</td>
<td>——————</td>
</tr>
<tr>
<td>attr_name</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>The data point at which an alarm/fault occurred</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Occurrence/cancellation of alarm/fault, 1 means occurrence, 0 means cancellation </td>
</tr>
<tr>
<td>RulesOutput</td>
<td>——————</td>
<td>Yes</td>
<td>body</td>
<td>——————</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Controlled device ID</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Trigger type, devctrl: control device; delay: delay</td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td>No</td>
<td>body</td>
<td>Control device using data point mode</td>
</tr>
<tr>
<td>raw</td>
<td>Array</td>
<td>No</td>
<td>body</td>
<td>Raw instructions</td>
</tr>
<tr>
<td>delay</td>
<td>integer</td>
<td>No</td>
<td>body</td>
<td>Delay time, unit: second</td>
</tr>
<tr>
<td>RulesInput</td>
<td>——————</td>
<td>Yes</td>
<td>body</td>
<td>——————</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>The source device ID in the rule</td>
</tr>
<tr>
<td>prefix</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>The prefix used to reference the data point value of this device in the condition and output</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>The corresponding product PK of the source device in the rule</td>
</tr>
<tr>
<td>RulesCondition</td>
<td>——————</td>
<td>Yes</td>
<td>body</td>
<td>——————</td>
</tr>
<tr>
<td>opt</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Comparison operators, optional values are: &gt;, &gt;=, &lt;, &lt;=, ==, != (Note: Only numeric values can be compared)</td>
</tr>
<tr>
<td>right</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Right operand of comparison</td>
</tr>
<tr>
<td>left</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Left operand of comparison</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>rule_id</td>
<td>integer</td>
<td>Rule ID</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;rule_id&quot;: 1234</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="User-Scenario"><a href="#User-Scenario" class="headerlink" title="User Scenario"></a>User Scenario</h1><h2 id="Get-all-scenarios"><a href="#Get-all-scenarios" class="headerlink" title="Get all scenarios"></a>Get all scenarios</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/scene</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Scenario ID</td>
</tr>
<tr>
<td>scene_name</td>
<td>string</td>
<td>Scenario name</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>Scenario creation time (UTC time)</td>
</tr>
<tr>
<td>updated_at</td>
<td>string</td>
<td>Scenario update time (UTC time)</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>Scenario remarks </td>
</tr>
<tr>
<td>task_type</td>
<td>string</td>
<td>Scenario task type: “delay”: Delayed task, “device”: Control a single device task, “group”: Control the device group task (only control the group with a single product_key)</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Device did, for a single control task</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Product key, for the non-delayed task</td>
</tr>
<tr>
<td>group_name</td>
<td>string</td>
<td>Device group name, for the device group task</td>
</tr>
<tr>
<td>raw</td>
<td>string</td>
<td>For non-delayed task, raw instructions, base64 encoding</td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td>For non-delayed task, data point control commands, fill in order number for enumeration data point, fill in base64 encoded string for extended data point </td>
</tr>
<tr>
<td>dev_remark</td>
<td>string</td>
<td>Device remarks, for device control task</td>
</tr>
<tr>
<td>time</td>
<td>integer</td>
<td>Delay time for delayed task in seconds, maximum: 3600 seconds</td>
</tr>
<tr>
<td>group_id</td>
<td>string</td>
<td>Device group ID for the device group task</td>
</tr>
<tr>
<td>verbose_name</td>
<td>string</td>
<td>Product name for non-delayed task</td>
</tr>
<tr>
<td>dev_alias</td>
<td>string</td>
<td>Device aliase for device control task</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;remark&quot;: &quot;备注&quot;,</span><br><span class="line">    &quot;tasks&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;task_type&quot;: &quot;device&quot;,</span><br><span class="line">        &quot;did&quot;: &quot;WCWGkbS4Ttynzw123rzpEa&quot;,</span><br><span class="line">        &quot;product_key&quot;: &quot;4214bf2d79321259232431b6f2ef46a&quot;,</span><br><span class="line">        &quot;group_name&quot;: &quot;&quot;,</span><br><span class="line">        &quot;raw&quot;: &quot;&quot;,</span><br><span class="line">        &quot;attrs&quot;: &#123;</span><br><span class="line">          &quot;switch&quot;: true</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;dev_remark&quot;: &quot;&quot;,</span><br><span class="line">        &quot;time&quot;: 0,</span><br><span class="line">        &quot;group_id&quot;: &quot;&quot;,</span><br><span class="line">        &quot;verbose_name&quot;: &quot;微信宠物屋&quot;,</span><br><span class="line">        &quot;dev_alias&quot;: &quot;&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;created_at&quot;: &quot;2017-09-25T10:09:07Z&quot;,</span><br><span class="line">    &quot;updated_at&quot;: &quot;2017-09-25T10:09:07Z&quot;,</span><br><span class="line">    &quot;scene_name&quot;: &quot;场景名&quot;,</span><br><span class="line">    &quot;id&quot;: &quot;59c8d5c3234d50001a21c872&quot;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="Create-a-scenario"><a href="#Create-a-scenario" class="headerlink" title="Create a scenario"></a>Create a scenario</h2><p>Debug console</p>
<h3 id="Raw-instructions-raw-3"><a href="#Raw-instructions-raw-3" class="headerlink" title="Raw instructions (raw):"></a>Raw instructions (raw):</h3><p>The default format is base64. The binary_coding parameter can be set as hex.<br>If you want to send a payload of 010203, after encoding you will get: AQID;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;raw&quot;: &quot;AQID&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Data-point-attrs-3"><a href="#Data-point-attrs-3" class="headerlink" title="Data point (attrs):"></a>Data point (attrs):</h3><p>Device products must have defined data points. If you want to set the value of the extended field binary to hexadecimal 1234567, you need to pad the extended field to the given length:<br>The default type of the extended field is hex16, and base64 can be used to set the binary_coding parameter as well.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;attrs&quot;: &#123;</span><br><span class="line">    &quot;boolean&quot;:true,</span><br><span class="line">    &quot;binary&quot;: &quot;1234567000&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/scene</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>scene_name</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Scenario name</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Scenario remarks</td>
</tr>
<tr>
<td>task_type</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Scenario task type: “delay”: Delayed task, “device”: Control a single device task, “group”: Control the device group task (only control the group with a single product_key) </td>
</tr>
<tr>
<td>time</td>
<td>integer</td>
<td>No</td>
<td>body</td>
<td>Delay time for delayed task in seconds, maximum: 3600 seconds</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Device did, for a single control task</td>
</tr>
<tr>
<td>group_id</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Device group ID for the device group task</td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td>No</td>
<td>body</td>
<td>For non-delayed task, data point control commands, fill in order number for enumeration data point, fill in base64 encoded string for extended data point</td>
</tr>
<tr>
<td>raw</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>For non-delayed task, raw instructions, base64 encoding</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Scenario ID</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;id&quot;: &quot;59c8d5c38c7d50001a21c872&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Delete-a-scenario"><a href="#Delete-a-scenario" class="headerlink" title="Delete a scenario"></a>Delete a scenario</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE</span><br><span class="line">https://api.gizwits.com/app/scene/&#123;id&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Scenario ID</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h2 id="Update-a-scenario-information"><a href="#Update-a-scenario-information" class="headerlink" title="Update a scenario information"></a>Update a scenario information</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/scene/&#123;id&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Scenario ID</td>
</tr>
<tr>
<td>scene_name</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Scenario name</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Scenario remarks</td>
</tr>
<tr>
<td>task_type</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Scenario task type: “delay”: Delayed task, “device”: Control a single device task, “group”: Control the device group task (only control the group with a single product_key)</td>
</tr>
<tr>
<td>time</td>
<td>integer</td>
<td>No</td>
<td>body</td>
<td>Delay time for delayed task in seconds, maximum: 3600 seconds</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Device did, for a single control task</td>
</tr>
<tr>
<td>group_id</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Device group ID for the device group task</td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td>No</td>
<td>body</td>
<td>For non-delayed task, data point control commands, fill in order number for enumeration data point, fill in base64 encoded string for extended data point</td>
</tr>
<tr>
<td>raw</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>For non-delayed task, raw instructions, base64 encoding</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h2 id="Get-task-execution-status-of-a-given-scenario"><a href="#Get-task-execution-status-of-a-given-scenario" class="headerlink" title="Get task execution status of a given scenario"></a>Get task execution status of a given scenario</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/scene/&#123;id&#125;/task</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Scenario ID</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>integer</td>
<td>Scenario task execution status, 0: In progress; 1: Execution completed; 2: Execution failed; 3: Task not executed</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;status&quot;: 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Perform-a-scenario-task"><a href="#Perform-a-scenario-task" class="headerlink" title="Perform a scenario task"></a>Perform a scenario task</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/scene/&#123;id&#125;/task</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Scenario ID</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<ul>
<li>If return successfully, start to perform scenario task</li>
</ul>
<h1 id="Task-Scheduling-Management"><a href="#Task-Scheduling-Management" class="headerlink" title="Task Scheduling Management"></a>Task Scheduling Management</h1><p>Scheduled tasks are divided into the following categories:</p>
<ul>
<li>One-time tasks</li>
<li>Weekly scheduled recurring tasks</li>
<li>Daily scheduled recurring tasks</li>
</ul>
<p>The enabled status of each scheduled task can be set. Only those scheduled tasks that are enabled can be executed.</p>
<p>All APIs under scheduling task management use UTC time</p>
<p>Scheduling task management API can only set scheduled tasks for a single device</p>
<h2 id="Get-a-list-of-scheduled-tasks"><a href="#Get-a-list-of-scheduled-tasks" class="headerlink" title="Get a list of scheduled tasks"></a>Get a list of scheduled tasks</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/devices/&#123;did&#125;/scheduler?limit=20&amp;skip=0</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device ID for the scheduled task</td>
</tr>
<tr>
<td>limit</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>The number of returned items  </td>
</tr>
<tr>
<td>skip</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>Indicates the number of skipped items, indirectly indicating the number of pages.</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Task ID</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>Task creation time(UTC time)</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Product PK </td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Device ID of the scheduled task</td>
</tr>
<tr>
<td>raw</td>
<td>string</td>
<td>Raw instructions </td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td></td>
</tr>
<tr>
<td>date</td>
<td>string</td>
<td>Execution time for one-time task</td>
</tr>
<tr>
<td>time</td>
<td>string</td>
<td>Scheduled task execution time, accurate to minute, format xx:xx, eg: 02:30</td>
</tr>
<tr>
<td>repeat</td>
<td>string</td>
<td>Whether to repeat, “none”, “mon”, “tue”, “wed”, “thu”, “fri”, “sat”, “sun”</td>
</tr>
<tr>
<td>days</td>
<td>Array</td>
<td>Date list for repeat, for example [1, 15] repeats on the 1st and 15th of each month</td>
</tr>
<tr>
<td>start_date</td>
<td>string</td>
<td>The start date of scheduled task execution, starting at 0:00, format xxxx-xx-xx, eg 2016-09-01</td>
</tr>
<tr>
<td>end_date</td>
<td>string</td>
<td>The end date of scheduled task execution, ending at the end of the day, format xxxx-xx-xx, eg 2016-10-01</td>
</tr>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>Whether it is enabled, if it is not enabled, it will not be triggered at the set time. The default is enabled.</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>Task remarks</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;remark&quot;: &quot;备注&quot;,</span><br><span class="line">    &quot;repeat&quot;: &quot;none&quot;,</span><br><span class="line">    &quot;end_date&quot;: &quot;2017-09-26&quot;,</span><br><span class="line">    &quot;did&quot;: &quot;LWHWrRAnzRbxtv9cyuNFSY&quot;,</span><br><span class="line">    &quot;created_at&quot;: &quot;2017-09-26T06:36:47&quot;,</span><br><span class="line">    &quot;enabled&quot;: true,</span><br><span class="line">    &quot;days&quot;: [],</span><br><span class="line">    &quot;product_key&quot;: &quot;b6777e0a343b422b8c474254e016b4dc&quot;,</span><br><span class="line">    &quot;id&quot;: &quot;59c9f57f8c7d50001963992c&quot;,</span><br><span class="line">    &quot;raw&quot;: &quot;&quot;,</span><br><span class="line">    &quot;attrs&quot;: &#123;</span><br><span class="line">      &quot;bool&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;time&quot;: &quot;15:00&quot;,</span><br><span class="line">    &quot;date&quot;: &quot;2017-09-26&quot;,</span><br><span class="line">    &quot;start_date&quot;: &quot;2017-09-20&quot;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="Create-a-scheduled-task"><a href="#Create-a-scheduled-task" class="headerlink" title="Create a scheduled task"></a>Create a scheduled task</h2><p>Debug console</p>
<h3 id="Creating-one-time-tasks"><a href="#Creating-one-time-tasks" class="headerlink" title="Creating one-time tasks"></a>Creating one-time tasks</h3><ul>
<li>repeat is set with none</li>
<li>date and time must be filled in, and note that date and time are UTC time when performing scheduled tasks</li>
</ul>
<h3 id="Create-weekly-occurring-scheduled-tasks"><a href="#Create-weekly-occurring-scheduled-tasks" class="headerlink" title="Create weekly occurring scheduled tasks"></a>Create weekly occurring scheduled tasks</h3><ul>
<li>repeat is a repeating days of each week, separated by multiple commas; For example, if a task is executed every Monday, it is set to “mon”, if executed every Monday and Wednesday, it is set to “mon, wed”;</li>
<li>When repeat is a repeating days of each week, the optional values are: mon,tue,wed,thu,fri,sat,sun</li>
<li>time must be filled in, and note that the week and time for performing scheduled tasks are UTC time</li>
<li>start_date and end_date can be filled in optionally, which indicate the date range for scheduled tasks to perform</li>
</ul>
<h3 id="Create-daily-occurring-scheduled-tasks"><a href="#Create-daily-occurring-scheduled-tasks" class="headerlink" title="Create daily occurring scheduled tasks"></a>Create daily occurring scheduled tasks</h3><ul>
<li>repeat is set with day</li>
<li>days is set with the date list for the task excution; For example, if the task is executed on the 1st of each month, set to [“1”]; if executed on the 1st, 15th of each month, set to [“1”, “15”]</li>
<li>time must be filled in, and note that days and time are UTC time when performing scheduled tasks</li>
<li>start_date and end_date can be filled in optionally, which indicate the date range for scheduled tasks to perform</li>
</ul>
<h3 id="Raw-instructions-raw-4"><a href="#Raw-instructions-raw-4" class="headerlink" title="Raw instructions (raw):"></a>Raw instructions (raw):</h3><p>The default format is hex16. The binary_coding parameter can be set as base64.<br>If you want to send a payload of binary 011000010110001001100011, after every byte of the binary string is converted to a hexadecimal, you will get: 616263;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;raw&quot;: 616263</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Data-point-attrs-4"><a href="#Data-point-attrs-4" class="headerlink" title="Data point (attrs):"></a>Data point (attrs):</h3><p>Device products must have defined data points. If you want to set the value of the extended field binary to hexadecimal 1234567, you need to pad the extended field to the given length:<br>The default type of the extended field is hex16, and base64 can be used to set the binary_coding parameter as well.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;attrs&quot;: &#123;</span><br><span class="line">    &quot;boolean&quot;:true,</span><br><span class="line">    &quot;binary&quot;: &quot;1234567000&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/devices/&#123;did&#125;/scheduler</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device ID of the scheduled task</td>
</tr>
<tr>
<td>raw</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Raw instructions </td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td>No</td>
<td>body</td>
<td></td>
</tr>
<tr>
<td>date</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Execution time for one-time task</td>
</tr>
<tr>
<td>time</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Scheduled task execution time, accurate to minute, format xx:xx, eg: 02:30</td>
</tr>
<tr>
<td>repeat</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Whether to repeat, “none”, “mon”, “tue”, “wed”, “thu”, “fri”, “sat”, “sun”</td>
</tr>
<tr>
<td>days</td>
<td>Array</td>
<td>No</td>
<td>body</td>
<td>Date list for repeat, for example [1, 15] repeats on the 1st and 15th of each month</td>
</tr>
<tr>
<td>start_date</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>The start date of scheduled task execution, starting at 0:00, format xxxx-xx-xx, eg 2016-09-01</td>
</tr>
<tr>
<td>end_date</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>The end date of scheduled task execution, ending at the end of the day, format xxxx-xx-xx, eg 2016-10-01</td>
</tr>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>No</td>
<td>body</td>
<td>Whether it is enabled, if it is not enabled, it will not be triggered at the set time. The default is enabled.</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Task remarks</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Task ID</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;id&quot;: &quot;59c9f57f8c7d50001963992c&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Update-a-scheduled-task"><a href="#Update-a-scheduled-task" class="headerlink" title="Update a scheduled task"></a>Update a scheduled task</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PUT</span><br><span class="line">https://api.gizwits.com/app/devices/&#123;did&#125;/scheduler/&#123;id&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device ID of the scheduled task</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>ID of the task to be updated</td>
</tr>
<tr>
<td>raw</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Raw instructions </td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td>No</td>
<td>body</td>
<td></td>
</tr>
<tr>
<td>date</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Execution time for one-time task</td>
</tr>
<tr>
<td>time</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Scheduled task execution time, accurate to minute, format xx:xx, eg: 02:30</td>
</tr>
<tr>
<td>repeat</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Whether to repeat, “none”, “mon”, “tue”, “wed”, “thu”, “fri”, “sat”, “sun”</td>
</tr>
<tr>
<td>days</td>
<td>Array</td>
<td>No</td>
<td>body</td>
<td>Date list for repeat, for example [1, 15] repeats on the 1st and 15th of each month</td>
</tr>
<tr>
<td>start_date</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>The start date of scheduled task execution, starting at 0:00, format xxxx-xx-xx, eg 2016-09-01</td>
</tr>
<tr>
<td>end_date</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>The end date of scheduled task execution, ending at the end of the day, format xxxx-xx-xx, eg 2016-10-01</td>
</tr>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>No</td>
<td>body</td>
<td>Whether it is enabled, if it is not enabled, it will not be triggered at the set time. The default is enabled.</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Task remarks</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Task ID</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;id&quot;: &quot;59c9f57f8c7d50001963992c&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Delete-a-scheduled-task"><a href="#Delete-a-scheduled-task" class="headerlink" title="Delete a scheduled task"></a>Delete a scheduled task</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE</span><br><span class="line">https://api.gizwits.com/app/devices/&#123;did&#125;/scheduler/&#123;id&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device ID for setting a scheduled task</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Task ID</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h1 id="Common-Task-Scheduling"><a href="#Common-Task-Scheduling" class="headerlink" title="Common Task Scheduling"></a>Common Task Scheduling</h1><p>The common task scheduling is a set of upgraded APIs for task scheduling management. It can create scheduled tasks for scenarios, groups, and individual devices.</p>
<h2 id="Get-a-common-scheduled-task"><a href="#Get-a-common-scheduled-task" class="headerlink" title="Get a common scheduled task"></a>Get a common scheduled task</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/app/common_scheduler?did=&#123;did&#125;&amp;group_id=&#123;group_id&#125;&amp;scene_id=&#123;scene_id&#125;&amp;limit=&#123;limit&#125;&amp;skip=&#123;skip&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>No</td>
<td>path</td>
<td>Device ID for setting a scheduled task</td>
</tr>
<tr>
<td>group_id</td>
<td>string</td>
<td>No</td>
<td>path</td>
<td>Group ID</td>
</tr>
<tr>
<td>scene_id</td>
<td>string</td>
<td>No</td>
<td>path</td>
<td>Scenario ID</td>
</tr>
<tr>
<td>limit</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>The number of returned items </td>
</tr>
<tr>
<td>skip</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>Indicates the number of skipped items, indirectly indicating the number of pages. </td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Task ID</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>Task creation time(UTC time)</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Product PK</td>
</tr>
<tr>
<td>scene_id</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>group_id</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Device ID for setting a scheduled task</td>
</tr>
<tr>
<td>raw</td>
<td>string</td>
<td>Raw instructions</td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td></td>
</tr>
<tr>
<td>date</td>
<td>string</td>
<td>Execution time for one-time task</td>
</tr>
<tr>
<td>time</td>
<td>string</td>
<td>Scheduled task execution time, accurate to minute, format xx:xx, eg: 02:30</td>
</tr>
<tr>
<td>repeat</td>
<td>string</td>
<td>Whether to repeat, “none”, “mon”, “tue”, “wed”, “thu”, “fri”, “sat”, “sun”</td>
</tr>
<tr>
<td>days</td>
<td>Array</td>
<td>Date list for repeat, for example [1, 15] repeats on the 1st and 15th of each month</td>
</tr>
<tr>
<td>start_date</td>
<td>string</td>
<td>The start date of scheduled task execution, starting at 0:00, format xxxx-xx-xx, eg 2016-09-01</td>
</tr>
<tr>
<td>end_date</td>
<td>string</td>
<td>The end date of scheduled task execution, ending at the end of the day, format xxxx-xx-xx, eg 2016-10-01</td>
</tr>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>Whether it is enabled, if it is not enabled, it will not be triggered at the set time. The default is enabled.</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>Task remarks</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;remark&quot;: &quot;备注&quot;,</span><br><span class="line">    &quot;repeat&quot;: &quot;none&quot;,</span><br><span class="line">    &quot;end_date&quot;: &quot;2017-09-26&quot;,</span><br><span class="line">    &quot;did&quot;: &quot;LWHWrRAnzRbxtv9cyuNFSY&quot;,</span><br><span class="line">    &quot;created_at&quot;: &quot;2017-09-26T06:36:47&quot;,</span><br><span class="line">    &quot;enabled&quot;: true,</span><br><span class="line">    &quot;days&quot;: [],</span><br><span class="line">    &quot;product_key&quot;: &quot;b6777e0a343b422b8c474254e016b4dc&quot;,</span><br><span class="line">    &quot;id&quot;: &quot;59c9f57f8c7d50001963992c&quot;,</span><br><span class="line">    &quot;raw&quot;: &quot;&quot;,</span><br><span class="line">    &quot;attrs&quot;: &#123;</span><br><span class="line">      &quot;bool&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;time&quot;: &quot;15:00&quot;,</span><br><span class="line">    &quot;date&quot;: &quot;2017-09-26&quot;,</span><br><span class="line">    &quot;scene_id&quot;: &quot;&quot;,</span><br><span class="line">    &quot;group_id&quot;: &quot;&quot;,</span><br><span class="line">    &quot;start_date&quot;: &quot;2017-09-20&quot;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="Create-a-common-scheduled-task"><a href="#Create-a-common-scheduled-task" class="headerlink" title="Create a common scheduled task"></a>Create a common scheduled task</h2><p>Debug console</p>
<ul>
<li>Only one of the did, group_id, and scene_id parameters need to be filled in. They are used to create scheduled tasks for device, devices group, and user scenario.</li>
<li>If more than one are filled in at the same time, the first valid string is taken according to the priority; </li>
<li>For scenario tasks, you do not need to fill in the raw and attrs commands. The filled value will be ignored.</li>
<li>Creating recurring tasks is same as the task scheduling management API.</li>
</ul>
<h3 id="Raw-instructions-raw-5"><a href="#Raw-instructions-raw-5" class="headerlink" title="Raw instructions (raw):"></a>Raw instructions (raw):</h3><p>The default format is hex16. The binary_coding parameter can be set as base64.<br>If you want to send a payload of binary 011000010110001001100011, after every byte of the binary string is converted to a hexadecimal, you will get: 616263;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;raw&quot;: 616263</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Data-point-attrs-5"><a href="#Data-point-attrs-5" class="headerlink" title="Data point (attrs):"></a>Data point (attrs):</h3><p>Device products must have defined data points. If you want to set the value of the extended field binary to hexadecimal 1234567, you need to pad the extended field to the given length:<br>The default type of the extended field is hex16, and base64 can be used to set the binary_coding parameter as well.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;attrs&quot;: &#123;</span><br><span class="line">    &quot;boolean&quot;:true,</span><br><span class="line">    &quot;binary&quot;: &quot;1234567000&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST</span><br><span class="line">https://api.gizwits.com/app/common_scheduler</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Device ID of the scheduled task</td>
</tr>
<tr>
<td>group_id</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Group ID of the scheduled task</td>
</tr>
<tr>
<td>scene_id</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Scenario ID of the scheduled task</td>
</tr>
<tr>
<td>raw</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Raw instructions</td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td>No</td>
<td>body</td>
<td></td>
</tr>
<tr>
<td>date</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Execution time for one-time task</td>
</tr>
<tr>
<td>time</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Scheduled task execution time, accurate to minute, format xx:xx, eg: 02:30</td>
</tr>
<tr>
<td>repeat</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Whether to repeat, “none”, “mon”, “tue”, “wed”, “thu”, “fri”, “sat”, “sun”</td>
</tr>
<tr>
<td>days</td>
<td>Array</td>
<td>No</td>
<td>body</td>
<td>Date list for repeat, for example [1, 15] repeats on the 1st and 15th of each month</td>
</tr>
<tr>
<td>start_date</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>The start date of scheduled task execution, starting at 0:00, format xxxx-xx-xx, eg 2016-09-01</td>
</tr>
<tr>
<td>end_date</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>The end date of scheduled task execution, ending at the end of the day, format xxxx-xx-xx, eg 2016-10-01</td>
</tr>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>No</td>
<td>body</td>
<td>Whether it is enabled, if it is not enabled, it will not be triggered at the set time. The default is enabled.</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Task remarks</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Task ID</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;id&quot;: &quot;59c9f57f8c7d50001963992c&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Update-a-common-scheduled-task"><a href="#Update-a-common-scheduled-task" class="headerlink" title="Update a common scheduled task"></a>Update a common scheduled task</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PUT</span><br><span class="line">https://api.gizwits.com/app/common_scheduler/&#123;id&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Task ID</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Device ID of the scheduled task</td>
</tr>
<tr>
<td>group_id</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Group ID of the scheduled task</td>
</tr>
<tr>
<td>scene_id</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Scenario ID of the scheduled task</td>
</tr>
<tr>
<td>raw</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Raw instructions</td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td>No</td>
<td>body</td>
<td></td>
</tr>
<tr>
<td>date</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Execution time for one-time task</td>
</tr>
<tr>
<td>time</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Scheduled task execution time, accurate to minute, format xx:xx, eg: 02:30</td>
</tr>
<tr>
<td>repeat</td>
<td>string</td>
<td>Yes</td>
<td>body</td>
<td>Whether to repeat, “none”, “mon”, “tue”, “wed”, “thu”, “fri”, “sat”, “sun”</td>
</tr>
<tr>
<td>days</td>
<td>Array</td>
<td>No</td>
<td>body</td>
<td>Date list for repeat, for example [1, 15] repeats on the 1st and 15th of each month</td>
</tr>
<tr>
<td>start_date</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>The start date of scheduled task execution, starting at 0:00, format xxxx-xx-xx, eg 2016-09-01</td>
</tr>
<tr>
<td>end_date</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>The end date of scheduled task execution, ending at the end of the day, format xxxx-xx-xx, eg 2016-10-01</td>
</tr>
<tr>
<td>enabled</td>
<td>boolean</td>
<td>No</td>
<td>body</td>
<td>Whether it is enabled, if it is not enabled, it will not be triggered at the set time. The default is enabled.</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>No</td>
<td>body</td>
<td>Task remarks</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Task ID</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;id&quot;: &quot;59c9f57f8c7d50001963992c&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Delete-a-common-scheduled-task"><a href="#Delete-a-common-scheduled-task" class="headerlink" title="Delete a common scheduled task"></a>Delete a common scheduled task</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE</span><br><span class="line">https://api.gizwits.com/app/common_scheduler/&#123;id&#125;</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device ID of the scheduled task</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Task ID</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<p>No</p>
<h1 id="Advanced-Data-API"><a href="#Advanced-Data-API" class="headerlink" title="Advanced Data API"></a>Advanced Data API</h1><h2 id="Get-an-aggregated-value-of-a-given-device"><a href="#Get-an-aggregated-value-of-a-given-device" class="headerlink" title="Get an aggregated value of a given device"></a>Get an aggregated value of a given device</h2><p>The API can aggregate the numeric values of the data point reported by the device, and can aggregate the data point values into sum/average/maximum/minimum by hours/days/weeks/months.</p>
<p>You can get aggregated data for multiple data points at a time.</p>
<p>To use this API, you must request to open it at first. After its acception, data reported will be aggregated.</p>
<p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PUT</span><br><span class="line">https://api.gizwits.com/app/devdata/&#123;did&#125;/agg_data</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
<tr>
<td>X-Gizwits-User-token</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>User token</td>
</tr>
<tr>
<td>did</td>
<td>string</td>
<td>Yes</td>
<td>path</td>
<td>Device ID</td>
</tr>
<tr>
<td>start_ts</td>
<td>integer</td>
<td>Yes</td>
<td>query</td>
<td>Start time in milliseconds</td>
</tr>
<tr>
<td>end_ts</td>
<td>integer</td>
<td>No</td>
<td>query</td>
<td>End time in milliseconds</td>
</tr>
<tr>
<td>attrs</td>
<td>string</td>
<td>Yes</td>
<td>query</td>
<td>Numeric data point name, multiple data points separated by commas</td>
</tr>
<tr>
<td>aggregator</td>
<td>string</td>
<td>Yes</td>
<td>query</td>
<td>Statistical method, sum: total; avg: average; max: maximum; min: minimum</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>Yes</td>
<td>query</td>
<td>Summary method, hours,days,weeks,months</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>aggregator</td>
<td>string</td>
<td>Statistical method, sum: total; avg: average; max: maximum; min: minimum</td>
</tr>
<tr>
<td>end_ts</td>
<td>integer</td>
<td>Start time in milliseconds</td>
</tr>
<tr>
<td>start_ts</td>
<td>integer</td>
<td>End time in milliseconds</td>
</tr>
<tr>
<td>attrs</td>
<td>string</td>
<td>Queried data points</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>Sum: total; avg: average; max: maximum; min: minimum</td>
</tr>
<tr>
<td>datatime</td>
<td>string</td>
<td></td>
</tr>
<tr>
<td>uid</td>
<td>string</td>
<td>User ID</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>Product PK</td>
</tr>
<tr>
<td>attrs</td>
<td>object</td>
<td>Aggregation results for data points</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;query&quot;: &#123;</span><br><span class="line">    &quot;aggregator&quot;: &quot;sum&quot;,</span><br><span class="line">    &quot;end_ts&quot;: null,</span><br><span class="line">    &quot;start_ts&quot;: 1505318400000,</span><br><span class="line">    &quot;attrs&quot;: &quot;set_temp, alert_shutdown, room_temp&quot;,</span><br><span class="line">    &quot;unit&quot;: &quot;HOURS&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;data&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;datatime&quot;:&quot;&quot;,</span><br><span class="line">      &quot;uid&quot;:&quot;c0a85d0773e24f15a6853f3148c80a33&quot;,</span><br><span class="line">      &quot;product_key&quot;:&quot;42121342d79694a259232431b6f2ef46a&quot;,</span><br><span class="line">      &quot;attrs&quot;:&#123;</span><br><span class="line">        &quot;set_temp&quot;:&quot;12&quot;,</span><br><span class="line">        &quot;alert_shutdown&quot;:&quot;12&quot;,</span><br><span class="line">        &quot;room_temp&quot;:&quot;12&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="System-Information"><a href="#System-Information" class="headerlink" title="System Information"></a>System Information</h1><h2 id="Get-service-status"><a href="#Get-service-status" class="headerlink" title="Get service status"></a>Get service status</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/status</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>version</td>
<td>string</td>
<td>Open API version</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;status&quot;: &#123;</span><br><span class="line">    &quot;version&quot;: &quot;2.15.1&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Get-error-status-code-list"><a href="#Get-error-status-code-list" class="headerlink" title="Get error status code list"></a>Get error status code list</h2><p>Debug console</p>
<p>Request method and URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line">https://api.gizwits.com/errors</span><br></pre></td></tr></table></figure>
<p>Request paramters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Required</th>
<th>Param Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X-Gizwits-Application-Id</td>
<td>string</td>
<td>Yes</td>
<td>header</td>
<td>appid</td>
</tr>
</tbody>
</table>
<p>Response Parameters</p>
<table>
<thead>
<tr>
<th>Params</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>string</td>
<td>Response code</td>
</tr>
<tr>
<td>error_code</td>
<td>string</td>
<td>Error code</td>
</tr>
<tr>
<td>error_message</td>
<td>string</td>
<td>Error message</td>
</tr>
</tbody>
</table>
<p>Example Response</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;status&quot;: 404,</span><br><span class="line">    &quot;error_message&quot;: &quot;scene not found!&quot;,</span><br><span class="line">    &quot;error_code&quot;: 9220</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;status&quot;: 400,</span><br><span class="line">    &quot;error_message&quot;: &quot;the scene does not belong to you!&quot;,</span><br><span class="line">    &quot;error_code&quot;: 9221</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>Detailed error information can be viewed in the following table Open API error code table.</p>
<h2 id="Appendix-Open-API-error-codes-table"><a href="#Appendix-Open-API-error-codes-table" class="headerlink" title="Appendix: Open API error codes table"></a>Appendix: Open API error codes table</h2><table>
<thead>
<tr>
<th>Error Code</th>
<th>Error Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>9001</td>
<td>GIZ_OPENAPI_MAC_ALREADY_REGISTERED</td>
<td>mac already registered!</td>
</tr>
<tr>
<td>9002</td>
<td>GIZ_OPENAPI_PRODUCT_KEY_INVALID</td>
<td>product_key invalid</td>
</tr>
<tr>
<td>9003</td>
<td>GIZ_OPENAPI_APPID_INVALID</td>
<td>appid invalid</td>
</tr>
<tr>
<td>9004</td>
<td>GIZ_OPENAPI_TOKEN_INVALID</td>
<td>token invalid</td>
</tr>
<tr>
<td>9005</td>
<td>GIZ_OPENAPI_USER_NOT_EXIST</td>
<td>user not exist</td>
</tr>
<tr>
<td>9006</td>
<td>GIZ_OPENAPI_TOKEN_EXPIRED</td>
<td>token expired</td>
</tr>
<tr>
<td>9007</td>
<td>GIZ_OPENAPI_M2M_ID_INVALID</td>
<td>m2m_id invalid</td>
</tr>
<tr>
<td>9008</td>
<td>GIZ_OPENAPI_SERVER_ERROR</td>
<td>server error</td>
</tr>
<tr>
<td>9009</td>
<td>GIZ_OPENAPI_CODE_EXPIRED</td>
<td>code expired</td>
</tr>
<tr>
<td>9010</td>
<td>GIZ_OPENAPI_CODE_INVALID</td>
<td>code invalid</td>
</tr>
<tr>
<td>9011</td>
<td>GIZ_OPENAPI_SANDBOX_SCALE_QUOTA_EXHAUSTED</td>
<td>sandbox scale quota exhausted!</td>
</tr>
<tr>
<td>9012</td>
<td>GIZ_OPENAPI_PRODUCTION_SCALE_QUOTA_EXHAUSTED</td>
<td>production scale quota exhausted!</td>
</tr>
<tr>
<td>9013</td>
<td>GIZ_OPENAPI_PRODUCT_HAS_NO_REQUEST_SCALE</td>
<td>product has no request scale!</td>
</tr>
<tr>
<td>9014</td>
<td>GIZ_OPENAPI_DEVICE_NOT_FOUND</td>
<td>device not found!</td>
</tr>
<tr>
<td>9015</td>
<td>GIZ_OPENAPI_FORM_INVALID</td>
<td>form invalid!</td>
</tr>
<tr>
<td>9016</td>
<td>GIZ_OPENAPI_DID_PASSCODE_INVALID</td>
<td>did or passcode invalid!</td>
</tr>
<tr>
<td>9017</td>
<td>GIZ_OPENAPI_DEVICE_NOT_BOUND</td>
<td>device not bound!</td>
</tr>
<tr>
<td>9018</td>
<td>GIZ_OPENAPI_PHONE_UNAVALIABLE</td>
<td>phone unavailable!</td>
</tr>
<tr>
<td>9019</td>
<td>GIZ_OPENAPI_USERNAME_UNAVALIABLE</td>
<td>username unavailable!</td>
</tr>
<tr>
<td>9020</td>
<td>GIZ_OPENAPI_USERNAME_PASSWORD_ERROR</td>
<td>username or password error!</td>
</tr>
<tr>
<td>9021</td>
<td>GIZ_OPENAPI_SEND_COMMAND_FAILED</td>
<td>send command failed!</td>
</tr>
<tr>
<td>9022</td>
<td>GIZ_OPENAPI_EMAIL_UNAVALIABLE</td>
<td>email unavailable!</td>
</tr>
<tr>
<td>9023</td>
<td>GIZ_OPENAPI_DEVICE_DISABLED</td>
<td>device is disabled!</td>
</tr>
<tr>
<td>9024</td>
<td>GIZ_OPENAPI_FAILED_NOTIFY_M2M</td>
<td>fail to notify m2m!</td>
</tr>
<tr>
<td>9025</td>
<td>GIZ_OPENAPI_ATTR_INVALID</td>
<td>attr invalid!</td>
</tr>
<tr>
<td>9026</td>
<td>GIZ_OPENAPI_USER_INVALID</td>
<td>user invalid!</td>
</tr>
<tr>
<td>9027</td>
<td>GIZ_OPENAPI_FIRMWARE_NOT_FOUND</td>
<td>firmware not found!</td>
</tr>
<tr>
<td>9028</td>
<td>GIZ_OPENAPI_JD_PRODUCT_NOT_FOUND</td>
<td>JD product info not found!</td>
</tr>
<tr>
<td>9029</td>
<td>GIZ_OPENAPI_DATAPOINT_DATA_NOT_FOUND</td>
<td>datapoint data not found!</td>
</tr>
<tr>
<td>9030</td>
<td>GIZ_OPENAPI_SCHEDULER_NOT_FOUND</td>
<td>scheduler not found!</td>
</tr>
<tr>
<td>9031</td>
<td>GIZ_OPENAPI_QQ_OAUTH_KEY_INVALID</td>
<td>qq oauth key invalid!</td>
</tr>
<tr>
<td>9032</td>
<td>GIZ_OPENAPI_OTA_SERVICE_OK_BUT_IN_IDLE</td>
<td>ota upgrade service OK, but in idle or disable!</td>
</tr>
<tr>
<td>9033</td>
<td>GIZ_OPENAPI_BT_FIRMWARE_UNVERIFIED</td>
<td>bt firmware unverified,except verify device!</td>
</tr>
<tr>
<td>9034</td>
<td>GIZ_OPENAPI_BT_FIRMWARE_NOTHING_TO_UPGRADE</td>
<td>bt firmware is OK, but nothing to upgrade!</td>
</tr>
<tr>
<td>9035</td>
<td>GIZ_OPENAPI_SAVE_KAIROSDB_ERROR</td>
<td>Save kairosdb error!</td>
</tr>
<tr>
<td>9036</td>
<td>GIZ_OPENAPI_EVENT_NOT_DEFINED</td>
<td>event not defined!</td>
</tr>
<tr>
<td>9037</td>
<td>GIZ_OPENAPI_SEND_SMS_FAILED</td>
<td>send sms failed!</td>
</tr>
<tr>
<td>9038</td>
<td>GIZ_OPENAPI_APPLICATION_AUTH_INVALID</td>
<td>X-Gizwits-Application-Auth invalid!</td>
</tr>
<tr>
<td>9039</td>
<td>GIZ_OPENAPI_NOT_ALLOWED_CALL_API</td>
<td>Not allowed to call deprecated API!</td>
</tr>
<tr>
<td>9040</td>
<td>GIZ_OPENAPI_BAD_QRCODE_CONTENT</td>
<td>bad qrcode content!</td>
</tr>
<tr>
<td>9041</td>
<td>GIZ_OPENAPI_REQUEST_THROTTLED</td>
<td>request was throttled</td>
</tr>
<tr>
<td>9042</td>
<td>GIZ_OPENAPI_DEVICE_OFFLINE</td>
<td>device offline!</td>
</tr>
<tr>
<td>9043</td>
<td>GIZ_OPENAPI_TIMESTAMP_INVALID</td>
<td>X-Gizwits-Timestamp invalid!</td>
</tr>
<tr>
<td>9044</td>
<td>GIZ_OPENAPI_SIGNATURE_INVALID</td>
<td>X-Gizwits-Signature invalid!</td>
</tr>
<tr>
<td>9045</td>
<td>GIZ_OPENAPI_DEPRECATED_API</td>
<td>API deprecated!</td>
</tr>
<tr>
<td>9046</td>
<td>GIZ_OPENAPI_REGISTER_IS_BUSY</td>
<td>Register already in progress!</td>
</tr>
<tr>
<td>9077</td>
<td>GIZ_OPENAPI</td>
<td>email already exists but not activate!</td>
</tr>
<tr>
<td>9080</td>
<td>GIZ_OPENAPI_CANNOT_SHARE_TO_SELF</td>
<td>can not share device to self!</td>
</tr>
<tr>
<td>9081</td>
<td>GIZ_OPENAPI_ONLY_OWNER_CAN_SHARE</td>
<td>guest or normal user can not share device!</td>
</tr>
<tr>
<td>9082</td>
<td>GIZ_OPENAPI_NOT_FOUND_GUEST</td>
<td>guest user not found!</td>
</tr>
<tr>
<td>9083</td>
<td>GIZ_OPENAPI_GUEST_ALREADY_BOUND</td>
<td>guest user alread bound!</td>
</tr>
<tr>
<td>9084</td>
<td>GIZ_OPENAPI_NOT_FOUND_SHARING_INFO</td>
<td>sharing record not found!</td>
</tr>
<tr>
<td>9085</td>
<td>GIZ_OPENAPI_NOT_FOUND_THE_MESSAGE</td>
<td>message record not found!</td>
</tr>
<tr>
<td>9087</td>
<td>GIZ_OPENAPI_SHARING_IS_WAITING_FOR_ACCEPT</td>
<td>sharing alread created,waiting for the guest to accept!</td>
</tr>
<tr>
<td>9088</td>
<td>GIZ_OPENAPI_SHARING_IS_EXPIRED</td>
<td>sharing record expired!</td>
</tr>
<tr>
<td>9089</td>
<td>GIZ_OPENAPI_SHARING_IS_COMPLETED</td>
<td>sharing record status is not unaccept!</td>
</tr>
<tr>
<td>9090</td>
<td>GIZ_OPENAPI_INVALID_SHARING_BECAUSE_UNBINDING</td>
<td>owner binding disabled!</td>
</tr>
<tr>
<td>9092</td>
<td>GIZ_OPENAPI_ONLY_OWNER_CAN_BIND</td>
<td>owner exist, guest can not bind!</td>
</tr>
<tr>
<td>9093</td>
<td>GIZ_OPENAPI_ONLY_OWNER_CAN_OPERATE</td>
<td>permission denied, you are not owner!</td>
</tr>
<tr>
<td>9094</td>
<td>GIZ_OPENAPI_SHARING_ALREADY_CANCELLED</td>
<td>sharing already canceled!</td>
</tr>
<tr>
<td>9095</td>
<td>GIZ_OPENAPI_OWNER_CANNOT_UNBIND_SELF</td>
<td>can not unbind self!</td>
</tr>
<tr>
<td>9096</td>
<td>GIZ_OPENAPI_ONLY_GUEST_CAN_CHECK_QRCODE</td>
<td>permission denied, you are not guest!</td>
</tr>
<tr>
<td>9098</td>
<td>GIZ_OPENAPI_MESSAGE_ALREADY_DELETED</td>
<td>notify delele binding failed!</td>
</tr>
<tr>
<td>9099</td>
<td>GIZ_OPENAPI_BINDING_NOTIFY_FAILED</td>
<td>notify delele binding failed!</td>
</tr>
<tr>
<td>9100</td>
<td>GIZ_OPENAPI_ONLY_SELF_CAN_MODIFY_ALIAS</td>
<td>permission denied, you are not owner or guest!</td>
</tr>
<tr>
<td>9101</td>
<td>GIZ_OPENAPI_ONLY_RECEIVER_CAN_MARK_MESSAGE</td>
<td>permission denied, you are not the receiver!</td>
</tr>
<tr>
<td>9999</td>
<td>GIZ_OPENAPI_RESERVED</td>
<td>reserved</td>
</tr>
</tbody>
</table>

    </div>
    
    <div class="widget-wrapper">
  <span class="widget">
    <div>
        <a id='share' target="_blank" title="Share">
          <span>Share</span>
        </a>
        <div class="social-share" data-initialized="true">
            <a href="#" class="social-share-icon icon-wechat"></a>
            <a href="#" class="social-share-icon icon-weibo"></a>
            <a href="#" class="social-share-icon icon-qq"></a>
            <a href="#" class="social-share-icon icon-qzone"></a>
            <a href="#" class="social-share-icon icon-douban"></a>
        </div>
    </div>
    <a href="http://y0.cn/docs" target="_blank" title="Register">
      <span>Register</span>
    </a>
    <a href="https://github.com/gizwits-docs/gizwits-docs/issues" target="_blank" title="Feed back">
      <span>Feed back</span>
    </a>
    <a href="#" title="Top"><i class="fa fa-angle-up fa-2x" aria-hidden="true"></i></a>
  </span>
</div>
  </div>
</div>

    <div class="footer">
  <div class="container">
    <p>
      <span><a href="http://www.gizwits.com" target="_blank">HOME</a></span>
      <span><a href="http://www.gizwits.com/about-us" target="_blank">ABOUT</a></span>
      <span><a href="http://www.gizwits.com/about-us#contact-us" target="_blank">CONTACT</a></span>
      <span><a href="http://www.gizwits.com/join-us" target="_blank">JOIN</a></span>
    </p>
    <p>&#169;2011-2017; Gizwits IoT Technology Co., Ltd. 粤ICP备11090211号</p>
  </div>
</div>

    <script src="/js/spin.min.js"></script>
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.hashchange.min.js"></script>
<script src="/js/clipboard.min.js"></script>
<script src="/js/scrollspy.js"></script>
<script src="/js/social-share.min.js"></script>
<script src="/js/documentation.js?v=d413cf8ceca4865c39c2dabcd3bc0077"></script>


<script type="text/javascript" src="http://webchat.7moor.com/javascripts/7moorInit.js?accessId=b01e0430-943a-11e6-8ad7-636675d9e71f&autoShow=true" async='async'></script>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?3787e6b3b29a084fde41f22828d89b7d";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
  </body>
</html>