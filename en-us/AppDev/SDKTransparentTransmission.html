
<!DOCTYPE html>
<html lang="en-us">
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">

  <title>Data transparent transmission of SDK - Gizwits</title>

  <meta http-equiv="X-UA-Compatible" content="IE=Edge, chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <meta name="Description" content="Data transparent transmission of SDK-Gizwits">
  <meta name="keywords" content="Data transparent transmission of SDK docs 文档中心 Gizwits">

  <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">
  <script src="/js/redirect.js"></script>

  <link rel="stylesheet" href="/css/pure.min.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/documentation.css?v=db6111caa3d210b6cb1d2dac5119d7c5">
  <link rel="stylesheet" href="/css/share.min.css">
</head>
  <body>
    <div class="header">
  <div class="container pure-g">
    <span class="brand pure-u-5-24">
      <a href="http://www.gizwits.com" class="logo">
      
      <img src="/images/logo_en.png" alt="logo">
      
      </a>
      <a class="text" href="/">Docs</a>
    </span>

    <div class="mobile-header" v="">
      <span class="title">Gizwits Docs</span>
      <i class="fa fa-caret-square-o-down fa-lg" aria-hidden="true"></i>
    </div>

    <span class="menu pure-u-16-24">
      <span class="header-search-btn" id="header-search-btn">
        <i class="fa fa-search"></i>
      </span>
      <ul class="levelA-wrapper">
        
          
            <li class="levelA"><a href="/en-us/overview/overview.html">Overview</a></li>
          
        
          
            <li class="levelA">
              Quick Start &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/quickstart/GizwitsQuickStart.html">Gizwits Quick Start within 5 mins</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/quickstart/glossary.html">Glossary</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              App Dev Guide &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/AppDevGetStarted.html">Get Started with APP Development</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/AppCodeAutoGenerator.html">Gizwits App Code Auto-Generator</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      APP Frame Guide &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSFramework.html">Gizwits App Framework for iOS</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSPushNotification.html">iOS Push Notification</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSAuthReSkin.html">iOS Auth Re-Skin</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSDevQuickStart.html">iOS APP Development Instruction</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/androidframe.html">Android frame</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidPushNotification.html">Android Push Notification</a></li>
                        
                          <li class="levelC"><a href="/en-us/quickstart/AndroidAppFrame.html">Quick start of Android App development</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/APICloudFrame.html">API Cloud Frame</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/VideoTutorial.html">Video tutorial of the App open source framework</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB has-submenu">
                      App SDK Guide &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/AppDev/iOSSDKA2.html">iOS SDK</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/AndroidSDKA2.html">Android SDK</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/APICloudWifiSDK.html">APICloud SDK</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/SDKTransparentTransmission.html">Data transparent transmission of SDK</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/SDKLogCapture.html">SDK debug log capture</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/sdk_error.html">SDK error codes</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/WechatDev/WeChatDev.html">WeChat SDK Guide</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/WechatDev/WechatDevIntro.html">WeChat Dev Intro</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      More Guide &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/cloud/SharingSDK.html">Gizwits Device Sharing</a></li>
                        
                          <li class="levelC"><a href="/en-us/AppDev/third-party.html">Application process for third-party authentication</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/AppDev/AppDevFAQ.html">App Dev FAQ</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              DeviceDev &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/DeviceDev/DeviceDevIntro.html">Get started with device connection</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      Gizwits Cloud access &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/quickstart/UseMCU.html">MCU scheme</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/UseSOC.html">ESP8266-SoC scheme</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/module_source/module_source.html">Module Documents</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      GAgent Documents &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/gagent_info.html">Detailed annotation of GAgent</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/DebugTool.html">Firmware downloading on modules</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/debug/HF-LPB100.html">HF-LPB100</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/debug/HF-LPT120.html">HF-LPT120</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/debug/MXCHIP.html">MXCHIP</a></li>
                        
                          <li class="levelC"><a href="/en-us/DeviceDev/debug/ESP8266.html">ESP8266</a></li>
                        
                      </ul>
                    </li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              Cloud API &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/cloud/OpenAPI.html">Open API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/ent_dev.html">Enterprise Application Development</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/enterprise_api.html">Enterprise API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/NotificationAPI.html">Notification API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/WebsocketAPI.html">WebsocketAPI</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      API Tutorial &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseOpenAPI.html">Using Open API to control virtual device with Postman</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseSNoti.html">Real-time data synchronization demo for SNoti service</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseWebsocket.html">Control device using WebSocket</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/DataAPI.html">Aggregation API Guide</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/LinkageAPI.html">Device Linkage API Tutorial</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/devgroup_API.html">Device Grouping API Tutorial</a></li>
                        
                          <li class="levelC"><a href="/en-us/UserManual/UseQRCode.html">Generating device QR code for App binding</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/cloud/CloudFAQ.html">Cloud FAQ</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              User Manual &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/en-us/UserManual/ST_IoT.html">Gizwits and ST Make IoT Development Easy</a></li>
                  
                
                  
                    <li class="levelB"><a href="/en-us/DeviceDev/ST/ICUBEGIZWITS.html">Getting Started with I-CUBE-GiZWITS</a></li>
                  
                
              </ul>
            </li>
          
        
      </ul>
    </span>

    <span class="pure-u-3-24 lang-switch-wrapper">

      <i class="fa fa-globe" aria-hidden="true"></i>
      
      <a href="/zh-cn/overview/overview.html" class="lang-switch" data-lang="zh-cn">中文</a>
      
    </span>
  </div>

  <div class="header-search-panel" id="header-search-panel">
    <span class="header-search-close" id="header-search-close"><i class="fa fa-times" aria-hidden="true"></i></span>
    <div class="header-search-input-wrap" id="header-search-input-wrap">
      <input type="text" class="header-search-input" id="header-search-input" placeholder="请输入关键字">
      <span class="header-search-input-icon"><i class="fa fa-search"></i></span>
    </div>

    <div class="header-search-trend" id="header-search-trend">
      <div class="header-search-trend-title">热搜词</div>
      <div class="header-search-trend-items clearfix">
        
        <div class="header-search-trend-item" data-word="APP">APP</div>
        
        <div class="header-search-trend-item" data-word="SDK">SDK</div>
        
        <div class="header-search-trend-item" data-word="Android">Android</div>
        
        <div class="header-search-trend-item" data-word="ios">ios</div>
        
        <div class="header-search-trend-item" data-word="WIFI">WIFI</div>
        
      </div>
    </div>

    <div class="header-search-result hidden" id="header-search-result">
      <div class="header-search-result-head">
        搜索结果 &gt; <span id="header-search-keyword"></span>
      </div>
      <div class="header-search-result-items" id="header-search-result-items">
      </div>
    </div>
  </div>
</div>

    <div class="body">

  <div class="container clearfix">
    <div class="navigation">
      <div class="navigation-inner">
        <div class="nav-title">Content</div>
        <div class="nav"></div>
      </div>
    </div>
    <div class="markdown-body" data-spy="scroll" data-target=".navigation">
      <div class="heading">
        <div class="title">Data transparent transmission of SDK</div>
        <a class="edit-link" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> Edit</a>
      </div>
      <h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>This document describes how to use the Gizwits Device SDK to achieve data transparent transmission between the App and the device, for which there are two ways:</p>
<ul>
<li>Transparent transmission using the “Extension type” data point</li>
<li>Transparent transmission without data points</li>
</ul>
<h1 id="Transparent-transmission-using-the-“Extension-type”-data-point"><a href="#Transparent-transmission-using-the-“Extension-type”-data-point" class="headerlink" title="Transparent transmission using the “Extension type” data point"></a>Transparent transmission using the “Extension type” data point</h1><h2 id="1-Defining-the-data-point"><a href="#1-Defining-the-data-point" class="headerlink" title="1. Defining the data point"></a>1. Defining the data point</h2><p><img src="../../../assets/en-us/AppDev/other/translate/11.png" alt="Defining the data point"></p>
<p>Define a data point of extension type on the product management page of Gizwits Developer Center, as shown in the figure above:</p>
<p>The data length is defined as 60 bytes (in the case of transparent transmission, it temporarily supports data transmission with a maximum data length of 900 bytes).</p>
<h2 id="2-Protocol-for-device-data-report"><a href="#2-Protocol-for-device-data-report" class="headerlink" title="2. Protocol for device data report"></a>2. Protocol for device data report</h2><p>The device MCU reports the data by transparent transmission according to the definition of the data point. After completing the new product definition, each product has a corresponding serial port communication protocol document, and the document download link is as shown in the following figure:</p>
<p><img src="../../../assets/en-us/AppDev/other/translate/12.png" alt="Protocol for device data report"></p>
<p>In the section 4.9 of the serial port communication protocol document, there is a format for MCU reporting data, as shown below:</p>
<p><img src="../../../assets/en-us/AppDev/other/translate/13.png" alt="Protocol for device data report"></p>
<p>The dev_status(60B) in the figure is the data that needs to be transparently transmitted.</p>
<h2 id="3-SDK-callback"><a href="#3-SDK-callback" class="headerlink" title="3. SDK callback"></a>3. SDK callback</h2><p>The callback for the App receiving data reported by the MCU is: didReceiveData. If the result is GizWifiErrorCode.GIZ_SDK_SUCCESS, the received data may be a regular data point or a data point of Extension type.</p>
<h2 id="4-Sample-code-for-the-App-receiving-data"><a href="#4-Sample-code-for-the-App-receiving-data" class="headerlink" title="4. Sample code for the App receiving data"></a>4. Sample code for the App receiving data</h2><p>An Android example for receiving data of Extension type reported by the MCU:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">final protected static char[] hexArray = &quot;0123456789ABCDEF&quot;.toCharArray();</span><br><span class="line"></span><br><span class="line">// Convert the hexadecimal bytes to a string, such as the bytes value &#123;0x62, 0x63&#125;, then it will be converted to &quot;6263&quot;</span><br><span class="line">public static String bytesToHex(byte[] bytes) &#123;</span><br><span class="line">		char[] hexChars = new char[bytes.length * 3];</span><br><span class="line">		for (int j = 0; j &lt; bytes.length; j++) &#123;</span><br><span class="line">			int v = bytes[j] &amp; 0xFF;</span><br><span class="line">			hexChars[j * 3] = hexArray[v &gt;&gt;&gt; 4];</span><br><span class="line">			hexChars[j * 3 + 1] = hexArray[v &amp; 0x0F];</span><br><span class="line">			hexChars[j * 3 + 2] = &apos; &apos;;</span><br><span class="line">		&#125;</span><br><span class="line">		return new String(hexChars);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Override</span><br><span class="line">protected void didReceiveData(GizWifiErrorCode result, GizWifiDevice device,</span><br><span class="line">			ConcurrentHashMap&lt;String, Object&gt; dataMap, int sn) &#123;</span><br><span class="line"></span><br><span class="line">	if (result == GizWifiErrorCode.GIZ_SDK_SUCCESS) &#123;</span><br><span class="line">	</span><br><span class="line">// the regular data point types include Boolean, integer, and enumeration, which are generally readable and writable.</span><br><span class="line">		if (dataMap.get(&quot;data&quot;) != null) &#123;</span><br><span class="line">			ConcurrentHashMap&lt;String, Object&gt; map = (ConcurrentHashMap&lt;String, Object&gt;) dataMap.get(&quot;data&quot;);</span><br><span class="line">			// the data point of Extension type, the key is &quot;kuozhan&quot;</span><br><span class="line">			byte[] bytes = (byte[]) map.get(&quot;kuozhan&quot;);</span><br><span class="line">			String string = bytesToHex(bytes);</span><br><span class="line">			Toast.makeText(this, string, Toast.LENGTH_SHORT).show();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>An iOS example for receiving data of Extension type reported by the MCU:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- (void)device:(GizWifiDevice *)device didReceiveData:(NSError *)result data:(NSDictionary *)dataMap withSN:(NSNumber *)sn</span><br><span class="line">&#123;</span><br><span class="line">    if (result.code == GIZ_SDK_SUCCESS)</span><br><span class="line">    &#123;</span><br><span class="line">        NSLog(@&quot;接收到数据&quot;);</span><br><span class="line">        NSDictionary *data = dataMap[@&quot;data&quot;];</span><br><span class="line">        NSString *kuozhan = data[@&quot;kuozhan&quot;];</span><br><span class="line">            </span><br><span class="line">        NSLog(@&quot;dataMap = %@&quot;, dataMap);</span><br><span class="line">        NSLog(@&quot;kuozhan = %@&quot;, kuozhan);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-Case-for-the-data-report-of-device"><a href="#5-Case-for-the-data-report-of-device" class="headerlink" title="5. Case for the data report of device"></a>5. Case for the data report of device</h2><p>Case: Reporting data according to the data point format:</p>
<p>FF FF 00 42 05 00 00 00 04 01 02 03 04 05 06 07 08 09 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 78</p>
<p>Note that the defined Extension type has the length of 60 bytes. Therefore, when reporting data, the number of “device status” bytes in the report command must be 60 bytes. Otherwise, the App will not be able to receive the data. The unnecessary data can be zero-padded. </p>
<p>The dataMap dictionary received by the App has a key of “kuozhan”, and the corresponding value is the data of transparent transmission.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">dataMap = &#123;</span><br><span class="line">    alerts=&#123;</span><br><span class="line">    &#125;;</span><br><span class="line">    data =&#123;</span><br><span class="line">        kuozhan = &lt;01020304 05060708 09000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000&gt;;</span><br><span class="line">    &#125;;</span><br><span class="line">    faults=&#123;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-Sample-code-for-the-App-sending-data"><a href="#6-Sample-code-for-the-App-sending-data" class="headerlink" title="6. Sample code for the App sending data"></a>6. Sample code for the App sending data</h2><p>The App sends the data of Extension type using the write method of GizWifiDevice class according to the data point definition.</p>
<p>An Android example for issuing command of Extension type:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">byte[] input1 = &#123; 0x11, 0x22, 0x33, 0x44, 0x55, 0x66, 0x77 &#125;;</span><br><span class="line">// byte[] input2 = &#123; 11, 22, 33, 44, 55, 66, 77, 88, 99&#125;;</span><br><span class="line">ConcurrentHashMap&lt;String, Object&gt; dataMap = new ConcurrentHashMap&lt;String, Object&gt;();</span><br><span class="line">dataMap.put(&quot;kuozhan&quot;, input1);</span><br><span class="line">device.write(dataMap, 0);</span><br></pre></td></tr></table></figure>
<p>An iOS example for issuing command of Extension type:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">char input1[7] = &#123;0x11, 0x22, 0x33, 0x44, 0x55, 0x66, 0x77&#125;;</span><br><span class="line">// char input2[7] = &#123;11, 22, 33, 44, 55, 66, 77&#125;;</span><br><span class="line">    NSData* data = [NSData dataWithBytes:input1 length:sizeof(input1)];</span><br><span class="line">    NSDictionary *request = @&#123;@&quot;kuozhan&quot;: data&#125;;</span><br><span class="line">    [self.device write:request withSN:44];</span><br><span class="line">```	</span><br><span class="line"></span><br><span class="line">In the above code, the transparent transmission results of input1 and input2 are different. The input1 defines the hexadecimal value, and the input2 defines the decimal value. If the value of 0x11 in input1 is sent to the device, the device will receive a hexadecimal value of 0x11. If the value of 11 in input2 is sent to the device, the device will receive 0x0b (the decimal value 11 corresponding to the hexadecimal value b). After delivering input1 to the device, the data received by the MCU is:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">FF FF 00 43 03 45 00 00 01 01 11 22 33 44 55 66 77 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 69</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Transparent transmission without data points</span><br><span class="line"></span><br><span class="line">## 1. Protocol for device data report</span><br><span class="line"></span><br><span class="line">The format of the data reported by the MCU is shown in the following table. The packet length (len) refers to the length of the bytes (including the command and checksum) from the beginning of the command to the checksum. The value needs to be transparently transmitted, and can be set to any length, but temporarily supports transmission within 900B.</span><br><span class="line"></span><br><span class="line">![Protocol for device data report](../../../assets/en-us/AppDev/other/translate/14.png)  </span><br><span class="line"></span><br><span class="line">If the device reports the command: FF FF 00 0D 05 00 00 00 06 11 22 33 44 55 66 77 F4 ; then the transparent transmission data is 11 22 33 44 55 66 77</span><br><span class="line"></span><br><span class="line">## 2. SDK callback</span><br><span class="line"></span><br><span class="line">The callback for the App receiving data reported by the MCU is: didReceiveData. If the result is GizWifiErrorCode.GIZ_SDK_SUCCESS, indicating that the action is successful, and the value of &quot;binary&quot; field in the returned dataMap is the transparent transmission data.</span><br><span class="line"></span><br><span class="line">## 3. Sample code for the App receiving data</span><br><span class="line"></span><br><span class="line">An Android example for receiving data without data points reported by the MCU:</span><br></pre></td></tr></table></figure>
<p>@Override<br>protected void didReceiveData(GizWifiErrorCode result, GizWifiDevice device,ConcurrentHashMap&lt;String, Object&gt; dataMap, int sn) {<br>    if (result == GizWifiErrorCode.GIZ_SDK_SUCCESS) {<br>        // Transparent transmission data, no data point definition, suitable for developers to define their own protocols </p>
<pre><code>    if (dataMap.get(&quot;binary&quot;) != null) {
    byte[] binary = (byte[]) dataMap.get(&quot;binary&quot;);
    Log.i(&quot;info&quot;, &quot;Binary data:&quot; + bytesToHex(binary));
        // Need to parse after receiving it
    }
}
</code></pre><p>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">An iOS example for receiving data without data points reported by the MCU:</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>(void)device:(GizWifiDevice <em>)device didReceiveData:(NSError </em>)result data:(NSDictionary <em>)dataMap withSN:(NSNumber </em>)sn<br>{<br>  if (result.code == GIZ_SDK_SUCCESS)<br>  {</p>
<pre><code>NSLog(@&quot;接收到数据&quot;);
NSLog(@&quot;dataMap = %@&quot;, dataMap);

NSString *binary = dataMap[@&quot;binary&quot;];
// Need to parse after receiving it
</code></pre><p>  }<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">If the MCU reports: FF FF 00 0D 05 00 00 00 06 11 22 33 44 55 66 77 F4</span><br><span class="line"></span><br><span class="line">Then the App will print: Binary data: 11 22 33 44 55 66 77</span><br><span class="line"></span><br><span class="line">## 4. Sample code for the App sending data</span><br><span class="line">The App sends the data using the write method of GizWifiDevice class, following the JSON format: &#123;“binary”: “xxxxxx”&#125;; the data format received by the MCU is as follows:</span><br><span class="line"></span><br><span class="line">![Sample code for the App sending data](../../../assets/en-us/AppDev/other/translate/15.png) </span><br><span class="line"></span><br><span class="line">An Android example for sending data without data points:</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>byte[] input1 = { 0x11, 0x22, 0x33, 0x44, 0x55, 0x66, 0x77 };<br>ConcurrentHashMap&lt;String, Object&gt; dataMap = new ConcurrentHashMap&lt;String, Object&gt;();<br>dataMap.put(“binary”, input1);<br>device.write(dataMap, 0);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">An iOS example for sending data without data points:</span><br></pre></td></tr></table></figure></p>
<p>char input1[7] = {0x11, 0x22, 0x33, 0x44, 0x55, 0x66, 0x77};<br>// char input2[7] = {11, 22, 33, 44, 55, 66, 77};<br>NSData<em> data = [NSData dataWithBytes:input1 length:sizeof(input1)];<br>NSDictionary </em>request = @{@”binary”: data};<br>[self.device write:request withSN:0];<br><code>`</code></p>
<p>The data format sent by the App and received by the MCU (that is, the data received by the MCU after the above bytes array is delivered):<br>FF FF 00 0D 03 16 00 00 05 11 22 33 44 55 66 77 07</p>

    </div>
    
    <div class="widget-wrapper">
  <span class="widget">
    <div>
        <a id="share" target="_blank" title="Share">
          <span>Share</span>
        </a>
        <div class="social-share" data-initialized="true">
            <a href="#" class="social-share-icon icon-wechat"></a>
            <a href="#" class="social-share-icon icon-weibo"></a>
            <a href="#" class="social-share-icon icon-qq"></a>
            <a href="#" class="social-share-icon icon-qzone"></a>
            <a href="#" class="social-share-icon icon-douban"></a>
        </div>
    </div>
    <a href="http://y0.cn/docs" target="_blank" title="Register">
      <span>Register</span>
    </a>
    <a href="https://github.com/gizwits-docs/gizwits-docs/issues" target="_blank" title="Feed back">
      <span>Feed back</span>
    </a>
    <a href="#" title="Top"><i class="fa fa-angle-up fa-2x" aria-hidden="true"></i></a>
  </span>
</div>
  </div>
</div>

    <div class="footer">
  <div class="container">
    <p>
      <span><a href="http://www.gizwits.com" target="_blank">HOME</a></span>
      <span><a href="http://www.gizwits.com/about-us" target="_blank">ABOUT</a></span>
      <span><a href="http://www.gizwits.com/about-us#contact-us" target="_blank">CONTACT</a></span>
      <span><a href="http://www.gizwits.com/join-us" target="_blank">JOIN</a></span>
    </p>
    <p>&#169;2011-2017; Gizwits IoT Technology Co., Ltd. 粤ICP备11090211号</p>
  </div>
</div>

    <script src="/js/spin.min.js"></script>
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.hashchange.min.js"></script>
<script src="/js/clipboard.min.js"></script>
<script src="/js/scrollspy.js"></script>
<script src="/js/social-share.min.js"></script>
<script src="/js/documentation.js?v=d413cf8ceca4865c39c2dabcd3bc0077"></script>


<script type="text/javascript" src="http://webchat.7moor.com/javascripts/7moorInit.js?accessId=b01e0430-943a-11e6-8ad7-636675d9e71f&autoShow=true" async="async"></script>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?3787e6b3b29a084fde41f22828d89b7d";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
  </body>
</html>