
<!DOCTYPE html>
<html lang="zh-cn">
  <head>
  <meta charset="utf-8">

  <title>企业API - 机智云</title>

  <meta http-equiv="X-UA-Compatible" content="IE=Edge, chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <meta name="Description" content="企业API-机智云">
  <meta name="keywords" content="企业API docs 文档中心 Gizwits">

  <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">
  <script src="/js/redirect.js"></script>

  <link rel="stylesheet" href="/css/pure.min.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/documentation.css?v=db6111caa3d210b6cb1d2dac5119d7c5">
  <link rel="stylesheet" href="/css/share.min.css">
</head>
  <body>
    <div class="header">
  <div class="container pure-g">
    <span class="brand pure-u-5-24">

      <a href="http://www.gizwits.com" class="logo">
        <img src="/images/logo.png" alt="logo"> 
      </a>
      <a class="text" href="/">文档中心</a>
    </span>
    
    <div class="mobile-header"v>
      <span class="title">机智云 文档中心</span>
      <i class="fa fa-caret-square-o-down fa-lg" aria-hidden="true"></i>
    </div>
    
    <span class="menu pure-u-16-24">
      <span class="header-search-btn" id="header-search-btn">
        <i class="fa fa-search"></i>
      </span>
      <ul class="levelA-wrapper">
        
          
            <li class="levelA"><a href="/zh-cn/overview/overview.html">平台概述</a></li>
          
        
          
            <li class="levelA">
              快速入门 &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/zh-cn/quickstart/5分钟了解机智云.html">5分钟了解机智云</a></li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/quickstart/noun.html">机智云名词定义解释</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              应用开发 &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/zh-cn/quickstart/准备工作.html">App开发准备工作及向导</a></li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/UserManual/devApp.html">App代码自动生成服务介绍</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      App 开源框架 &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/iosframe.html">iOS 开源框架说明(含源码)</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/iOS消息推送.html">iOS 消息推送</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/iOS第三方登陆与换肤.html">iOS 第三方登录与换肤</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/quickstart/iOSAPPFrame.html">iOS开源框架的快速开发实例</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/Android开源框架使用指南.html">Android 开源框架说明（含源码）</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/Android消息推送.html">Android 消息推送</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/Android第三方登录与换肤.html">Android 第三方登录与换肤</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/quickstart/AndroidAppFrame.html">Android开源框架的快速开发实例</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/APICloudFrame.html">APICloud开源框架使用指南(含源码)</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/开源框架视频教程.html">开源框架使用视频教程</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB has-submenu">
                      App 开发 SDK &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/iOSSDKA2.html">iOS SDK</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/AndroidSDKA2.html">Android SDK</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/APICloudWifiSDK.html">APICloud SDK</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/SDK数据透传方法解析.html">SDK数据透传方法解析</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/SDK调试日志抓取教程.html">SDK调试日志抓取教程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/sdk_error.html">SDK错误码列表</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/WechatDev/了解微信应用开发.html">微信应用开发流程</a></li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/WechatDev/WeChatDev.html">微信应用开发教程</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      更多教程 &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/zh-cn/Cloud/SharingSDK.html">设备分享功能SDK使用流程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/AppDev/third-party.html">第三方登录平台申请流程</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/AppDev/应用开发FAQ.html">应用开发FAQ</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              设备接入 &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/zh-cn/deviceDev/设备接入准备工作及向导.html">设备接入准备工作及向导</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      设备快速接入机智云 &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/zh-cn/quickstart/UseMCU.html">独立MCU接入方案</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/UseSOC.html">ESP8266-SOC接入方案</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/module_source/module_source.html">模块硬件资料</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      GAgent通讯模组使用教程 &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/gagent_info.html">GAgent详细介绍</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/串口工具使用文档.html">串口工具使用文档</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/HF-LPB100串口烧写说明.html">HF-LPB100串口烧写说明</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/debug/HF-LPT120.html">HF-LPT120串口烧写说明</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/MXCHIP串口烧写说明.html">MXCHIP串口烧写说明</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/ESP8266串口烧写说明.html">ESP8266串口烧写说明</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/debug/G510.html">广和通G510模组烧写方法</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/通讯模组调试日志抓取教程.html">通讯模组调试日志抓取教程</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB has-submenu">
                      MCU代码自动生成服务介绍 &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/DevSDK/代码自动生成工具.html">MCU代码自动生成工具使用教程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/GoKit3_DEV_SDK_Common_transplant.html">MCU SDK 通用平台移植教程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/STM32CubeMX_transplant.html">STM32CubeMX移植机智云自动生成代码详解</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/approach_to_tailoring_8051.html">8051平台最小资源裁剪说明</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB has-submenu">
                      开源套件Gokit资料 &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/Gokit2使用指南.html">Gokit2 使用指南</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/Gokit3/Gokit3开发套件简介.html">Gokit3系列开发套件简介</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/Gokit3/GoKit3硬件手册.html">Gokit3硬件手册</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/WiFiSOC/GoKit3S使用说明书.html">GoKit3(S)使用说明书</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/WiFiSOC/GoKit3S开发套件介绍.html">Gokit3(S)开发套件介绍</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/WiFiSOC/GoKit3S二次开发.html">GoKit3(S)开发环境搭建</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/WiFiSOC/GoKit-SoC-explanation.html">GoKit-SoC程序详解</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/Gokit3Voice/GoKit-MCU-explanation.html">GoKit-MCU程序详解</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB has-submenu">
                      开发套件Arduino资料 &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/ArduinoUNO/ArduinoUNOWiFi_intro.html">ArduinoUNOWiFi接入机智云介绍</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/ArduinoUNO/Tutorial.html">ArduinoUnoWiFi 之ESP8266固件烧写教程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/ArduinoUNO/ArduinoUnoWiFi_SDK_API.html">ArduinoUnoWiFi SDK之API介绍</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/ArduinoUNO/example.html">Arduino Uno WiFi智能小夜灯</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB has-submenu">
                      更多接入指南 &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/zh-cn/UserManual/ecevideos.html">ECE Demo开发教程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/串口工具使用文档.html">串口工具使用文档</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/deviceDev/设备接入FAQ.html">设备接入FAQ</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              云API &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/zh-cn/Cloud/openapi_apps.html">Open API 指南</a></li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/Cloud/ent_dev.html">企业应用开发</a></li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/Cloud/enterprise_api.html">企业API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/Cloud/NotificationAPI.html">SNoti API</a></li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/Cloud/WebsocketAPI.html">WebSocketAPI</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      API使用教程 &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/zh-cn/UserManual/UseOpenAPI.html">使用OpenAPI控制虚拟设备教程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/UserManual/UseSNoti.html">Snoti数据实时同步服务demo使用教程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/UserManual/UseWebsocket.html">使用Websocket 网页控制设备教程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/UserManual/DataAPI.html">使用聚合API教程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/UserManual/LinkageAPI.html">设备联动API使用教程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/UserManual/devgroup_API.html">设备分组API使用教程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/UserManual/UseQRCode.html">APP绑定设备二维码生成教程</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/Cloud/CloudFAQ.html">云端应用FAQ</a></li>
                  
                
              </ul>
            </li>
          
        
          
            <li class="levelA">
              用户手册 &#9662;
              <ul class="levelB-wrapper">
                
                  
                    <li class="levelB"><a href="/zh-cn/UserManual/change.html">个人项目产品转企业项目产品</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      OTA使用教程 &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/zh-cn/UserManual/OTA.html">GAgent OTA教程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/UserManual/MCUOTA.html">MCU OTA教程</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/deviceDev/产测工具使用文档.html">产测工具使用文档</a></li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/UserManual/D3.html">D3 Engine使用教程</a></li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/UserManual/ece.html">ECE雾计算使用教程</a></li>
                  
                
                  
                    <li class="levelB has-submenu">
                      语音音箱接入教程 &#9656;
                      <ul class="levelC-wrapper">
                        
                          <li class="levelC"><a href="/zh-cn/UserManual/echo.html">接入Echo开发教程</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/deviceDev/echo.html">使用Echo音箱控制GoKit</a></li>
                        
                          <li class="levelC"><a href="/zh-cn/UserManual/Google_Home_GoKit.html">使用Google Home音箱控制GoKit</a></li>
                        
                      </ul>
                    </li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/UserManual/rtbd.html">实时大数据使用教程</a></li>
                  
                
                  
                    <li class="levelB"><a href="/zh-cn/UserManual/WorldWideConnectSolution.html">全球部署方案</a></li>
                  
                
              </ul>
            </li>
          
        
      </ul>
    </span>
  
    <span class="pure-u-3-24 lang-switch-wrapper">
      
      <i class="fa fa-globe" aria-hidden="true"></i> 
      
      <a href="http://docsen.gizwits.com/hc/" class="lang-switch">English</a>
      
    </span>
  </div>

  <div class="header-search-panel" id="header-search-panel">
    <span class="header-search-close" id="header-search-close"><i class="fa fa-times" aria-hidden="true"></i></span>
    <div class="header-search-input-wrap" id="header-search-input-wrap">
      <input type="text" class="header-search-input" id="header-search-input" placeholder="请输入关键字">
      <span class="header-search-input-icon"><i class="fa fa-search"></i></span>
    </div>

    <div class="header-search-trend" id="header-search-trend">
      <div class="header-search-trend-title">热搜词</div>
      <div class="header-search-trend-items clearfix">
        
        <div class="header-search-trend-item" data-word="APP">APP</div>
        
        <div class="header-search-trend-item" data-word="SDK">SDK</div>
        
        <div class="header-search-trend-item" data-word="Android">Android</div>
        
        <div class="header-search-trend-item" data-word="ios">ios</div>
        
        <div class="header-search-trend-item" data-word="WIFI">WIFI</div>
        
      </div>  
    </div>

    <div class="header-search-result hidden" id="header-search-result">
      <div class="header-search-result-head">
        搜索结果 &gt; <span id="header-search-keyword"></span>
      </div>
      <div class="header-search-result-items" id="header-search-result-items">
      </div>
    </div>
  </div>
</div>
    <div class="body">

  <div class="container clearfix">
    <div class="navigation">
      <div class="navigation-inner">
        <div class="nav-title">目录</div>
        <div class="nav"></div>
      </div>
    </div>
    <div class="markdown-body" data-spy="scroll" data-target=".navigation">
      <div class="heading">
        <div class="title">企业API</div>
        <a class="edit-link" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> 文档编辑</a>
      </div>
      <h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>企业API是机智云为接入机智云平台的企业开发者提供的开放API服务，使用企业API的企业将设备接入到机智云平台后，通常还有进一步基于接入机智云设备数据开展企业某个垂直领域的业务需求。企业API为企业提供企业视角全局的设备管理、数据分析等功能，让企业更关注业务管理系统本身，减少不必要的开发成本。</p>
<h1 id="企业API接口列表"><a href="#企业API接口列表" class="headerlink" title="企业API接口列表"></a>企业API接口列表</h1><p>根据机智云提供的服务，企业 API 提供如下功能:</p>
<ul>
<li><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#/授权" target="_blank" rel="noopener">授权</a>：企业开发者获取token的功能。</li>
</ul>
<table>
<thead>
<tr>
<th>API列表</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#获取token">post_v1_products_product_key_access_token</a></td>
<td>获取企业API接口访问权限的功能</td>
</tr>
</tbody>
</table>
<ul>
<li><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#/产品管理" target="_blank" rel="noopener">产品管理</a>：提供了获取产品数据点等功能。</li>
</ul>
<table>
<thead>
<tr>
<th>API列表</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#获取产品数据点">get_v1_products_product_key_datapoint</a></td>
<td>获取某个产品的数据点信息</td>
</tr>
</tbody>
</table>
<ul>
<li><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#/用户管理" target="_blank" rel="noopener">用户管理</a>：提供了搜索注册用户、搜索绑定用户等功能。</li>
</ul>
<table>
<thead>
<tr>
<th>API列表</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#搜索注册用户">get_v1_products_product_key_users_search</a></td>
<td>该接口查询的是注册用户信息</td>
</tr>
<tr>
<td><a href="#搜索绑定用户">get_v1_users_search</a></td>
<td>该接口查询的是绑定用户信息</td>
</tr>
</tbody>
</table>
<ul>
<li><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#/设备管理" target="_blank" rel="noopener">设备管理</a>：提供了获取设备did、获取设备详情、搜索设备、远程控制设备、查看设备上下线记录、通信日志以及默认查询2天的历史数据等功能。</li>
</ul>
<table>
<thead>
<tr>
<th>API列表</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#获取设备did">get_v1_products_product_key_devices</a></td>
<td>获取设备did</td>
</tr>
<tr>
<td><a href="#获取设备详情">get_v1_products_product_key_device_detail</a></td>
<td>获取设备详情</td>
</tr>
<tr>
<td><a href="#搜索设备">get_v1_products_product_key_devices_search</a></td>
<td>搜索设备</td>
</tr>
<tr>
<td><a href="#获取设备历史数据">get_v1_products_product_key_devices_did_data</a></td>
<td>默认查询两天内的设备KV值</td>
</tr>
<tr>
<td><a href="#设备上下线记录">get_v1_products_product_key_devices_did_online</a></td>
<td>获取设备上下线记录</td>
</tr>
<tr>
<td><a href="#设备通信日志">get_v1_products_product_key_devices_did_cmd</a></td>
<td>默认查询两天内的设备原始指令</td>
</tr>
<tr>
<td><a href="#设备远程控制">post_v1_products_product_key_devices_did_control</a></td>
<td>远程控制设备</td>
</tr>
</tbody>
</table>
<ul>
<li><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#/设备组管理" target="_blank" rel="noopener">设备组管理</a>：提供了创建设备组、查询设备组列表、删除设备组、更新设备组、获取设备组下mac列表等功能。</li>
</ul>
<table>
<thead>
<tr>
<th>API列表</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#获取设备组树形结构">get_v1_products_product_key_device_groups</a></td>
<td>获取设备组树形结构</td>
</tr>
<tr>
<td><a href="#创建设备组">post_v1_products_product_key_device_groups</a></td>
<td>创建设备组</td>
</tr>
<tr>
<td><a href="#删除设备组">delete_v1_products_product_key_device_groups_gid</a></td>
<td>删除设备组</td>
</tr>
<tr>
<td><a href="#获取设备组下的mac列表">get_v1_products_product_key_device_groups_gid</a></td>
<td>获取设备组下的mac列表</td>
</tr>
<tr>
<td><a href="#更新设备组">put_v1_products_product_key_device_groups_gid</a></td>
<td>更新设备组</td>
</tr>
</tbody>
</table>
<ul>
<li><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#/绑定管理" target="_blank" rel="noopener">绑定管理</a>：提供了设备绑定、解绑功能。</li>
</ul>
<table>
<thead>
<tr>
<th>API列表</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#设备绑定功能">post_v1_products_product_key_devices_bindings</a></td>
<td>设备绑定</td>
</tr>
<tr>
<td><a href="#解除绑定">delete_v1_products_product_key_devices_bindings</a></td>
<td>解除设备绑定</td>
</tr>
</tbody>
</table>
<ul>
<li><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#/设备报表" target="_blank" rel="noopener">设备报表</a>：提供了查询设备激活报表、地理位置分布、概览、激活详情、活跃详情、设备故障、设备报警报表等功能</li>
</ul>
<table>
<thead>
<tr>
<th>API列表</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#获取激活报表">get_v1_products_product_key_devices_report_activation</a></td>
<td>获取激活设备统计报表</td>
</tr>
<tr>
<td><a href="#获取设备地理位置分布">get_v1_products_product_key_devices_locations</a></td>
<td>获取设备地理位置分布</td>
</tr>
<tr>
<td><a href="#设备概览">get_v1_products_product_key_summary</a></td>
<td>最近的激活和活跃设备数</td>
</tr>
<tr>
<td><a href="#设备激活详情">get_v1_products_product_key_incr_devices</a></td>
<td>自定义查询激活设备详情</td>
</tr>
<tr>
<td><a href="#设备活跃详情">get_v1_products_product_key_active_devices</a></td>
<td>自定义查询活跃设备详情</td>
</tr>
<tr>
<td><a href="#获取活跃历史报表">get_v1_products_product_key_devices_report_liveness_history</a></td>
<td>可以获取以日、周、月为时间维度的活跃设备历史报表</td>
</tr>
<tr>
<td><a href="#设备实时统计报表">get_v1_products_product_key_devices_report_rt</a></td>
<td>查询设备状态表</td>
</tr>
<tr>
<td><a href="#获取故障设备台数报表">get_v1_products_product_key_fault_report_devices</a></td>
<td>获取故障设备台数报表</td>
</tr>
<tr>
<td><a href="#获取报警设备台数报表">get_v1_products_product_key_alert_report_devices</a></td>
<td>获取报警设备台数报表</td>
</tr>
<tr>
<td><a href="#获取故障次数报表">get_v1_products_product_key_fault_report_events</a></td>
<td>获取故障次数报表</td>
</tr>
<tr>
<td><a href="#获取报警次数报表">get_v1_products_product_key_fault_alert_events</a></td>
<td>获取报警次数报表</td>
</tr>
</tbody>
</table>
<ul>
<li><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#/用户报表" target="_blank" rel="noopener">用户报表</a>：提供了查询用户新增报表、企业活跃用户人数、用户地理分布、用户总数报表等功能。</li>
</ul>
<table>
<thead>
<tr>
<th>API列表</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#用户新增报表">get_v1_products_product_key_users_report_new</a></td>
<td>这里指的是绑定了该 PK 下产品的新增用户</td>
</tr>
<tr>
<td><a href="#企业活跃用户人数">get_v1_users_liveness_total</a></td>
<td>企业活跃用户人数</td>
</tr>
<tr>
<td><a href="#用户地理分布">get_v1_users_location</a></td>
<td>用户地理分布</td>
</tr>
<tr>
<td><a href="#用户总数报表">get_v1_products_product_key_users_report_total</a></td>
<td>用户总数</td>
</tr>
</tbody>
</table>
<h1 id="协议约定"><a href="#协议约定" class="headerlink" title="协议约定"></a>协议约定</h1><h2 id="1、请求方式"><a href="#1、请求方式" class="headerlink" title="1、请求方式"></a>1、请求方式</h2><p>本文档所定义接口基于HTTP/HTTPS协议进行传输，需要注意协议中标注的请求方式，通过GET、PUT、DELETE等进行不同的操作。</p>
<h2 id="2、接口地址"><a href="#2、接口地址" class="headerlink" title="2、接口地址"></a>2、接口地址</h2><p>接口地址中用${ }号包含的为变量，需要使用者通过对应的变量替换。例如${product_key}表示需要将获取的product_key值赋予到接口地址中，${token值}表示是需要替换为通过授权接口获取的token，${did} 表示是需要替换为具体的did。</p>
<h2 id="3、请求参数"><a href="#3、请求参数" class="headerlink" title="3、请求参数"></a>3、请求参数</h2><p>HTTP请求参数的类型一般分为三种。Header表示该参数是在HTTP请求头中；URL表示是通过url传参；Body表示是Request Body，通常Body中都是JSON格式</p>
<h2 id="4、HTTP请求头部"><a href="#4、HTTP请求头部" class="headerlink" title="4、HTTP请求头部"></a>4、HTTP请求头部</h2><p>本文档协议中设备管理类、设备报表查询类的接口在进行接口访问时，都需要在请求头增加token值，以此校验访问者是否有权访问该接口。token值是通过获取授权接口获得。<br>请求头格式如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Content-Type: application/json</span><br><span class="line">Authorization: token $&#123;token值&#125;</span><br></pre></td></tr></table></figure></p>
<p>注意：${token值}是不包括${}号，只需将从获取token接口获得token值放到token之后。例如：Authorization: token  efbekskdklllsF</p>
<h2 id="5、HTTP响应头部"><a href="#5、HTTP响应头部" class="headerlink" title="5、HTTP响应头部"></a>5、HTTP响应头部</h2><p>本协议中的接口在返回报文头部会输出如下信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">X-RateLimit-Limit: 60     //接口允许访问总量</span><br><span class="line">X-RateLimit-Remaining: 56 //接口剩余访问次数</span><br><span class="line">X-RateLimit-Reset: 1372700873 //调用频率限制重置时间，TS类型</span><br></pre></td></tr></table></figure></p>
<h2 id="6、Token值的生命周期"><a href="#6、Token值的生命周期" class="headerlink" title="6、Token值的生命周期"></a>6、Token值的生命周期</h2><p>Token值有效期为7天， 调用获取token接口返回的expired_at为失效日期时间戳。若现在时间戳 &gt; expired_at时间戳，则需要重新获取token, token调用请见”获取Token”</p>
<h2 id="7、接口请求配额说明"><a href="#7、接口请求配额说明" class="headerlink" title="7、接口请求配额说明"></a>7、接口请求配额说明</h2><p>企业API每小时默认允许企业API接口每小时调用3600次，超过阈值则抛错，1小时后恢复接口调用。具体抛错请查看5.2错误信息表系统编码5013的相关说明</p>
<h1 id="在线调试-企业-API"><a href="#在线调试-企业-API" class="headerlink" title="在线调试 企业 API"></a>在线调试 企业 API</h1><p>我们提供了在线 API 调试工具，在每个接口描述中，都会给出对应的调试接口链接。</p>
<p>下面以用户管理为例，说明 企业 API 调试工具的使用：</p>
<ul>
<li>点击 <a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/get_v1_products_product_key_users_search" target="_blank" rel="noopener">用户管理</a> 进入接口调试页面</li>
<li>接口右边有个红色叹号，点击后弹出对话框，提示需要输入的头部信息</li>
<li>该接口需要输入 X-Gizwits-Application-Id，根据前面的说明获取 AppID 并填入，点击 “Authorize” 进行授权</li>
<li>页面自动刷新，并且叹号变成蓝色，表示需要输入的头部信息已填写（已填写并不一定表示值是正确的，如果值错误，会反应在接口返回内容中）</li>
<li>在参数输入框中输入参数值（点击参数右边的 Example Value 黄色框框，可以快速输入示例 JSON）</li>
<li>点击 “试一下” 按钮，即可完成接口调用</li>
<li>接口调用完成，会显示本地调用等效的 curl 语句，请求 URL，响应体，响应码和响应头</li>
</ul>
<h1 id="授权"><a href="#授权" class="headerlink" title="授权"></a>授权</h1><h2 id="获取token"><a href="#获取token" class="headerlink" title="获取token"></a>获取token</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/授权/post_v1_products_product_key_access_token" target="_blank" rel="noopener">调试接口</a></p>
<h4 id="请求类型及地址"><a href="#请求类型及地址" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>POST
http://enterpriseapi.gizwits.com/v1/products/{product_key}/access_token
</code></pre><h4 id="请求参数"><a href="#请求参数" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识符</td>
</tr>
<tr>
<td style="text-align:left">enterprise_id</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left">企业id</td>
</tr>
<tr>
<td style="text-align:left">enterprise_secret</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left">企业id 密码</td>
</tr>
<tr>
<td style="text-align:left">product_secret</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left">产品密匙</td>
</tr>
</tbody>
</table>
<h4 id="响应参数"><a href="#响应参数" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">token</td>
<td style="text-align:left">string</td>
<td style="text-align:left">用户token</td>
</tr>
<tr>
<td style="text-align:left">expire_at</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">token过期时间（时间戳）</td>
</tr>
</tbody>
</table>
<h4 id="返回例子"><a href="#返回例子" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"token"</span>: <span class="string">"89d753a234ef42cd90f75da7489e78a4"</span>,</span><br><span class="line">  <span class="attr">"expired_at"</span>: <span class="number">1517897923</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="产品管理"><a href="#产品管理" class="headerlink" title="产品管理"></a>产品管理</h1><h2 id="获取产品数据点"><a href="#获取产品数据点" class="headerlink" title="获取产品数据点"></a>获取产品数据点</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/产品管理/get_v1_products_product_key_datapoint" target="_blank" rel="noopener">调试接口</a></p>
<h4 id="请求类型及地址-1"><a href="#请求类型及地址-1" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET
http://enterpriseapi.gizwits.com/v1/products/{product_key}/datapoint
</code></pre><h4 id="请求参数-1"><a href="#请求参数-1" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-1"><a href="#响应参数-1" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>产品名称</td>
</tr>
<tr>
<td>entities</td>
<td>Array</td>
<td>[EntitiyList]</td>
</tr>
<tr>
<td>protocolType</td>
<td>string</td>
<td>固定值：standard</td>
</tr>
<tr>
<td>product_key</td>
<td>string</td>
<td>产品product_key</td>
</tr>
<tr>
<td>packetVersion</td>
<td>string</td>
<td>固定值：0x00000004</td>
</tr>
<tr>
<td>ui</td>
<td>inline_model_7</td>
<td>手机客户端 UI 定义</td>
</tr>
<tr>
<td>EntitiyList</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>固定值：0</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>固定值：entity0</td>
</tr>
<tr>
<td>display_name</td>
<td>string</td>
<td>固定值：机智云开发套件</td>
</tr>
<tr>
<td>attrs</td>
<td>Array</td>
<td>[AttrItem]</td>
</tr>
<tr>
<td>inline_model_7</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>object</td>
<td>inline_model_1</td>
<td></td>
</tr>
<tr>
<td>sections</td>
<td>Array</td>
<td>UI 片段列表:[SectionItem]</td>
</tr>
<tr>
<td>AttrItem</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>数据点顺序</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>数据点标示名</td>
</tr>
<tr>
<td>display_name</td>
<td>string</td>
<td>数据点显示名</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>固定值：…..</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>读写类型，W: 读写,R: 只读,N: 报警,E: 故障</td>
</tr>
<tr>
<td>data_type</td>
<td>string</td>
<td>数据类型，bool：布尔;’uint8’,’uint16’,’uint32’：数值型;enum：枚举;binary:扩展型]</td>
</tr>
<tr>
<td>uint_spec</td>
<td>inline_model_4</td>
<td>当 data_type 为 uint8/uint16/uint32 时，有该字段</td>
</tr>
<tr>
<td>enum</td>
<td>Array</td>
<td>当 data_type 为 enum 时，有该字段</td>
</tr>
<tr>
<td>position</td>
<td>inline_model_5</td>
<td>字节与比特位描述</td>
</tr>
<tr>
<td>inline_model_1</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>version</td>
<td>integer</td>
<td>固定值：4</td>
</tr>
<tr>
<td>showEditButton</td>
<td>boolean</td>
<td>固定值：false</td>
</tr>
<tr>
<td>SectionItem</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>elements</td>
<td>Array</td>
<td>[ElementItem]</td>
</tr>
<tr>
<td>inline_model_4</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>min</td>
<td>integer</td>
<td>最少值</td>
</tr>
<tr>
<td>max</td>
<td>integer</td>
<td>最大值</td>
</tr>
<tr>
<td>ratio</td>
<td>number</td>
<td>分辨率k</td>
</tr>
<tr>
<td>addition</td>
<td>integer</td>
<td>增量</td>
</tr>
<tr>
<td>inline_model_5</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>bit_offset</td>
<td>integer</td>
<td>位索引，如果为变长协议，固定为 0</td>
</tr>
<tr>
<td>len</td>
<td>integer</td>
<td>长度</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>单位，’bit’, ‘byte’</td>
</tr>
<tr>
<td>byte_offset</td>
<td>integer</td>
<td>字节索引，如果为变长协议，固定为 0</td>
</tr>
<tr>
<td>ElementItem</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>数据点显示名</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>entity0.{数据点标示名}</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>‘QBooleanElement’, ‘QFloatElement’, ‘QRadioElement’, ‘QMultilineElement’, ‘QLabelElement’</td>
</tr>
<tr>
<td>keyboardType</td>
<td>string</td>
<td>键盘类型，固定值，”NumbersAndPunctuation”</td>
</tr>
<tr>
<td>maxLength</td>
<td>integer</td>
<td>type 为 QMultilineElement 才有该字段，最大长度，为数据点定义长度的 2 倍</td>
</tr>
<tr>
<td>items</td>
<td>Array</td>
<td>type 为 QRadioElement 才有该字段，枚举值列表</td>
</tr>
<tr>
<td>boolValue</td>
<td>boolean</td>
<td>type 为 QBooleanElement 才有该字段，固定值：false</td>
</tr>
<tr>
<td>bind</td>
<td>string</td>
<td>type 为 QFloatElement 才有该字段，固定值：floatValue:float</td>
</tr>
<tr>
<td>maximumValue</td>
<td>number</td>
<td>type 为 QFloatElement 才有该字段，最大值</td>
</tr>
<tr>
<td>minimumValue</td>
<td>number</td>
<td>type 为 QFloatElement 才有该字段，最少值</td>
</tr>
<tr>
<td>value</td>
<td>integer</td>
<td>type 为 QFloatElement 才有该字段，固定值：0</td>
</tr>
<tr>
<td>object</td>
<td>inline_model_6</td>
<td></td>
</tr>
<tr>
<td>inline_model_6</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>action</td>
<td>string</td>
<td>固定值:entity0</td>
</tr>
<tr>
<td>bind</td>
<td>Array[string]</td>
<td>固定值:entity0.{数据点标示名}</td>
</tr>
<tr>
<td>perm</td>
<td>string</td>
<td>读写类型：W: 读写,R: 只读,N: 报警,E: 故障</td>
</tr>
<tr>
<td>unit_spec</td>
<td>inline_model_2</td>
<td>type 为 QFloatElement 才有该字段</td>
</tr>
<tr>
<td>inline_model_2</td>
<td>——————</td>
<td>——————</td>
</tr>
<tr>
<td>max</td>
<td>integer</td>
<td>最大值</td>
</tr>
<tr>
<td>step</td>
<td>integer</td>
<td>步进</td>
</tr>
<tr>
<td>min</td>
<td>integer</td>
<td>最小值</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-1"><a href="#返回例子-1" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"微信宠物屋"</span>,</span><br><span class="line">  <span class="attr">"entities"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"id"</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">"display_name"</span>: <span class="string">"机智云开发套件"</span>,</span><br><span class="line">      <span class="attr">"attrs"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"display_name"</span>: <span class="string">"开关"</span>,</span><br><span class="line">          <span class="attr">"name"</span>: <span class="string">"switch"</span>,</span><br><span class="line">          <span class="attr">"data_type"</span>: <span class="string">"bool"</span>,</span><br><span class="line">          <span class="attr">"position"</span>: &#123;</span><br><span class="line">            <span class="attr">"bit_offset"</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">"len"</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">"unit"</span>: <span class="string">"bit"</span>,</span><br><span class="line">            <span class="attr">"byte_offset"</span>: <span class="number">0</span></span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"status_writable"</span>,</span><br><span class="line">          <span class="attr">"id"</span>: <span class="number">0</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"....."</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"entity0"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"protocolType"</span>: <span class="string">"standard"</span>,</span><br><span class="line">  <span class="attr">"product_key"</span>: <span class="string">"4244bf2d79694a259232431b6f2ef46a"</span>,</span><br><span class="line">  <span class="attr">"packetVersion"</span>: <span class="string">"0x00000004"</span>,</span><br><span class="line">  <span class="attr">"ui"</span>: &#123;</span><br><span class="line">    <span class="attr">"object"</span>: &#123;</span><br><span class="line">      <span class="attr">"version"</span>: <span class="number">4</span>,</span><br><span class="line">      <span class="attr">"showEditButton"</span>: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"sections"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"elements"</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"boolValue"</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">"object"</span>: &#123;</span><br><span class="line">              <span class="attr">"action"</span>: <span class="string">"entity0"</span>,</span><br><span class="line">              <span class="attr">"bind"</span>: [</span><br><span class="line">                <span class="string">"entity0.switch"</span></span><br><span class="line">              ],</span><br><span class="line">              <span class="attr">"perm"</span>: <span class="string">"W"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"QBooleanElement"</span>,</span><br><span class="line">            <span class="attr">"key"</span>: <span class="string">"entity0.switch"</span>,</span><br><span class="line">            <span class="attr">"title"</span>: <span class="string">"开关"</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h1><h2 id="搜索注册用户"><a href="#搜索注册用户" class="headerlink" title="搜索注册用户"></a>搜索注册用户</h2><p>该接口查询的是注册用户信息</p>
<p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/用户管理/get_v1_users_search" target="_blank" rel="noopener">调试接口</a></p>
<h4 id="请求类型及地址-2"><a href="#请求类型及地址-2" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET
http://enterpriseapi.gizwits.com/v1/users/search
</code></pre><h4 id="请求参数-2"><a href="#请求参数-2" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">X-Gizwits-Enterprise-ID</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">header</td>
<td style="text-align:left">enterprise id</td>
</tr>
<tr>
<td style="text-align:left">X-Gizwits-Enterprise-Secret</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">header</td>
<td style="text-align:left">enterprise secret</td>
</tr>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">query</td>
<td style="text-align:left">产品名称  product_key</td>
</tr>
<tr>
<td style="text-align:left">appid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">应用id</td>
</tr>
<tr>
<td style="text-align:left">username</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">用户名称</td>
</tr>
<tr>
<td style="text-align:left">phone</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">手机号码</td>
</tr>
<tr>
<td style="text-align:left">email</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">邮件</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">返回的条数，默认:20</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">跳过的条数，default:0</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-2"><a href="#响应参数-2" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">消息总数</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">返回的结果条数</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">跳过的条数</td>
</tr>
<tr>
<td style="text-align:left">previous</td>
<td style="text-align:left">string</td>
<td style="text-align:left">上一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">next</td>
<td style="text-align:left">string</td>
<td style="text-align:left">下一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">uid</td>
<td style="text-align:left">string</td>
<td style="text-align:left">用户 id</td>
</tr>
<tr>
<td style="text-align:left">username</td>
<td style="text-align:left">string</td>
<td style="text-align:left">用户名称</td>
</tr>
<tr>
<td style="text-align:left">phone</td>
<td style="text-align:left">string</td>
<td style="text-align:left">手机号码</td>
</tr>
<tr>
<td style="text-align:left">email</td>
<td style="text-align:left">string</td>
<td style="text-align:left">邮箱</td>
</tr>
<tr>
<td style="text-align:left">birthday</td>
<td style="text-align:left">string</td>
<td style="text-align:left">生日日期</td>
</tr>
<tr>
<td style="text-align:left">is_anonymous</td>
<td style="text-align:left">boolean</td>
<td style="text-align:left">是否为匿名用户</td>
</tr>
<tr>
<td style="text-align:left">gender</td>
<td style="text-align:left">string</td>
<td style="text-align:left">性别</td>
</tr>
<tr>
<td style="text-align:left">address</td>
<td style="text-align:left">string</td>
<td style="text-align:left">地址</td>
</tr>
<tr>
<td style="text-align:left">remark</td>
<td style="text-align:left">string</td>
<td style="text-align:left">备注</td>
</tr>
<tr>
<td style="text-align:left">created_at</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">创建时间</td>
</tr>
<tr>
<td style="text-align:left">updated_at</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">更新时间</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-2"><a href="#返回例子-2" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"meta"</span>: &#123;</span><br><span class="line">    <span class="attr">"previous"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"skip"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"total"</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">"limit"</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">"next"</span>:<span class="literal">null</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"objects"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"username"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"remark"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"uid"</span>: <span class="string">"25a5324c807842348f63ade277eb413a"</span>,</span><br><span class="line">      <span class="attr">"is_anonymous"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"gender"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"created_at"</span>: <span class="number">1513135417</span>,</span><br><span class="line">      <span class="attr">"updated_at"</span>: <span class="number">1513135417</span>,</span><br><span class="line">      <span class="attr">"phone"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"birthday"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"address"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"email"</span>: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="搜索绑定用户"><a href="#搜索绑定用户" class="headerlink" title="搜索绑定用户"></a>搜索绑定用户</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/用户管理/get_v1_products_product_key_users_search" target="_blank" rel="noopener">调试接口</a></p>
<p>该接口用于查询的是绑定用户信息</p>
<ul>
<li>只有当搜索设备 did 时会返回该设备的 owner 权限情况，true：拥有 owner 权限，false：没有 owner 权限</li>
</ul>
<h4 id="请求类型及地址-3"><a href="#请求类型及地址-3" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET  
http://enterpriseapi.gizwits.com/v1/products/{product_key}/users/search
</code></pre><h4 id="请求参数-3"><a href="#请求参数-3" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">组ID</td>
</tr>
<tr>
<td style="text-align:left">type</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">密码</td>
</tr>
<tr>
<td style="text-align:left">val</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">查询条件值</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">每次返回的条数</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">每次跳过的条数</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-3"><a href="#响应参数-3" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">消息总数</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">返回的结果条数</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">跳过的条数</td>
</tr>
<tr>
<td style="text-align:left">previous</td>
<td style="text-align:left">string</td>
<td style="text-align:left">上一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">next</td>
<td style="text-align:left">string</td>
<td style="text-align:left">下一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">uid</td>
<td style="text-align:left">string</td>
<td style="text-align:left">用户 id</td>
</tr>
<tr>
<td style="text-align:left">username</td>
<td style="text-align:left">string</td>
<td style="text-align:left">用户名称</td>
</tr>
<tr>
<td style="text-align:left">phone</td>
<td style="text-align:left">string</td>
<td style="text-align:left">手机号码</td>
</tr>
<tr>
<td style="text-align:left">email</td>
<td style="text-align:left">string</td>
<td style="text-align:left">邮箱</td>
</tr>
<tr>
<td style="text-align:left">birthday</td>
<td style="text-align:left">string</td>
<td style="text-align:left">生日日期</td>
</tr>
<tr>
<td style="text-align:left">address</td>
<td style="text-align:left">string</td>
<td style="text-align:left">地址</td>
</tr>
<tr>
<td style="text-align:left">remark</td>
<td style="text-align:left">string</td>
<td style="text-align:left">备注</td>
</tr>
<tr>
<td style="text-align:left">created_at</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">创建时间</td>
</tr>
<tr>
<td style="text-align:left">is_anonymous</td>
<td style="text-align:left">boolean</td>
<td style="text-align:left">是否为匿名用户</td>
</tr>
<tr>
<td style="text-align:left">auth_src</td>
<td style="text-align:left">object</td>
<td style="text-align:left">用户第三方信息</td>
</tr>
<tr>
<td style="text-align:left">is_owner</td>
<td style="text-align:left">boolean</td>
<td style="text-align:left">只有当搜索设备 did 时会返回该设备的 owner 权限情况，true：拥有 owner 权限，false：没有 owner 权限</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-3"><a href="#返回例子-3" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"meta"</span>: &#123;</span><br><span class="line">    <span class="attr">"previous"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"skip"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"total"</span>: <span class="number">30</span>,</span><br><span class="line">    <span class="attr">"limit"</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">"next"</span>: <span class="literal">null</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"objects"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"username"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"remark"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"uid"</span>: <span class="string">"2ac80784a695a5f88f63ade277eb413a"</span>,</span><br><span class="line">      <span class="attr">"is_anonymous"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"gender"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"created_at"</span>: <span class="number">1513135417</span>,</span><br><span class="line">      <span class="attr">"auth_src"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"phone"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"birthday"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"address"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"email"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"name"</span>: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="设备管理"><a href="#设备管理" class="headerlink" title="设备管理"></a>设备管理</h1><h2 id="获取设备did"><a href="#获取设备did" class="headerlink" title="获取设备did"></a>获取设备did</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备管理/get_v1_products_product_key_devices" target="_blank" rel="noopener">调试接口</a></p>
<h4 id="请求类型及地址-4"><a href="#请求类型及地址-4" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET
http://enterpriseapi.gizwits.com/v1/products/{product_key}/devices
</code></pre><h4 id="请求参数-4"><a href="#请求参数-4" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">mac</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">query</td>
<td style="text-align:left">mac 地址</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-4"><a href="#响应参数-4" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">did</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备id</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-4"><a href="#返回例子-4" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"did"</span>: <span class="string">"cBYkSjoE2xspYMhaUHdk5k"</span>,</span><br><span class="line">  <span class="attr">"passcode"</span>: <span class="string">"123456"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="获取设备详情"><a href="#获取设备详情" class="headerlink" title="获取设备详情"></a><span id="get_v1_products_product_key_device_detail">获取设备详情</span></h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备管理/get_v1_products_product_key_device_detail" target="_blank" rel="noopener">调试接口</a></p>
<h4 id="请求类型及地址-5"><a href="#请求类型及地址-5" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET
http://enterpriseapi.gizwits.com/v1/products/{product_key}/device_detail
</code></pre><h4 id="请求参数-5"><a href="#请求参数-5" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">mac</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">query</td>
<td style="text-align:left">mac 地址</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-5"><a href="#响应参数-5" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">mac</td>
<td style="text-align:left">string</td>
<td style="text-align:left">mac 地址</td>
</tr>
<tr>
<td style="text-align:left">did</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备 ID</td>
</tr>
<tr>
<td style="text-align:left">is_online</td>
<td style="text-align:left">boolean</td>
<td style="text-align:left">设备是否在线，True 代表在线，False 代表离线</td>
</tr>
<tr>
<td style="text-align:left">is_disabled</td>
<td style="text-align:left">boolean</td>
<td style="text-align:left">设备是否注销，True 代表已注销，False 代表未注销</td>
</tr>
<tr>
<td style="text-align:left">type</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备类型</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-5"><a href="#返回例子-5" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"did"</span>: <span class="string">"dE2xjocBhaUHkYkSspYM5k"</span>,</span><br><span class="line">  <span class="attr">"is_disabled"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"product_key"</span>: <span class="string">"6f2e214bf2d79649232431b94a25f46a"</span>,</span><br><span class="line">  <span class="attr">"mac"</span>: <span class="string">"virtual:site"</span>,</span><br><span class="line">  <span class="attr">"is_online"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"type"</span>: <span class="string">"normal"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="搜索设备"><a href="#搜索设备" class="headerlink" title="搜索设备"></a>搜索设备</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备管理/get_v1_products_product_key_devices_search" target="_blank" rel="noopener">调试接口</a></p>
<h4 id="请求类型及地址-6"><a href="#请求类型及地址-6" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET  
http://enterpriseapi.gizwits.com/v1/products/{product_key}/devices/search
</code></pre><h4 id="请求参数-6"><a href="#请求参数-6" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">设备组 id</td>
</tr>
<tr>
<td style="text-align:left">country</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">国家</td>
</tr>
<tr>
<td style="text-align:left">region</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">省</td>
</tr>
<tr>
<td style="text-align:left">city</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">城市</td>
</tr>
<tr>
<td style="text-align:left">is_online</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">是否在线,在线为1,不在线为0</td>
</tr>
<tr>
<td style="text-align:left">is_faulty</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">是否故障,故障为1,无故障为0</td>
</tr>
<tr>
<td style="text-align:left">is_alert</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">是否报警,报警为1,无报警为0</td>
</tr>
<tr>
<td style="text-align:left">show_disabled</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">显示注销为1，过滤注销为0</td>
</tr>
<tr>
<td style="text-align:left">liveness_start</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">最近活跃时间戳</td>
</tr>
<tr>
<td style="text-align:left">type</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">可以为 did、mac、uid</td>
</tr>
<tr>
<td style="text-align:left">val</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">查询条件值</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">每次返回的条数</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">每次跳过的条数</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-6"><a href="#响应参数-6" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">消息总数</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">返回的结果条数</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">跳过的条数</td>
</tr>
<tr>
<td style="text-align:left">previous</td>
<td style="text-align:left">string</td>
<td style="text-align:left">上一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">next</td>
<td style="text-align:left">string</td>
<td style="text-align:left">下一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">did</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备 id</td>
</tr>
<tr>
<td style="text-align:left">mac</td>
<td style="text-align:left">string</td>
<td style="text-align:left">mac 地址</td>
</tr>
<tr>
<td style="text-align:left">is_online</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">是否设备在线</td>
</tr>
<tr>
<td style="text-align:left">country</td>
<td style="text-align:left">string</td>
<td style="text-align:left">country</td>
</tr>
<tr>
<td style="text-align:left">region</td>
<td style="text-align:left">string</td>
<td style="text-align:left">省</td>
</tr>
<tr>
<td style="text-align:left">city</td>
<td style="text-align:left">string</td>
<td style="text-align:left">市</td>
</tr>
<tr>
<td style="text-align:left">longitude</td>
<td style="text-align:left">string</td>
<td style="text-align:left">经度</td>
</tr>
<tr>
<td style="text-align:left">latitude</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">纬度</td>
</tr>
<tr>
<td style="text-align:left">is_faulty</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">是否发生故障</td>
</tr>
<tr>
<td style="text-align:left">is_alert</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">是否发生报警</td>
</tr>
<tr>
<td style="text-align:left">online_latest</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">设备最近上线时间</td>
</tr>
<tr>
<td style="text-align:left">created_at</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">设备创建时间</td>
</tr>
<tr>
<td style="text-align:left">mcu_hard_version</td>
<td style="text-align:left">string</td>
<td style="text-align:left">mcu 硬件版本</td>
</tr>
<tr>
<td style="text-align:left">mcu_soft_version</td>
<td style="text-align:left">string</td>
<td style="text-align:left">mcu 软件件版本</td>
</tr>
<tr>
<td style="text-align:left">wifi_hard_version</td>
<td style="text-align:left">string</td>
<td style="text-align:left">wifi 硬件版本</td>
</tr>
<tr>
<td style="text-align:left">wifi_soft_version</td>
<td style="text-align:left">string</td>
<td style="text-align:left">wifi 软件件版本</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-6"><a href="#返回例子-6" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"meta"</span>: &#123;</span><br><span class="line">    <span class="attr">"previous"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"skip"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"total"</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">"limit"</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">"next"</span>: <span class="literal">null</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"objects"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"city"</span>: <span class="string">"Guangzhou"</span>,</span><br><span class="line">      <span class="attr">"mcu_hard_version"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"mcu_soft_version"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"did"</span>: <span class="string">"kYkSE2xspYjocBhaUHdM5k"</span>,</span><br><span class="line">      <span class="attr">"country"</span>: <span class="string">"China"</span>,</span><br><span class="line">      <span class="attr">"region"</span>: <span class="string">"Guangdong"</span>,</span><br><span class="line">      <span class="attr">"mac"</span>: <span class="string">"virtual:site"</span>,</span><br><span class="line">      <span class="attr">"longitude"</span>: <span class="number">113.280637</span>,</span><br><span class="line">      <span class="attr">"wifi_hard_version"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"online_latest"</span>: <span class="number">1517296665</span>,</span><br><span class="line">      <span class="attr">"wifi_soft_version"</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"is_online"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"latitude"</span>: <span class="number">23.125178</span>,</span><br><span class="line">      <span class="attr">"is_alert"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"created_at"</span>: <span class="number">1505789918</span>,</span><br><span class="line">      <span class="attr">"is_faulty"</span>: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="设备远程控制"><a href="#设备远程控制" class="headerlink" title="设备远程控制"></a>设备远程控制</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备管理/post_v1_products_product_key_devices_did_control" target="_blank" rel="noopener">调试接口</a></p>
<h4 id="原始指令-raw"><a href="#原始指令-raw" class="headerlink" title="原始指令(raw):"></a>原始指令(raw):</h4><p>默认格式为十进制数组，设置 binary_coding 参数可使用 hex 和 base64，<br>如要发送 payload 为二进制 011000010110001001100011 ，每组byte换成一个十进制数组的值得就是：[97,98,99]；<br>如要发送 payload 为16进制 616263 ，每组byte换成一个十进制数组的值得就是：[97,98,99]。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"raw"</span>: [<span class="number">97</span>,<span class="number">98</span>,<span class="number">99</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="数据点方式-attrs"><a href="#数据点方式-attrs" class="headerlink" title="数据点方式(attrs):"></a>数据点方式(attrs):</h4><p>设备产品必须定义了数据点。如要设置扩展类型的字段 binary 为16进制 1234567 ，需要补齐扩展型长度：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"attrs"</span>: &#123;</span><br><span class="line">    <span class="attr">"binary"</span>: <span class="string">"1234567000"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="请求类型及地址-7"><a href="#请求类型及地址-7" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>POST
http://enterpriseapi.gizwits.com/v1/products/{product_key}/devices/{did}/control
</code></pre><h4 id="请求参数-7"><a href="#请求参数-7" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">did</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">设备 id</td>
</tr>
<tr>
<td style="text-align:left">raw</td>
<td style="text-align:left">Array[integer]</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left">原始指令</td>
</tr>
<tr>
<td style="text-align:left">attrs</td>
<td style="text-align:left">object</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left">数据点方式</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-7"><a href="#响应参数-7" class="headerlink" title="响应参数"></a>响应参数</h4><p>   无</p>
<h2 id="设备上下线记录"><a href="#设备上下线记录" class="headerlink" title="设备上下线记录"></a>设备上下线记录</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备管理/get_v1_products_product_key_devices_did_online" target="_blank" rel="noopener">调试接口</a></p>
<p>用于查询最近7天内任意两天的上下线记录。</p>
<h4 id="时间-amp-排序："><a href="#时间-amp-排序：" class="headerlink" title="时间&amp;排序："></a>时间&amp;排序：</h4><ul>
<li>start_ts 和 end_ts不填，默认查询过去到现在两天以内的通信日志记录</li>
<li>start_ts 与 end_ts之间的间隔秒必须在两天范围以内</li>
<li>增加sort排序，默认为降序，asc代表升序，desc代表降序</li>
</ul>
<h4 id="设备的下线原因（reason）"><a href="#设备的下线原因（reason）" class="headerlink" title="设备的下线原因（reason）"></a>设备的下线原因（reason）</h4><ul>
<li>mqtt_disconnect：设备主动断开与mqtt的连接</li>
<li>no_heartbeat：m2m在KeepAlive时段内，没有收到设备心跳</li>
<li>tcp_closed：设备主动断开tcp连接</li>
<li>ssl_closed：设备主动断开ssl连接</li>
<li>offline_force：设备重复上线，原有的连接断开</li>
<li>offline_reset：设备注销，断开连接</li>
<li>offline_exception：异常断开连接</li>
<li>offline_sending_density_overflow：客户端发送信息的频率过大，断开链接</li>
<li>offline_sending_data_size_overflow：客户端发送信息的流量过大，断开链接</li>
</ul>
<h4 id="请求类型及地址-8"><a href="#请求类型及地址-8" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET
http://enterpriseapi.gizwits.com/v1/products/{product_key}/devices/{did}/online
</code></pre><h4 id="请求参数-8"><a href="#请求参数-8" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">did</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">设备did</td>
</tr>
<tr>
<td style="text-align:left">start_ts</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">开始时间戳</td>
</tr>
<tr>
<td style="text-align:left">end_ts</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">结束时间戳</td>
</tr>
<tr>
<td style="text-align:left">sort</td>
<td style="text-align:left">sort</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">可以是desc和asc</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">返回的结果条数</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">跳过的条数</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-8"><a href="#响应参数-8" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">消息总数</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">返回的结果条数</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">跳过的条数</td>
</tr>
<tr>
<td style="text-align:left">previous</td>
<td style="text-align:left">string</td>
<td style="text-align:left">上一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">next</td>
<td style="text-align:left">string</td>
<td style="text-align:left">下一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">timestamp</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">设备上下线指令时间</td>
</tr>
<tr>
<td style="text-align:left">type</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备日志类型，如： dev_offline/dev_offline 等</td>
</tr>
<tr>
<td style="text-align:left">payload</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备原始日志信息</td>
</tr>
<tr>
<td style="text-align:left">KeepAlive</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">设备指定的心跳时间间隔（单位:秒）</td>
</tr>
<tr>
<td style="text-align:left">duration</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">设备的在线时长 （单位:秒）</td>
</tr>
<tr>
<td style="text-align:left">count</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">在线时发送的心跳次数</td>
</tr>
<tr>
<td style="text-align:left">max</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">最大间隔时间</td>
</tr>
<tr>
<td style="text-align:left">min</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">最小间隔时间</td>
</tr>
<tr>
<td style="text-align:left">avg</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">平均间隔时间</td>
</tr>
<tr>
<td style="text-align:left">last</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">最后一次收到心跳时刻与下线时刻的间隔时间</td>
</tr>
<tr>
<td style="text-align:left">reason</td>
<td style="text-align:left">string</td>
<td style="text-align:left">下线原因</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-7"><a href="#返回例子-7" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"meta"</span>: &#123;</span><br><span class="line">    <span class="attr">"previous"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"skip"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"total"</span>: <span class="number">5</span>,</span><br><span class="line">    <span class="attr">"limit"</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">"next"</span>: <span class="literal">null</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"objects"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"timestamp"</span>: <span class="number">1517384124.229</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"dev_online"</span>,</span><br><span class="line">      <span class="attr">"payload"</span>: &#123;</span><br><span class="line">        <span class="attr">"keep_alive"</span>: <span class="number">130</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"timestamp"</span>: <span class="number">1517298056.201</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"dev_offline"</span>,</span><br><span class="line">      <span class="attr">"payload"</span>: &#123;</span><br><span class="line">        <span class="attr">"duration"</span>: <span class="number">1391</span>,</span><br><span class="line">        <span class="attr">"heartbeat"</span>: &#123;</span><br><span class="line">          <span class="attr">"count"</span>: <span class="number">21</span>,</span><br><span class="line">          <span class="attr">"max"</span>: <span class="number">60</span>,</span><br><span class="line">          <span class="attr">"avg"</span>: <span class="number">60</span>,</span><br><span class="line">          <span class="attr">"last"</span>: <span class="number">130</span>,</span><br><span class="line">          <span class="attr">"min"</span>: <span class="number">60</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"reason"</span>: <span class="string">"no_heartbeat"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="设备通信日志"><a href="#设备通信日志" class="headerlink" title="设备通信日志"></a>设备通信日志</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备管理/get_v1_products_product_key_devices_did_cmd" target="_blank" rel="noopener">调试接口</a></p>
<p>用于查询最近7天内任意两天的设备通讯日志（原始数据）。</p>
<h4 id="时间-amp-排序：-1"><a href="#时间-amp-排序：-1" class="headerlink" title="时间&amp;排序："></a>时间&amp;排序：</h4><ul>
<li>start_ts 和 end_ts不填，默认查询过去到现在两天以内的通信日志记录</li>
<li>start_ts与end_ts之间的间隔秒必须在两天范围以内</li>
<li>增加sort排序，默认为降序，asc代表升序，desc代表降序</li>
</ul>
<h4 id="payload："><a href="#payload：" class="headerlink" title="payload："></a>payload：</h4><ul>
<li>payload 为二进制进行 base64 编码后的结果。</li>
</ul>
<h4 id="请求类型及地址-9"><a href="#请求类型及地址-9" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET
http://enterpriseapi.gizwits.com/v1/products/{product_key}/devices/{did}/cmd
</code></pre><h4 id="请求参数-9"><a href="#请求参数-9" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">did</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">设备did</td>
</tr>
<tr>
<td style="text-align:left">start_ts</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">开始时间戳</td>
</tr>
<tr>
<td style="text-align:left">end_ts</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">结束时间戳</td>
</tr>
<tr>
<td style="text-align:left">sort</td>
<td style="text-align:left">sort</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">可以是desc和asc</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">返回的结果条数</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">跳过的条数</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-9"><a href="#响应参数-9" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">消息总数</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">返回的结果条数</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">跳过的条数</td>
</tr>
<tr>
<td style="text-align:left">previous</td>
<td style="text-align:left">string</td>
<td style="text-align:left">上一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">next</td>
<td style="text-align:left">string</td>
<td style="text-align:left">下一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">timestamp</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">设备上下线指令时间</td>
</tr>
<tr>
<td style="text-align:left">type</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备日志类型，如： dev2app/app2dev 等</td>
</tr>
<tr>
<td style="text-align:left">payload</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备原始日志信息</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-8"><a href="#返回例子-8" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"meta"</span>: &#123;</span><br><span class="line">    <span class="attr">"previous"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"skip"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"total"</span>: <span class="number">6</span>,</span><br><span class="line">    <span class="attr">"limit"</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">"next"</span>: <span class="literal">null</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"objects"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"timestamp"</span>: <span class="number">1517384252.294</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"app2dev"</span>,</span><br><span class="line">      <span class="attr">"payload"</span>: <span class="string">"0000000309000090010101000010"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"timestamp"</span>: <span class="number">1517384243.044</span>,</span><br><span class="line">      <span class="attr">"type"</span>: <span class="string">"dev2app"</span>,</span><br><span class="line">      <span class="attr">"payload"</span>: <span class="string">"000000030b0000910401000010000000"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="获取设备历史数据"><a href="#获取设备历史数据" class="headerlink" title="获取设备历史数据"></a>获取设备历史数据</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备管理/get_v1_products_product_key_devices_did_data" target="_blank" rel="noopener">调试接口</a></p>
<p>用于查询最近7天内任意两天的设备通讯日志（Json格式）。</p>
<ul>
<li>start_ts 和 end_ts不填，默认查询过去到现在两天以内的通信日志记录</li>
<li>start_ts与end_ts之间的间隔秒必须在两天范围以内</li>
<li>增加sort排序，默认为降序，asc代表升序，desc代表降序</li>
</ul>
<h4 id="请求类型及地址-10"><a href="#请求类型及地址-10" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET
http://enterpriseapi.gizwits.com/v1/products/{product_key}/devices/{did}/data
</code></pre><h4 id="请求参数-10"><a href="#请求参数-10" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">did</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">设备did</td>
</tr>
<tr>
<td style="text-align:left">start_ts</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">开始时间戳</td>
</tr>
<tr>
<td style="text-align:left">end_ts</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">结束时间戳</td>
</tr>
<tr>
<td style="text-align:left">sort</td>
<td style="text-align:left">sort</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">可以是desc和asc</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">返回的结果条数</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">跳过的条数</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-10"><a href="#响应参数-10" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">消息总数</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">返回的结果条数</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">跳过的条数</td>
</tr>
<tr>
<td style="text-align:left">previous</td>
<td style="text-align:left">string</td>
<td style="text-align:left">上一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">next</td>
<td style="text-align:left">string</td>
<td style="text-align:left">下一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">ts</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">设备指令时间</td>
</tr>
<tr>
<td style="text-align:left">attrs</td>
<td style="text-align:left">objects</td>
<td style="text-align:left">数据点</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-9"><a href="#返回例子-9" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"meta"</span>: &#123;</span><br><span class="line">    <span class="attr">"previous"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"skip"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"total"</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">"limit"</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">"next"</span>: <span class="literal">null</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"objects"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"ts"</span>: <span class="number">1517384243</span>,</span><br><span class="line">      <span class="attr">"attrs"</span>: &#123;</span><br><span class="line">        <span class="attr">"alert_full"</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">"alert_shutdown"</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">"mode"</span>: <span class="string">"制冷"</span>,</span><br><span class="line">        <span class="attr">"fan_swing"</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">"switch"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"fan_speed"</span>: <span class="string">"低风"</span>,</span><br><span class="line">        <span class="attr">"fault_roomtemp"</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">"room_temp"</span>: <span class="number">-10</span>,</span><br><span class="line">        <span class="attr">"set_temp"</span>: <span class="number">16</span>,</span><br><span class="line">        <span class="attr">"off_timing"</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">"on_timing"</span>: <span class="number">0</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="设备组管理"><a href="#设备组管理" class="headerlink" title="设备组管理"></a>设备组管理</h1><h2 id="获取设备组树形结构"><a href="#获取设备组树形结构" class="headerlink" title="获取设备组树形结构"></a>获取设备组树形结构</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备组管理/get_v1_products_product_key_device_groups" target="_blank" rel="noopener">调试接口</a></p>
<h4 id="请求类型及地址-11"><a href="#请求类型及地址-11" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET
http://enterpriseapi.gizwits.com/v1/products/{product_key}/device_groups
</code></pre><h4 id="请求参数-11"><a href="#请求参数-11" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-11"><a href="#响应参数-11" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备组ID</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-10"><a href="#返回例子-10" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"c8e4b5634b047dc495be4a05a39d02a3"</span>: <span class="string">""</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="创建设备组"><a href="#创建设备组" class="headerlink" title="创建设备组"></a>创建设备组</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备组管理/post_v1_products_product_key_device_groups" target="_blank" rel="noopener">调试接口</a></p>
<ul>
<li>parent 为可选参数，如果有 parent 表示创建一个子设备组。</li>
<li>一个产品只能有一个根设备组。</li>
</ul>
<h4 id="请求类型及地址-12"><a href="#请求类型及地址-12" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>POST
 http://enterpriseapi.gizwits.com/v1/products/{product_key}/device_groups
</code></pre><h4 id="请求参数-12"><a href="#请求参数-12" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">parent_gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">body</td>
<td style="text-align:left">子设备组id</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-12"><a href="#响应参数-12" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备组ID</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-11"><a href="#返回例子-11" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"gid"</span>: <span class="string">"c8e4b5634b047dc495be4a05a39d02a3"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="删除设备组"><a href="#删除设备组" class="headerlink" title="删除设备组"></a>删除设备组</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备组管理/delete_v1_products_product_key_device_groups_gid" target="_blank" rel="noopener">调试接口</a></p>
<p>删除设备组需要先清空设备组下所有设备及子设备组。</p>
<h4 id="请求类型及地址-13"><a href="#请求类型及地址-13" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>DELETE
 http://enterpriseapi.gizwits.com/v1/products/{product_key}/device_groups/{gid}
</code></pre><h4 id="请求参数-13"><a href="#请求参数-13" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">设备组id</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-13"><a href="#响应参数-13" class="headerlink" title="响应参数"></a>响应参数</h4><pre><code>无 
</code></pre><h2 id="获取设备组下的mac列表"><a href="#获取设备组下的mac列表" class="headerlink" title="获取设备组下的mac列表"></a>获取设备组下的mac列表</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备组管理/get_v1_products_product_key_device_groups_gid" target="_blank" rel="noopener">调试接口</a></p>
<h4 id="请求类型及地址-14"><a href="#请求类型及地址-14" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET
http://enterpriseapi.gizwits.com/v1/products/{product_key}/device_groups/{gid}
</code></pre><h4 id="请求参数-14"><a href="#请求参数-14" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">设备组id</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-14"><a href="#响应参数-14" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">macs</td>
<td style="text-align:left">Array[string]</td>
<td style="text-align:left">mac列表</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-12"><a href="#返回例子-12" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"macs"</span>: [</span><br><span class="line">    <span class="string">"virtual:site"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="更新设备组"><a href="#更新设备组" class="headerlink" title="更新设备组"></a>更新设备组</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备组管理/put_v1_products_product_key_device_groups_gid" target="_blank" rel="noopener">调试接口</a></p>
<ul>
<li>action: 操作，”assign” | “unassign”</li>
<li>macs: MAC 列表，最多一次上传 1000 个 MAC</li>
<li>reassign: 当 action 为 “assign” 时有效。当 reassgin 为 true，MAC 如果已经在某个设备组下面，会被移动到当前组；当 reassign 为 false，MAC 如果已经在某个设备组下面，则移动失败。</li>
</ul>
<h4 id="请求类型及地址-15"><a href="#请求类型及地址-15" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>PUT
http://enterpriseapi.gizwits.com/v1/products/{product_key}/device_groups/{gid}
</code></pre><h4 id="请求参数-15"><a href="#请求参数-15" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">设备组id</td>
</tr>
<tr>
<td style="text-align:left">action</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left">设备组分配类型: assign,unassign</td>
</tr>
<tr>
<td style="text-align:left">reassign</td>
<td style="text-align:left">boolean</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">macs</td>
<td style="text-align:left">Array[string]</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left">MAC 列表</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-15"><a href="#响应参数-15" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">failed</td>
<td style="text-align:left">Array[string]</td>
<td style="text-align:left">更新失败的mac列表</td>
</tr>
<tr>
<td style="text-align:left">success</td>
<td style="text-align:left">Array[string]</td>
<td style="text-align:left">更新成功的mac列表</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-13"><a href="#返回例子-13" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"failed"</span>: [],</span><br><span class="line">  <span class="attr">"success"</span>: [</span><br><span class="line">    <span class="string">"virtual:site"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="绑定管理"><a href="#绑定管理" class="headerlink" title="绑定管理"></a>绑定管理</h1><h2 id="设备绑定功能"><a href="#设备绑定功能" class="headerlink" title="设备绑定功能"></a>设备绑定功能</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/绑定管理/post_v1_products_product_key_devices_bindings" target="_blank" rel="noopener">调试接口</a></p>
<h4 id="请求类型及地址-16"><a href="#请求类型及地址-16" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>POST
http://enterpriseapi.gizwits.com/v1/products/{product_key}/devices/bindings
</code></pre><h4 id="请求参数-16"><a href="#请求参数-16" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">uid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left">用户 id</td>
</tr>
<tr>
<td style="text-align:left">appid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left">应用  id</td>
</tr>
<tr>
<td style="text-align:left">dids</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left">did 列表</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-16"><a href="#响应参数-16" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">success</td>
<td style="text-align:left">Array[string]</td>
<td style="text-align:left">解绑成功MAC列表</td>
</tr>
<tr>
<td style="text-align:left">failed</td>
<td style="text-align:left">Array[string]</td>
<td style="text-align:left">解绑失败MAC列表</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-14"><a href="#返回例子-14" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"failed"</span>: [],</span><br><span class="line">  <span class="attr">"success"</span>: [</span><br><span class="line">    <span class="string">"jaUHdkYkSocBhE2xspYM5k"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="解除绑定"><a href="#解除绑定" class="headerlink" title="解除绑定"></a>解除绑定</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/绑定管理/delete_v1_products_product_key_devices_bindings" target="_blank" rel="noopener">调试接口</a></p>
<h4 id="请求类型及地址-17"><a href="#请求类型及地址-17" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>DELETE
http://enterpriseapi.gizwits.com/v1/products/{product_key}/devices/bindings
</code></pre><h4 id="请求参数-17"><a href="#请求参数-17" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">uid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left">用户 id</td>
</tr>
<tr>
<td style="text-align:left">appid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left">应用  id</td>
</tr>
<tr>
<td style="text-align:left">dids</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">body</td>
<td style="text-align:left">did 列表</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-17"><a href="#响应参数-17" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">success</td>
<td style="text-align:left">Array[string]</td>
<td style="text-align:left">绑定成功MAC列表</td>
</tr>
<tr>
<td style="text-align:left">failed</td>
<td style="text-align:left">Array[string]</td>
<td style="text-align:left">绑定失败MAC列表</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-15"><a href="#返回例子-15" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"failed"</span>: [],</span><br><span class="line">  <span class="attr">"success"</span>: [</span><br><span class="line">    <span class="string">"jaUHdkYkSocBhE2xspYM5k"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="设备报表"><a href="#设备报表" class="headerlink" title="设备报表"></a>设备报表</h1><h2 id="获取设备地理位置分布"><a href="#获取设备地理位置分布" class="headerlink" title="获取设备地理位置分布"></a>获取设备地理位置分布</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/用户报表/get_v1_products_product_key_devices_locations" target="_blank" rel="noopener">调试接口</a></p>
<p>用于获取设备地理位置分布报表</p>
<h4 id="请求类型及地址-18"><a href="#请求类型及地址-18" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code> GET
http://enterpriseapi.gizwits.com/v1/products/{product_key}/devices/locations
</code></pre><h4 id="请求参数-18"><a href="#请求参数-18" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">设备组id</td>
</tr>
<tr>
<td style="text-align:left">is_online</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">是否在线</td>
</tr>
<tr>
<td style="text-align:left">is_faulty</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">是否故障</td>
</tr>
<tr>
<td style="text-align:left">is_alert</td>
<td style="text-align:left">integer</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">是否报警</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-18"><a href="#响应参数-18" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备组 id</td>
</tr>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">设备总数</td>
</tr>
<tr>
<td style="text-align:left">location</td>
<td style="text-align:left">object</td>
<td style="text-align:left">设备地理位置信息</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-16"><a href="#返回例子-16" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"gid"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"total"</span>: <span class="number">4</span>,</span><br><span class="line">  <span class="attr">"location"</span>: &#123;</span><br><span class="line">    <span class="attr">"China"</span>: &#123;</span><br><span class="line">      <span class="attr">"count"</span>: <span class="number">3</span>,</span><br><span class="line">      <span class="attr">"Guangdong"</span>: &#123;</span><br><span class="line">        <span class="attr">"count"</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="attr">"Guangzhou"</span>: <span class="number">3</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="设备概览"><a href="#设备概览" class="headerlink" title="设备概览"></a>设备概览</h2><p><strong>此接口仅可在国内环境使用</strong></p>
<p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/用户报表/get_v1_products_product_key_devices_locations" target="_blank" rel="noopener">调试接口</a></p>
<p>用于获取最近的新增激活和活跃设备数报表</p>
<h4 id="请求类型及地址-19"><a href="#请求类型及地址-19" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code> GET
http://enterpriseapi.gizwits.com/v1/products/{product_key}/devices/locations
</code></pre><h4 id="请求参数-19"><a href="#请求参数-19" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识码</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-19"><a href="#响应参数-19" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">online</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">设备在线数</td>
</tr>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">设备累计上线数</td>
</tr>
<tr>
<td style="text-align:left">active</td>
<td style="text-align:left">inline_model</td>
<td style="text-align:left">活跃设备</td>
</tr>
<tr>
<td style="text-align:left">yesterday</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">昨日活跃设备数</td>
</tr>
<tr>
<td style="text-align:left">7_day</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">近7天活跃设备数</td>
</tr>
<tr>
<td style="text-align:left">new</td>
<td style="text-align:left">inline_model</td>
<td style="text-align:left">新增设备</td>
</tr>
<tr>
<td style="text-align:left">today</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">今日新增设备数</td>
</tr>
<tr>
<td style="text-align:left">yesterday</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">昨日新增设备数</td>
</tr>
<tr>
<td style="text-align:left">7_day</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">近7天新增设备数</td>
</tr>
<tr>
<td style="text-align:left">30_day</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">近30天新增设备数</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-17"><a href="#返回例子-17" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"active"</span>: &#123;</span><br><span class="line">    <span class="attr">"7_day"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"yesterday"</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"new"</span>: &#123;</span><br><span class="line">    <span class="attr">"7_day"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"30_day"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"yesterday"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"today"</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"total"</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="attr">"online"</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="设备激活详情"><a href="#设备激活详情" class="headerlink" title="设备激活详情"></a>设备激活详情</h2><p><strong>此接口仅可在国内环境使用</strong></p>
<p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备报表/get_v1_products_product_key_incr_devices" target="_blank" rel="noopener">调试接口</a></p>
<p>用于获取设备激活详情报表</p>
<h4 id="日期查询说明"><a href="#日期查询说明" class="headerlink" title="日期查询说明"></a>日期查询说明</h4><ul>
<li>start,end 的格式是年-月-日，例如:2016-08-01,</li>
<li>注意：蓝牙设备响应返回的结果为device_sn字段</li>
</ul>
<h4 id="请求类型及地址-20"><a href="#请求类型及地址-20" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET  
http://enterpriseapi.gizwits.com/v1/products/{product_key}/incr_devices
</code></pre><h4 id="请求参数-20"><a href="#请求参数-20" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">start</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">字符串开始日期</td>
</tr>
<tr>
<td style="text-align:left">end</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">字符串结束日期</td>
</tr>
<tr>
<td style="text-align:left">country</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">国家</td>
</tr>
<tr>
<td style="text-align:left">region</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">省</td>
</tr>
<tr>
<td style="text-align:left">city</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">城市</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-20"><a href="#响应参数-20" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">消息总数</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">返回的结果条数</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">跳过的条数</td>
</tr>
<tr>
<td style="text-align:left">previous</td>
<td style="text-align:left">string</td>
<td style="text-align:left">上一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">next</td>
<td style="text-align:left">string</td>
<td style="text-align:left">下一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">report_date</td>
<td style="text-align:left">string</td>
<td style="text-align:left">报表日期</td>
</tr>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">mac</td>
<td style="text-align:left">string</td>
<td style="text-align:left">mac地址</td>
</tr>
<tr>
<td style="text-align:left">device_sn</td>
<td style="text-align:left">string</td>
<td style="text-align:left">蓝牙设备的设备号</td>
</tr>
<tr>
<td style="text-align:left">country</td>
<td style="text-align:left">string</td>
<td style="text-align:left">国家</td>
</tr>
<tr>
<td style="text-align:left">region</td>
<td style="text-align:left">string</td>
<td style="text-align:left">省</td>
</tr>
<tr>
<td style="text-align:left">city</td>
<td style="text-align:left">string</td>
<td style="text-align:left">城市</td>
</tr>
<tr>
<td style="text-align:left">created_at</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备创建时间</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-18"><a href="#返回例子-18" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"meta"</span>: &#123;</span><br><span class="line">    <span class="attr">"previous"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"skip"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"total"</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="attr">"limit"</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">"next"</span>: <span class="literal">null</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"objects"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"city"</span>: <span class="string">"Guangzhou"</span>,</span><br><span class="line">      <span class="attr">"country"</span>: <span class="string">"China"</span>,</span><br><span class="line">      <span class="attr">"region"</span>: <span class="string">"Guangdong"</span>,</span><br><span class="line">      <span class="attr">"report_date"</span>: <span class="string">"2017-12-07"</span>,</span><br><span class="line">      <span class="attr">"product_key"</span>: <span class="string">"4bd8778c5aa4602e5c9a5a208a1fdcc3"</span>,</span><br><span class="line">      <span class="attr">"mac"</span>: <span class="string">"virtual:site"</span>,</span><br><span class="line">      <span class="attr">"created_at"</span>: <span class="string">"2017-12-07 10:12:45"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="设备活跃详情"><a href="#设备活跃详情" class="headerlink" title="设备活跃详情"></a>设备活跃详情</h2><p><strong>此接口仅可在国内环境使用</strong></p>
<p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备报表/get_v1_products_product_key_active_devices" target="_blank" rel="noopener">调试接口</a></p>
<p>用于获取设备活跃详情报表</p>
<h4 id="日期查询说明-1"><a href="#日期查询说明-1" class="headerlink" title="日期查询说明"></a>日期查询说明</h4><ul>
<li>start,end 的格式是年-月-日，例如:2016-08-01,</li>
<li>注意：蓝牙设备响应返回的结果为device_sn字段</li>
</ul>
<h4 id="请求类型及地址-21"><a href="#请求类型及地址-21" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET  
http://enterpriseapi.gizwits.com/v1/products/{product_key}/active_devices
</code></pre><h4 id="请求参数-21"><a href="#请求参数-21" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">start</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">字符串开始日期</td>
</tr>
<tr>
<td style="text-align:left">end</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">字符串结束日期</td>
</tr>
<tr>
<td style="text-align:left">country</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">国家</td>
</tr>
<tr>
<td style="text-align:left">region</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">省</td>
</tr>
<tr>
<td style="text-align:left">city</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">城市</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-21"><a href="#响应参数-21" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">消息总数</td>
</tr>
<tr>
<td style="text-align:left">limit</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">返回的结果条数</td>
</tr>
<tr>
<td style="text-align:left">skip</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">跳过的条数</td>
</tr>
<tr>
<td style="text-align:left">previous</td>
<td style="text-align:left">string</td>
<td style="text-align:left">上一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">next</td>
<td style="text-align:left">string</td>
<td style="text-align:left">下一页的请求地址</td>
</tr>
<tr>
<td style="text-align:left">report_date</td>
<td style="text-align:left">string</td>
<td style="text-align:left">报表日期</td>
</tr>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">mac</td>
<td style="text-align:left">string</td>
<td style="text-align:left">mac地址</td>
</tr>
<tr>
<td style="text-align:left">device_sn</td>
<td style="text-align:left">string</td>
<td style="text-align:left">蓝牙设备的设备号</td>
</tr>
<tr>
<td style="text-align:left">country</td>
<td style="text-align:left">string</td>
<td style="text-align:left">国家</td>
</tr>
<tr>
<td style="text-align:left">region</td>
<td style="text-align:left">string</td>
<td style="text-align:left">省</td>
</tr>
<tr>
<td style="text-align:left">city</td>
<td style="text-align:left">string</td>
<td style="text-align:left">城市</td>
</tr>
<tr>
<td style="text-align:left">created_at</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备创建时间</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-19"><a href="#返回例子-19" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"meta"</span>: &#123;</span><br><span class="line">    <span class="attr">"previous"</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">"skip"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"total"</span>: <span class="number">19</span>,</span><br><span class="line">    <span class="attr">"limit"</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">"next"</span>: <span class="literal">null</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"objects"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"city"</span>: <span class="string">"Guangzhou"</span>,</span><br><span class="line">      <span class="attr">"country"</span>: <span class="string">"China"</span>,</span><br><span class="line">      <span class="attr">"region"</span>: <span class="string">"Guangdong"</span>,</span><br><span class="line">      <span class="attr">"report_date"</span>: <span class="string">"2017-12-28"</span>,</span><br><span class="line">      <span class="attr">"product_key"</span>: <span class="string">"ea202c9a5bd8708a145a4678c5afdcc3"</span>,</span><br><span class="line">      <span class="attr">"mac"</span>: <span class="string">"virtual:site"</span>,</span><br><span class="line">      <span class="attr">"created_at"</span>: <span class="string">"2017-12-28 18:45:33"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="获取活跃历史报表"><a href="#获取活跃历史报表" class="headerlink" title="获取活跃历史报表"></a>获取活跃历史报表</h2><p><strong>此接口仅可在国内环境使用</strong></p>
<p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备报表/get_v1_products_product_key_devices_report_liveness_history" target="_blank" rel="noopener">调试接口</a></p>
<p>活跃设备指：一天之内有数据上报的设备</p>
<h4 id="查询范围"><a href="#查询范围" class="headerlink" title="查询范围"></a>查询范围</h4><ul>
<li>日报表最多查询 30 天。</li>
<li>周报表最多查询 53 周。</li>
<li>月报表最多查询 12 月。<h4 id="日期查询说明-2"><a href="#日期查询说明-2" class="headerlink" title="日期查询说明"></a>日期查询说明</h4></li>
<li>cycle 为 date 时，start,end 的格式是年-月-日，example:2016-08-01,</li>
<li>cycle 为 week 时，start,end 的格式是年-周，example:2016-51</li>
<li>cycle 为 month 时，start,end 的格式为年-月，example:2016-12</li>
</ul>
<h4 id="请求类型及地址-22"><a href="#请求类型及地址-22" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET  
http://enterpriseapi.gizwits.com/v1/products/{product_key}/devices/report/liveness/history
</code></pre><h4 id="请求参数-22"><a href="#请求参数-22" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">设备组 id</td>
</tr>
<tr>
<td style="text-align:left">cycle</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">统计周期，可以是日(date)、周(week)、月(month)</td>
</tr>
<tr>
<td style="text-align:left">start</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">query</td>
<td style="text-align:left">开始日期</td>
</tr>
<tr>
<td style="text-align:left">end</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">query</td>
<td style="text-align:left">结束日期</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-22"><a href="#响应参数-22" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备组 id</td>
</tr>
<tr>
<td style="text-align:left">cycle</td>
<td style="text-align:left">string</td>
<td style="text-align:left">周期，分为 month,week,date</td>
</tr>
<tr>
<td style="text-align:left">start</td>
<td style="text-align:left">string</td>
<td style="text-align:left">开始日期</td>
</tr>
<tr>
<td style="text-align:left">end</td>
<td style="text-align:left">string</td>
<td style="text-align:left">结束日期</td>
</tr>
<tr>
<td style="text-align:left">date</td>
<td style="text-align:left">string</td>
<td style="text-align:left">日期</td>
</tr>
<tr>
<td style="text-align:left">count</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">数量</td>
</tr>
<tr>
<td style="text-align:left">location</td>
<td style="text-align:left">object</td>
<td style="text-align:left">地理位置信息</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-20"><a href="#返回例子-20" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"start"</span>: <span class="string">"2017-12"</span>,</span><br><span class="line">  <span class="attr">"gid"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"end"</span>: <span class="string">"2017-12"</span>,</span><br><span class="line">  <span class="attr">"data"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"count"</span>: <span class="number">2</span>,</span><br><span class="line">      <span class="attr">"location"</span>: &#123;</span><br><span class="line">        <span class="attr">"China"</span>: &#123;</span><br><span class="line">          <span class="attr">"count"</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">"Guangdong"</span>: &#123;</span><br><span class="line">            <span class="attr">"count"</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">"Guangzhou"</span>: &#123;</span><br><span class="line">              <span class="attr">"count"</span>: <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"month"</span>: <span class="string">"2017-12"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"cycle"</span>: <span class="string">"month"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="设备实时统计报表"><a href="#设备实时统计报表" class="headerlink" title="设备实时统计报表"></a>设备实时统计报表</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备报表/get_v1_products_product_key_devices_report_rt" target="_blank" rel="noopener">调试接口</a></p>
<p>用于获取设备实时统计报表</p>
<h4 id="请求类型及地址-23"><a href="#请求类型及地址-23" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET  
http://enterpriseapi.gizwits.com/v1/products/{product_key}/devices/report/devices/report/rt
</code></pre><h4 id="请求参数-23"><a href="#请求参数-23" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">设备组 id</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-23"><a href="#响应参数-23" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备组 id</td>
</tr>
<tr>
<td style="text-align:left">activated</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">激活数</td>
</tr>
<tr>
<td style="text-align:left">faulty</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">故障数</td>
</tr>
<tr>
<td style="text-align:left">alert</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">报警数</td>
</tr>
<tr>
<td style="text-align:left">location</td>
<td style="text-align:left">object</td>
<td style="text-align:left">设备地理位置分布</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-21"><a href="#返回例子-21" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"count"</span>: &#123;</span><br><span class="line">    <span class="attr">"faulty"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"activated"</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="attr">"alert"</span>: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"gid"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"location"</span>: &#123;</span><br><span class="line">    <span class="attr">"China"</span>: &#123;</span><br><span class="line">      <span class="attr">"count"</span>: &#123;</span><br><span class="line">        <span class="attr">"activated"</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">"alert"</span>: <span class="number">1</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"Guangdong"</span>: &#123;</span><br><span class="line">        <span class="attr">"count"</span>: &#123;</span><br><span class="line">          <span class="attr">"faulty"</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">"activated"</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">"alert"</span>: <span class="number">1</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"Guangzhou"</span>: &#123;</span><br><span class="line">          <span class="attr">"count"</span>: &#123;</span><br><span class="line">            <span class="attr">"activated"</span>: <span class="number">3</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="获取故障设备台数报表"><a href="#获取故障设备台数报表" class="headerlink" title="获取故障设备台数报表"></a>获取故障设备台数报表</h2><p><strong>此接口仅可在国内环境使用</strong></p>
<p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备报表/get_v1_products_product_key_fault_report_devices" target="_blank" rel="noopener">调试接口</a></p>
<p>获取故障设备台数报表</p>
<h4 id="请求类型及地址-24"><a href="#请求类型及地址-24" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET  
http://enterpriseapi.gizwits.com/v1/products/{product_key}/fault/report/devices
</code></pre><h4 id="请求参数-24"><a href="#请求参数-24" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">设备组 id</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-24"><a href="#响应参数-24" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备组 id</td>
</tr>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">故障设备总数</td>
</tr>
<tr>
<td style="text-align:left">resolved</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">故障设备已解决数</td>
</tr>
<tr>
<td style="text-align:left">unresolved</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">故障设备未解决数</td>
</tr>
<tr>
<td style="text-align:left">location</td>
<td style="text-align:left">object</td>
<td style="text-align:left">故障设备地理位置分布</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-22"><a href="#返回例子-22" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"gid"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"count"</span>: &#123;</span><br><span class="line">    <span class="attr">"total"</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"unresolved"</span>: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"location"</span>: &#123;</span><br><span class="line">    <span class="attr">"China"</span>: &#123;</span><br><span class="line">      <span class="attr">"count"</span>: &#123;</span><br><span class="line">        <span class="attr">"total"</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"unresolved"</span>: <span class="number">1</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"Guangdong"</span>: &#123;</span><br><span class="line">        <span class="attr">"count"</span>: &#123;</span><br><span class="line">          <span class="attr">"total"</span>: <span class="number">2</span>,</span><br><span class="line">          <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">"unresolved"</span>: <span class="number">1</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"Guangzhou"</span>: &#123;</span><br><span class="line">          <span class="attr">"count"</span>: &#123;</span><br><span class="line">            <span class="attr">"total"</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">"unresolved"</span>: <span class="number">1</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="获取报警设备台数报表"><a href="#获取报警设备台数报表" class="headerlink" title="获取报警设备台数报表"></a>获取报警设备台数报表</h2><p><strong>此接口仅可在国内环境使用</strong></p>
<p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备报表/get_v1_products_product_key_alert_report_devices" target="_blank" rel="noopener">调试接口</a></p>
<p>用于获取报警设备台数报表</p>
<h4 id="请求类型及地址-25"><a href="#请求类型及地址-25" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET  
http://enterpriseapi.gizwits.com/v1/products/{product_key}/alert/report/devices
</code></pre><h4 id="请求参数-25"><a href="#请求参数-25" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">设备组 id</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-25"><a href="#响应参数-25" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备组 id</td>
</tr>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">报警设备总数</td>
</tr>
<tr>
<td style="text-align:left">resolved</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">报警设备已解决数</td>
</tr>
<tr>
<td style="text-align:left">unresolved</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">报警设备未解决数</td>
</tr>
<tr>
<td style="text-align:left">location</td>
<td style="text-align:left">object</td>
<td style="text-align:left">报警设备地理位置分布</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-23"><a href="#返回例子-23" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"gid"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"count"</span>: &#123;</span><br><span class="line">    <span class="attr">"total"</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"unresolved"</span>: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"location"</span>: &#123;</span><br><span class="line">    <span class="attr">"China"</span>: &#123;</span><br><span class="line">      <span class="attr">"count"</span>: &#123;</span><br><span class="line">        <span class="attr">"total"</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"unresolved"</span>: <span class="number">1</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"Guangdong"</span>: &#123;</span><br><span class="line">        <span class="attr">"count"</span>: &#123;</span><br><span class="line">          <span class="attr">"total"</span>: <span class="number">2</span>,</span><br><span class="line">          <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">"unresolved"</span>: <span class="number">1</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">"Guangzhou"</span>: &#123;</span><br><span class="line">          <span class="attr">"count"</span>: &#123;</span><br><span class="line">            <span class="attr">"total"</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">"unresolved"</span>: <span class="number">1</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="获取故障次数报表"><a href="#获取故障次数报表" class="headerlink" title="获取故障次数报表"></a>获取故障次数报表</h2><p><strong>此接口仅可在国内环境使用</strong></p>
<p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备报表/get_v1_products_product_key_fault_report_events" target="_blank" rel="noopener">调试接口</a></p>
<p>用于获取故障次数报表</p>
<h4 id="请求类型及地址-26"><a href="#请求类型及地址-26" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET  
http://enterpriseapi.gizwits.com/v1/products/{product_key}/fault/report/events
</code></pre><h4 id="请求参数-26"><a href="#请求参数-26" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">设备组 id</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-26"><a href="#响应参数-26" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备组 id</td>
</tr>
<tr>
<td style="text-align:left">detail</td>
<td style="text-align:left">object</td>
<td style="text-align:left">详情故障类数据点统计</td>
</tr>
<tr>
<td style="text-align:left">location</td>
<td style="text-align:left">object</td>
<td style="text-align:left">故障地理分布统计</td>
</tr>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">故障设备总数</td>
</tr>
<tr>
<td style="text-align:left">resolved</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">故障已解决数</td>
</tr>
<tr>
<td style="text-align:left">unresolved</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">故障未解决数</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-24"><a href="#返回例子-24" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"count"</span>: &#123;</span><br><span class="line">    <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"total"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"unresolved"</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"gid"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"detail"</span>: &#123;</span><br><span class="line">    <span class="attr">"fault_roomtemp"</span>: &#123;</span><br><span class="line">      <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"total"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"unresolved"</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"location"</span>: &#123;</span><br><span class="line">    <span class="attr">"China"</span>: &#123;</span><br><span class="line">      <span class="attr">"count"</span>: &#123;</span><br><span class="line">        <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"total"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"unresolved"</span>: <span class="number">0</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"detail"</span>: &#123;</span><br><span class="line">        <span class="attr">"fault_roomtemp"</span>: &#123;</span><br><span class="line">          <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">"total"</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">"unresolved"</span>: <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="获取报警次数报表"><a href="#获取报警次数报表" class="headerlink" title="获取报警次数报表"></a>获取报警次数报表</h2><p>用于获取报警次数报表</p>
<p><strong>此接口仅可在国内环境使用</strong></p>
<p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/设备报表/get_v1_products_product_key_fault_alert_events" target="_blank" rel="noopener">调试接口</a></p>
<h4 id="请求类型及地址-27"><a href="#请求类型及地址-27" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET  
http://enterpriseapi.gizwits.com/v1/products/{product_key}/alert/report/devices
</code></pre><h4 id="请求参数-27"><a href="#请求参数-27" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">设备组 id</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-27"><a href="#响应参数-27" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备组 id</td>
</tr>
<tr>
<td style="text-align:left">detail</td>
<td style="text-align:left">object</td>
<td style="text-align:left">详情故障类数据点统计</td>
</tr>
<tr>
<td style="text-align:left">location</td>
<td style="text-align:left">object</td>
<td style="text-align:left">报警地理分布统计</td>
</tr>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">报警设备总数</td>
</tr>
<tr>
<td style="text-align:left">resolved</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">报警已解决数</td>
</tr>
<tr>
<td style="text-align:left">unresolved</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">报警未解决数</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-25"><a href="#返回例子-25" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"count"</span>: &#123;</span><br><span class="line">    <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"total"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"unresolved"</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"gid"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"detail"</span>: &#123;</span><br><span class="line">    <span class="attr">"alert_full"</span>: &#123;</span><br><span class="line">      <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"total"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"unresolved"</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"location"</span>: &#123;</span><br><span class="line">    <span class="attr">"China"</span>: &#123;</span><br><span class="line">      <span class="attr">"count"</span>: &#123;</span><br><span class="line">        <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"total"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"unresolved"</span>: <span class="number">0</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"detail"</span>: &#123;</span><br><span class="line">        <span class="attr">"alert_full"</span>: &#123;</span><br><span class="line">          <span class="attr">"resolved"</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">"total"</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">"unresolved"</span>: <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="用户报表"><a href="#用户报表" class="headerlink" title="用户报表"></a>用户报表</h1><h2 id="用户新增报表"><a href="#用户新增报表" class="headerlink" title="用户新增报表"></a>用户新增报表</h2><p><strong>此接口仅可在国内环境使用</strong></p>
<p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/用户报表/get_v1_products_product_key_users_report_new" target="_blank" rel="noopener">调试接口</a></p>
<p>这里指的是绑定了该 PK 下产品的新增用户</p>
<h4 id="日期查询说明："><a href="#日期查询说明：" class="headerlink" title="日期查询说明："></a>日期查询说明：</h4><ul>
<li>cycle 为 date 时，start,end的格式是年-月-日，example:2016-08-01,</li>
<li>cycle 为 week 时，start,end的格式是年-周，example:2016-51</li>
<li>cycle 为 month 时，start,end的格式为年-月，example:2016-12</li>
</ul>
<h4 id="请求类型及地址-28"><a href="#请求类型及地址-28" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET
http://enterpriseapi.gizwits.com/v1/products/{product_key}/users/report/new
</code></pre><h4 id="请求参数-28"><a href="#请求参数-28" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品名称</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">query</td>
<td style="text-align:left">设备组id</td>
</tr>
<tr>
<td style="text-align:left">cycle</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">统计周期，可以为 date、week、month</td>
</tr>
<tr>
<td style="text-align:left">start</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">query</td>
<td style="text-align:left">起始周期，为起始日期、起始周或起始月</td>
</tr>
<tr>
<td style="text-align:left">end</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">query</td>
<td style="text-align:left">结束周期，为结束日期、结束周或结束月</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-28"><a href="#响应参数-28" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">did</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备组 id</td>
</tr>
<tr>
<td style="text-align:left">cycle</td>
<td style="text-align:left">string</td>
<td style="text-align:left">周期，分为 month,week,date</td>
</tr>
<tr>
<td style="text-align:left">start</td>
<td style="text-align:left">string</td>
<td style="text-align:left">开始日期</td>
</tr>
<tr>
<td style="text-align:left">data</td>
<td style="text-align:left">string</td>
<td style="text-align:left">日期</td>
</tr>
<tr>
<td style="text-align:left">count</td>
<td style="text-align:left">string</td>
<td style="text-align:left">数量</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-26"><a href="#返回例子-26" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"start"</span>: <span class="string">"2017-12"</span>,</span><br><span class="line">  <span class="attr">"gid"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"end"</span>: <span class="string">"2017-12"</span>,</span><br><span class="line">  <span class="attr">"data"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"count"</span>: <span class="number">3</span>,</span><br><span class="line">      <span class="attr">"month"</span>: <span class="string">"2017-12"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"cycle"</span>: <span class="string">"month"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="企业活跃用户人数"><a href="#企业活跃用户人数" class="headerlink" title="企业活跃用户人数"></a>企业活跃用户人数</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/用户报表/get_v1_users_liveness_total" target="_blank" rel="noopener">调试接口</a></p>
<p>用于查询的是企业活跃用户人数</p>
<h4 id="请求类型及地址-29"><a href="#请求类型及地址-29" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET
http://enterpriseapi.gizwits.com/v1/users/liveness_total
</code></pre><h4 id="请求参数-29"><a href="#请求参数-29" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">X-Gizwits-Enterprise-ID</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">header</td>
<td style="text-align:left">enterprise id</td>
</tr>
<tr>
<td style="text-align:left">X-Gizwits-Enterprise-Secret</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">header</td>
<td style="text-align:left">enterprise secret</td>
</tr>
<tr>
<td style="text-align:left">product_secret</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">query</td>
<td style="text-align:left">产品标识码 product_key</td>
</tr>
<tr>
<td style="text-align:left">appid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">应用id</td>
</tr>
<tr>
<td style="text-align:left">start_date</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">query</td>
<td style="text-align:left">开始日期，如：2015-01-02</td>
</tr>
<tr>
<td style="text-align:left">end_date</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">query</td>
<td style="text-align:left">结束日期，如：2015-01-03</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-29"><a href="#响应参数-29" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">date</td>
<td style="text-align:left">string</td>
<td style="text-align:left">日期</td>
</tr>
<tr>
<td style="text-align:left">count</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">数量</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-27"><a href="#返回例子-27" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"data"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"count"</span>: <span class="number">2</span>,</span><br><span class="line">      <span class="attr">"date"</span>: <span class="string">"2017-12-13"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="用户地理分布"><a href="#用户地理分布" class="headerlink" title="用户地理分布"></a>用户地理分布</h2><p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/用户报表/get_v1_users_location" target="_blank" rel="noopener">调试接口</a></p>
<p>该接口用于查询的是企业用户地理分布</p>
<h4 id="请求类型及地址-30"><a href="#请求类型及地址-30" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code>GET
http://enterpriseapi.gizwits.com/v1/users/location
</code></pre><h4 id="请求参数-30"><a href="#请求参数-30" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">X-Gizwits-Enterprise-ID</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">header</td>
<td style="text-align:left">enterprise id</td>
</tr>
<tr>
<td style="text-align:left">X-Gizwits-Enterprise-Secret</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">header</td>
<td style="text-align:left">enterprise secret</td>
</tr>
<tr>
<td style="text-align:left">product_secret</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">query</td>
<td style="text-align:left">产品标识码 product_key</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-30"><a href="#响应参数-30" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">count</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">数 量</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-28"><a href="#返回例子-28" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"China"</span>: &#123;</span><br><span class="line">    <span class="attr">"count"</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="attr">"Beijing"</span>: &#123;</span><br><span class="line">      <span class="attr">"count"</span>: <span class="number">14</span>,</span><br><span class="line">      <span class="attr">"Beijing"</span>: &#123;</span><br><span class="line">        <span class="attr">"count"</span>: <span class="number">14</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"Guangdong"</span>: &#123;</span><br><span class="line">      <span class="attr">"count"</span>: <span class="number">4</span>,</span><br><span class="line">      <span class="attr">"Guangzhou"</span>: &#123;</span><br><span class="line">        <span class="attr">"count"</span>: <span class="number">4</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="用户总数报表"><a href="#用户总数报表" class="headerlink" title="用户总数报表"></a>用户总数报表</h2><p>用于查询用户空间表，获取曾经绑定过该 pk 设备的用户总数</p>
<p><a href="http://swagger.gizwits.com/doc/index/debug_enterprise#!/用户报表/get_v1_products_product_key_users_report_total" target="_blank" rel="noopener">调试接口</a></p>
<h4 id="请求类型及地址-31"><a href="#请求类型及地址-31" class="headerlink" title="请求类型及地址"></a>请求类型及地址</h4><pre><code> GET
http://enterpriseapi.gizwits.com/v1/products/{product_key}/users/report/total
</code></pre><h4 id="请求参数-31"><a href="#请求参数-31" class="headerlink" title="请求参数"></a>请求参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:center">必填</th>
<th style="text-align:left">参数类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">product_key</td>
<td style="text-align:left">string</td>
<td style="text-align:center">是</td>
<td style="text-align:left">path</td>
<td style="text-align:left">产品标识码</td>
</tr>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:center">否</td>
<td style="text-align:left">query</td>
<td style="text-align:left">设备组id</td>
</tr>
</tbody>
</table>
<h4 id="响应参数-31"><a href="#响应参数-31" class="headerlink" title="响应参数"></a>响应参数</h4><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">gid</td>
<td style="text-align:left">string</td>
<td style="text-align:left">设备组 id</td>
</tr>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">integer</td>
<td style="text-align:left">用户总数</td>
</tr>
</tbody>
</table>
<h4 id="返回例子-29"><a href="#返回例子-29" class="headerlink" title="返回例子"></a>返回例子</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"gid"</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">"total"</span>: <span class="number">31</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="错误信息表"><a href="#错误信息表" class="headerlink" title="错误信息表"></a>错误信息表</h1><table>
<thead>
<tr>
<th>响应码</th>
<th style="text-align:center">系统错误码</th>
<th style="text-align:left">错误信息描述</th>
<th style="text-align:left">解决办法</th>
</tr>
</thead>
<tbody>
<tr>
<td>400</td>
<td style="text-align:center">5001</td>
<td style="text-align:left">body json invalid</td>
<td style="text-align:left">核对json字串</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5002</td>
<td style="text-align:left">form invalid</td>
<td style="text-align:left">输入数据不对</td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5003</td>
<td style="text-align:left">enterprise id not exist</td>
<td style="text-align:left">Eid不存在，检查是否申请或者Eid输入错误</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5004</td>
<td style="text-align:left">enterprise secret error</td>
<td style="text-align:left">Esecret校验失败，检查是否是正确的</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5005</td>
<td style="text-align:left">product secret error</td>
<td style="text-align:left">Product Secret校验失败，检查是否是正确的</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5006</td>
<td style="text-align:left">product exist devicegroups</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5007</td>
<td style="text-align:left">association not exist</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5008</td>
<td style="text-align:left">association existed</td>
<td style="text-align:left">Eid没有与对应的Product Key 关联，请联系客服</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5009</td>
<td style="text-align:left">token invalid</td>
<td style="text-align:left">请携带token或检查token字段格式</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5010</td>
<td style="text-align:left">token not match product_key</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5011</td>
<td style="text-align:left">token has expired</td>
<td style="text-align:left">请再次获取token</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5012</td>
<td style="text-align:left">ip not in white list</td>
<td style="text-align:left">添加ip到ip企业数据访问白名单中</td>
</tr>
<tr>
<td>403</td>
<td style="text-align:center">5013</td>
<td style="text-align:left">API call rate limit execeed quota</td>
<td style="text-align:left">等待一定时间后再次使用此接口</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5014</td>
<td style="text-align:left">Report has not been generated!</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5015</td>
<td style="text-align:left">Product key not exist!</td>
<td style="text-align:left">核对产品Product Key是否正确</td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5016</td>
<td style="text-align:left">Appid not exist!</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5016</td>
<td style="text-align:left">Appid not exist!</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5017</td>
<td style="text-align:left">Uid not exist!</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>403</td>
<td style="text-align:center">5018</td>
<td style="text-align:left">product operation not allowed</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5019</td>
<td style="text-align:left">organization does not exist</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5020</td>
<td style="text-align:left">can not delete published product!</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5021</td>
<td style="text-align:left">enterprise is exist</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5022</td>
<td style="text-align:left">enterprise does not exist</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>403</td>
<td style="text-align:center">5023</td>
<td style="text-align:left">enterprise is creating</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>403</td>
<td style="text-align:center">5024</td>
<td style="text-align:left">api deny to visit!</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5025</td>
<td style="text-align:left">product does not exist</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>403</td>
<td style="text-align:center">5201</td>
<td style="text-align:left">device group not belong to this product</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5202</td>
<td style="text-align:left">parent group not exist</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5203</td>
<td style="text-align:left">already has one root group</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5204</td>
<td style="text-align:left">group has subgroup</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5205</td>
<td style="text-align:left">group has device item</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5206</td>
<td style="text-align:left">group not exist</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5207</td>
<td style="text-align:left">product key not in pre assignment!</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5208</td>
<td style="text-align:left">create assign device in progress!</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5301</td>
<td style="text-align:left">device not exist</td>
<td style="text-align:left">核对设备ID</td>
</tr>
<tr>
<td>403</td>
<td style="text-align:center">5302</td>
<td style="text-align:left">device not belong to this product</td>
<td style="text-align:left">请先将设备绑定到产品</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5303</td>
<td style="text-align:left">device not bound</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5304</td>
<td style="text-align:left">device is disabled</td>
<td style="text-align:left">激活设备</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5305</td>
<td style="text-align:left">device offline!</td>
<td style="text-align:left">上线设备</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5401</td>
<td style="text-align:left">attr invalid!</td>
<td style="text-align:left">核对数据点信息</td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5402</td>
<td style="text-align:left">datapoint data not found!</td>
<td style="text-align:left">先定义数据点,然后再次尝试</td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5403</td>
<td style="text-align:left">send command failed!</td>
<td style="text-align:left">请再次使用此接口</td>
</tr>
<tr>
<td>403</td>
<td style="text-align:center">5404</td>
<td style="text-align:left">remote control not allowed!</td>
<td style="text-align:left">远程控制操作需要后台开启</td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5405</td>
<td style="text-align:left">attrs not exist!</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>500</td>
<td style="text-align:center">5406</td>
<td style="text-align:left">Datapoints malformed</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>500</td>
<td style="text-align:center">5407</td>
<td style="text-align:left">generate meta failed</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5408</td>
<td style="text-align:left">raw data error!</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>500</td>
<td style="text-align:center">5409</td>
<td style="text-align:left">call innerapi failed!</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>404</td>
<td style="text-align:center">5501</td>
<td style="text-align:left">firmware does not exist</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5502</td>
<td style="text-align:left">firmware version has created</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>403</td>
<td style="text-align:center">5503</td>
<td style="text-align:left">firmware operation not allowed</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>500</td>
<td style="text-align:center">5601</td>
<td style="text-align:left">kairosdb query error!</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>403</td>
<td style="text-align:center">5701</td>
<td style="text-align:left">This eid has no permission to reset pwd.</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>403</td>
<td style="text-align:center">5702</td>
<td style="text-align:left">This eid has no permission to reset pwd for this appid.</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5703</td>
<td style="text-align:left">Cannot reset pwd for anonymous user</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5801</td>
<td style="text-align:left">the pks has not associate with enterprise!</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td>400</td>
<td style="text-align:center">5901</td>
<td style="text-align:left">x-service secret key invalid!</td>
</tr>
</tbody>
</table>

    </div>
    
    <div class="widget-wrapper">
  <span class="widget">
    <div>
        <a id='share' target="_blank" title="分享">
          <span>分享</span>
        </a>
        <div class="social-share" data-initialized="true">
            <a href="#" class="social-share-icon icon-wechat"></a>
            <a href="#" class="social-share-icon icon-weibo"></a>
            <a href="#" class="social-share-icon icon-qq"></a>
            <a href="#" class="social-share-icon icon-qzone"></a>
            <a href="#" class="social-share-icon icon-douban"></a>
        </div>
    </div>
    <a href="http://y0.cn/docs" target="_blank" title="项目登记">
      <span>项目登记</span>
    </a>
    <a href="https://github.com/gizwits-docs/gizwits-docs/issues" target="_blank" title="问题反馈">
      <span>问题反馈</span>
    </a>
    <a href="#" title="返回顶部"><i class="fa fa-angle-up fa-2x" aria-hidden="true"></i></a>
  </span>
</div>
  </div>
</div>

    <div class="footer">
  <div class="container">
    <p>
      <span><a href="http://www.gizwits.com" target="_blank">机智云首页</a></span>
      <span><a href="http://www.gizwits.com/about-us" target="_blank">关于我们</a></span>
      <span><a href="http://www.gizwits.com/about-us#contact-us" target="_blank">联系我们</a></span>
      <span><a href="http://www.gizwits.com/join-us" target="_blank">加入我们</a></span>
    </p>
    <p>&#169;2011-2017; Gizwits IoT Technology Co., Ltd. 粤ICP备11090211号</p>
  </div>
</div>

    <script src="/js/spin.min.js"></script>
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.hashchange.min.js"></script>
<script src="/js/clipboard.min.js"></script>
<script src="/js/scrollspy.js"></script>
<script src="/js/social-share.min.js"></script>
<script src="/js/documentation.js?v=fa1376e1d7301caad0eaad3833d277cf"></script>


<script type="text/javascript" src="http://webchat.7moor.com/javascripts/7moorInit.js?accessId=b01e0430-943a-11e6-8ad7-636675d9e71f&autoShow=true" async='async'></script>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?3787e6b3b29a084fde41f22828d89b7d";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>
  </body>
</html>